var VB=o=>{throw TypeError(o)};var Yh=(o,t,e)=>t.has(o)||VB("Cannot "+e);var ie=(o,t,e)=>(Yh(o,t,"read from private field"),e?e.call(o):t.get(o)),ss=(o,t,e)=>t.has(o)?VB("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e),lA=(o,t,e,A)=>(Yh(o,t,"write to private field"),A?A.call(o,e):t.set(o,e),e),ns=(o,t,e)=>(Yh(o,t,"access private method"),e);var zB=(o,t,e,A)=>({set _(i){lA(o,t,i,e)},get _(){return ie(o,t,A)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))A(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&A(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function A(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();var qh={exports:{}},rr={};var XB;function Wb(){if(XB)return rr;XB=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(A,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:o,type:A,key:l,ref:i!==void 0?i:null,props:a}}return rr.Fragment=t,rr.jsx=e,rr.jsxs=e,rr}var YB;function Zb(){return YB||(YB=1,qh.exports=Wb()),qh.exports}var g=Zb(),Jh={exports:{}},Ct={};var qB;function $b(){if(qB)return Ct;qB=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),w=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=w&&H[w]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function E(H,j,W){this.props=H,this.context=j,this.refs=x,this.updater=W||b}E.prototype.isReactComponent={},E.prototype.setState=function(H,j){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,j,"setState")},E.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function U(){}U.prototype=E.prototype;function S(H,j,W){this.props=H,this.context=j,this.refs=x,this.updater=W||b}var T=S.prototype=new U;T.constructor=S,y(T,E.prototype),T.isPureReactComponent=!0;var _=Array.isArray;function D(){}var F={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function K(H,j,W){var tt=W.ref;return{$$typeof:o,type:H,key:j,ref:tt!==void 0?tt:null,props:W}}function it(H,j){return K(H.type,j,H.props)}function G(H){return typeof H=="object"&&H!==null&&H.$$typeof===o}function q(H){var j={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(W){return j[W]})}var $=/\/+/g;function at(H,j){return typeof H=="object"&&H!==null&&H.key!=null?q(""+H.key):j.toString(36)}function rt(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(D,D):(H.status="pending",H.then(function(j){H.status==="pending"&&(H.status="fulfilled",H.value=j)},function(j){H.status==="pending"&&(H.status="rejected",H.reason=j)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function N(H,j,W,tt,nt){var ot=typeof H;(ot==="undefined"||ot==="boolean")&&(H=null);var lt=!1;if(H===null)lt=!0;else switch(ot){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(H.$$typeof){case o:case t:lt=!0;break;case f:return lt=H._init,N(lt(H._payload),j,W,tt,nt)}}if(lt)return nt=nt(H),lt=tt===""?"."+at(H,0):tt,_(nt)?(W="",lt!=null&&(W=lt.replace($,"$&/")+"/"),N(nt,j,W,"",function(ct){return ct})):nt!=null&&(G(nt)&&(nt=it(nt,W+(nt.key==null||H&&H.key===nt.key?"":(""+nt.key).replace($,"$&/")+"/")+lt)),j.push(nt)),1;lt=0;var St=tt===""?".":tt+":";if(_(H))for(var wt=0;wt<H.length;wt++)tt=H[wt],ot=St+at(tt,wt),lt+=N(tt,j,W,ot,nt);else if(wt=v(H),typeof wt=="function")for(H=wt.call(H),wt=0;!(tt=H.next()).done;)tt=tt.value,ot=St+at(tt,wt++),lt+=N(tt,j,W,ot,nt);else if(ot==="object"){if(typeof H.then=="function")return N(rt(H),j,W,tt,nt);throw j=String(H),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return lt}function M(H,j,W){if(H==null)return H;var tt=[],nt=0;return N(H,tt,"","",function(ot){return j.call(W,ot,nt++)}),tt}function R(H){if(H._status===-1){var j=H._result;j=j(),j.then(function(W){(H._status===0||H._status===-1)&&(H._status=1,H._result=W)},function(W){(H._status===0||H._status===-1)&&(H._status=2,H._result=W)}),H._status===-1&&(H._status=0,H._result=j)}if(H._status===1)return H._result.default;throw H._result}var z=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},st={map:M,forEach:function(H,j,W){M(H,function(){j.apply(this,arguments)},W)},count:function(H){var j=0;return M(H,function(){j++}),j},toArray:function(H){return M(H,function(j){return j})||[]},only:function(H){if(!G(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Ct.Activity=m,Ct.Children=st,Ct.Component=E,Ct.Fragment=e,Ct.Profiler=i,Ct.PureComponent=S,Ct.StrictMode=A,Ct.Suspense=h,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(H){return F.H.useMemoCache(H)}},Ct.cache=function(H){return function(){return H.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(H,j,W){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var tt=y({},H.props),nt=H.key;if(j!=null)for(ot in j.key!==void 0&&(nt=""+j.key),j)!O.call(j,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&j.ref===void 0||(tt[ot]=j[ot]);var ot=arguments.length-2;if(ot===1)tt.children=W;else if(1<ot){for(var lt=Array(ot),St=0;St<ot;St++)lt[St]=arguments[St+2];tt.children=lt}return K(H.type,nt,tt)},Ct.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},Ct.createElement=function(H,j,W){var tt,nt={},ot=null;if(j!=null)for(tt in j.key!==void 0&&(ot=""+j.key),j)O.call(j,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(nt[tt]=j[tt]);var lt=arguments.length-2;if(lt===1)nt.children=W;else if(1<lt){for(var St=Array(lt),wt=0;wt<lt;wt++)St[wt]=arguments[wt+2];nt.children=St}if(H&&H.defaultProps)for(tt in lt=H.defaultProps,lt)nt[tt]===void 0&&(nt[tt]=lt[tt]);return K(H,ot,nt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(H){return{$$typeof:c,render:H}},Ct.isValidElement=G,Ct.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:R}},Ct.memo=function(H,j){return{$$typeof:d,type:H,compare:j===void 0?null:j}},Ct.startTransition=function(H){var j=F.T,W={};F.T=W;try{var tt=H(),nt=F.S;nt!==null&&nt(W,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(D,z)}catch(ot){z(ot)}finally{j!==null&&W.types!==null&&(j.types=W.types),F.T=j}},Ct.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ct.use=function(H){return F.H.use(H)},Ct.useActionState=function(H,j,W){return F.H.useActionState(H,j,W)},Ct.useCallback=function(H,j){return F.H.useCallback(H,j)},Ct.useContext=function(H){return F.H.useContext(H)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(H,j){return F.H.useDeferredValue(H,j)},Ct.useEffect=function(H,j){return F.H.useEffect(H,j)},Ct.useEffectEvent=function(H){return F.H.useEffectEvent(H)},Ct.useId=function(){return F.H.useId()},Ct.useImperativeHandle=function(H,j,W){return F.H.useImperativeHandle(H,j,W)},Ct.useInsertionEffect=function(H,j){return F.H.useInsertionEffect(H,j)},Ct.useLayoutEffect=function(H,j){return F.H.useLayoutEffect(H,j)},Ct.useMemo=function(H,j){return F.H.useMemo(H,j)},Ct.useOptimistic=function(H,j){return F.H.useOptimistic(H,j)},Ct.useReducer=function(H,j,W){return F.H.useReducer(H,j,W)},Ct.useRef=function(H){return F.H.useRef(H)},Ct.useState=function(H){return F.H.useState(H)},Ct.useSyncExternalStore=function(H,j,W){return F.H.useSyncExternalStore(H,j,W)},Ct.useTransition=function(){return F.H.useTransition()},Ct.version="19.2.3",Ct}var JB;function vf(){return JB||(JB=1,Jh.exports=$b()),Jh.exports}var Y=vf(),Wh={exports:{}},or={},Zh={exports:{}},$h={};var WB;function t1(){return WB||(WB=1,(function(o){function t(N,M){var R=N.length;N.push(M);t:for(;0<R;){var z=R-1>>>1,st=N[z];if(0<i(st,M))N[z]=M,N[R]=st,R=z;else break t}}function e(N){return N.length===0?null:N[0]}function A(N){if(N.length===0)return null;var M=N[0],R=N.pop();if(R!==M){N[0]=R;t:for(var z=0,st=N.length,H=st>>>1;z<H;){var j=2*(z+1)-1,W=N[j],tt=j+1,nt=N[tt];if(0>i(W,R))tt<st&&0>i(nt,W)?(N[z]=nt,N[tt]=R,z=tt):(N[z]=W,N[j]=R,z=j);else if(tt<st&&0>i(nt,R))N[z]=nt,N[tt]=R,z=tt;else break t}}return M}function i(N,M){var R=N.sortIndex-M.sortIndex;return R!==0?R:N.id-M.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;o.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();o.unstable_now=function(){return l.now()-c}}var h=[],d=[],f=1,m=null,w=3,v=!1,b=!1,y=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(N){for(var M=e(d);M!==null;){if(M.callback===null)A(d);else if(M.startTime<=N)A(d),M.sortIndex=M.expirationTime,t(h,M);else break;M=e(d)}}function _(N){if(y=!1,T(N),!b)if(e(h)!==null)b=!0,D||(D=!0,q());else{var M=e(d);M!==null&&rt(_,M.startTime-N)}}var D=!1,F=-1,O=5,K=-1;function it(){return x?!0:!(o.unstable_now()-K<O)}function G(){if(x=!1,D){var N=o.unstable_now();K=N;var M=!0;try{t:{b=!1,y&&(y=!1,U(F),F=-1),v=!0;var R=w;try{e:{for(T(N),m=e(h);m!==null&&!(m.expirationTime>N&&it());){var z=m.callback;if(typeof z=="function"){m.callback=null,w=m.priorityLevel;var st=z(m.expirationTime<=N);if(N=o.unstable_now(),typeof st=="function"){m.callback=st,T(N),M=!0;break e}m===e(h)&&A(h),T(N)}else A(h);m=e(h)}if(m!==null)M=!0;else{var H=e(d);H!==null&&rt(_,H.startTime-N),M=!1}}break t}finally{m=null,w=R,v=!1}M=void 0}}finally{M?q():D=!1}}}var q;if(typeof S=="function")q=function(){S(G)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,at=$.port2;$.port1.onmessage=G,q=function(){at.postMessage(null)}}else q=function(){E(G,0)};function rt(N,M){F=E(function(){N(o.unstable_now())},M)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(N){N.callback=null},o.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},o.unstable_getCurrentPriorityLevel=function(){return w},o.unstable_next=function(N){switch(w){case 1:case 2:case 3:var M=3;break;default:M=w}var R=w;w=M;try{return N()}finally{w=R}},o.unstable_requestPaint=function(){x=!0},o.unstable_runWithPriority=function(N,M){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var R=w;w=N;try{return M()}finally{w=R}},o.unstable_scheduleCallback=function(N,M,R){var z=o.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?z+R:z):R=z,N){case 1:var st=-1;break;case 2:st=250;break;case 5:st=1073741823;break;case 4:st=1e4;break;default:st=5e3}return st=R+st,N={id:f++,callback:M,priorityLevel:N,startTime:R,expirationTime:st,sortIndex:-1},R>z?(N.sortIndex=R,t(d,N),e(h)===null&&N===e(d)&&(y?(U(F),F=-1):y=!0,rt(_,R-z))):(N.sortIndex=st,t(h,N),b||v||(b=!0,D||(D=!0,q()))),N},o.unstable_shouldYield=it,o.unstable_wrapCallback=function(N){var M=w;return function(){var R=w;w=M;try{return N.apply(this,arguments)}finally{w=R}}}})($h)),$h}var ZB;function e1(){return ZB||(ZB=1,Zh.exports=t1()),Zh.exports}var td={exports:{}},Ve={};var $B;function A1(){if($B)return Ve;$B=1;var o=vf();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var A={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(h,d,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:h,containerInfo:d,implementation:f}}var l=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ve.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ve.createPortal=function(h,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(h,d,null,f)},Ve.flushSync=function(h){var d=l.T,f=A.p;try{if(l.T=null,A.p=2,h)return h()}finally{l.T=d,A.p=f,A.d.f()}},Ve.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,A.d.C(h,d))},Ve.prefetchDNS=function(h){typeof h=="string"&&A.d.D(h)},Ve.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var f=d.as,m=c(f,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?A.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:w,fetchPriority:v}):f==="script"&&A.d.X(h,{crossOrigin:m,integrity:w,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ve.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=c(d.as,d.crossOrigin);A.d.M(h,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&A.d.M(h)},Ve.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,m=c(f,d.crossOrigin);A.d.L(h,f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ve.preloadModule=function(h,d){if(typeof h=="string")if(d){var f=c(d.as,d.crossOrigin);A.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else A.d.m(h)},Ve.requestFormReset=function(h){A.d.r(h)},Ve.unstable_batchedUpdates=function(h,d){return h(d)},Ve.useFormState=function(h,d,f){return l.H.useFormState(h,d,f)},Ve.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ve.version="19.2.3",Ve}var t0;function Iw(){if(t0)return td.exports;t0=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),td.exports=A1(),td.exports}var e0;function s1(){if(e0)return or;e0=1;var o=e1(),t=vf(),e=Iw();function A(s){var n="https://react.dev/errors/"+s;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+s+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var n=s,r=s;if(s.alternate)for(;n.return;)n=n.return;else{s=n;do n=s,(n.flags&4098)!==0&&(r=n.return),s=n.return;while(s)}return n.tag===3?r:null}function l(s){if(s.tag===13){var n=s.memoizedState;if(n===null&&(s=s.alternate,s!==null&&(n=s.memoizedState)),n!==null)return n.dehydrated}return null}function c(s){if(s.tag===31){var n=s.memoizedState;if(n===null&&(s=s.alternate,s!==null&&(n=s.memoizedState)),n!==null)return n.dehydrated}return null}function h(s){if(a(s)!==s)throw Error(A(188))}function d(s){var n=s.alternate;if(!n){if(n=a(s),n===null)throw Error(A(188));return n!==s?null:s}for(var r=s,u=n;;){var p=r.return;if(p===null)break;var B=p.alternate;if(B===null){if(u=p.return,u!==null){r=u;continue}break}if(p.child===B.child){for(B=p.child;B;){if(B===r)return h(p),s;if(B===u)return h(p),n;B=B.sibling}throw Error(A(188))}if(r.return!==u.return)r=p,u=B;else{for(var C=!1,Q=p.child;Q;){if(Q===r){C=!0,r=p,u=B;break}if(Q===u){C=!0,u=p,r=B;break}Q=Q.sibling}if(!C){for(Q=B.child;Q;){if(Q===r){C=!0,r=B,u=p;break}if(Q===u){C=!0,u=B,r=p;break}Q=Q.sibling}if(!C)throw Error(A(189))}}if(r.alternate!==u)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?s:n}function f(s){var n=s.tag;if(n===5||n===26||n===27||n===6)return s;for(s=s.child;s!==null;){if(n=f(s),n!==null)return n;s=s.sibling}return null}var m=Object.assign,w=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var $=Symbol.for("react.client.reference");function at(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===$?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case y:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case _:return"Suspense";case D:return"SuspenseList";case K:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case S:return s.displayName||"Context";case U:return(s._context.displayName||"Context")+".Consumer";case T:var n=s.render;return s=s.displayName,s||(s=n.displayName||n.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return n=s.displayName||null,n!==null?n:at(s.type)||"Memo";case O:n=s._payload,s=s._init;try{return at(s(n))}catch{}}return null}var rt=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},z=[],st=-1;function H(s){return{current:s}}function j(s){0>st||(s.current=z[st],z[st]=null,st--)}function W(s,n){st++,z[st]=s.current,s.current=n}var tt=H(null),nt=H(null),ot=H(null),lt=H(null);function St(s,n){switch(W(ot,n),W(nt,s),W(tt,null),n.nodeType){case 9:case 11:s=(s=n.documentElement)&&(s=s.namespaceURI)?fB(s):0;break;default:if(s=n.tagName,n=n.namespaceURI)n=fB(n),s=gB(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}j(tt),W(tt,s)}function wt(){j(tt),j(nt),j(ot)}function ct(s){s.memoizedState!==null&&W(lt,s);var n=tt.current,r=gB(n,s.type);n!==r&&(W(nt,s),W(tt,r))}function Mt(s){nt.current===s&&(j(tt),j(nt)),lt.current===s&&(j(lt),sr._currentValue=R)}var Wt,Ye;function ce(s){if(Wt===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Wt=n&&n[1]||"",Ye=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wt+s+Ye}var qe=!1;function xn(s,n){if(!s||qe)return"";qe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var At=function(){throw Error()};if(Object.defineProperty(At.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(At,[])}catch(J){var X=J}Reflect.construct(s,[],At)}else{try{At.call()}catch(J){X=J}s.call(At.prototype)}}else{try{throw Error()}catch(J){X=J}(At=s())&&typeof At.catch=="function"&&At.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=u.DetermineComponentFrameRoot(),C=B[0],Q=B[1];if(C&&Q){var L=C.split(`
`),V=Q.split(`
`);for(p=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;p<V.length&&!V[p].includes("DetermineComponentFrameRoot");)p++;if(u===L.length||p===V.length)for(u=L.length-1,p=V.length-1;1<=u&&0<=p&&L[u]!==V[p];)p--;for(;1<=u&&0<=p;u--,p--)if(L[u]!==V[p]){if(u!==1||p!==1)do if(u--,p--,0>p||L[u]!==V[p]){var Z=`
`+L[u].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=u&&0<=p);break}}}finally{qe=!1,Error.prepareStackTrace=r}return(r=s?s.displayName||s.name:"")?ce(r):""}function fa(s,n){switch(s.tag){case 26:case 27:case 5:return ce(s.type);case 16:return ce("Lazy");case 13:return s.child!==n&&n!==null?ce("Suspense Fallback"):ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return xn(s.type,!1);case 11:return xn(s.type.render,!1);case 1:return xn(s.type,!0);case 31:return ce("Activity");default:return""}}function yt(s){try{var n="",r=null;do n+=fa(s,r),r=s,s=s.return;while(s);return n}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var te=Object.prototype.hasOwnProperty,QA=o.unstable_scheduleCallback,Sn=o.unstable_cancelCallback,ds=o.unstable_shouldYield,Ty=o.unstable_requestPaint,fA=o.unstable_now,_y=o.unstable_getCurrentPriorityLevel,zf=o.unstable_ImmediatePriority,Xf=o.unstable_UserBlockingPriority,to=o.unstable_NormalPriority,Dy=o.unstable_LowPriority,Yf=o.unstable_IdlePriority,Ny=o.log,Hy=o.unstable_setDisableYieldValue,ga=null,gA=null;function Os(s){if(typeof Ny=="function"&&Hy(s),gA&&typeof gA.setStrictMode=="function")try{gA.setStrictMode(ga,s)}catch{}}var pA=Math.clz32?Math.clz32:My,Ly=Math.log,Iy=Math.LN2;function My(s){return s>>>=0,s===0?32:31-(Ly(s)/Iy|0)|0}var eo=256,Ao=262144,so=4194304;function Qn(s){var n=s&42;if(n!==0)return n;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function no(s,n,r){var u=s.pendingLanes;if(u===0)return 0;var p=0,B=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var Q=u&134217727;return Q!==0?(u=Q&~B,u!==0?p=Qn(u):(C&=Q,C!==0?p=Qn(C):r||(r=Q&~s,r!==0&&(p=Qn(r))))):(Q=u&~B,Q!==0?p=Qn(Q):C!==0?p=Qn(C):r||(r=u&~s,r!==0&&(p=Qn(r)))),p===0?0:n!==0&&n!==p&&(n&B)===0&&(B=p&-p,r=n&-n,B>=r||B===32&&(r&4194048)!==0)?n:p}function pa(s,n){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&n)===0}function Ry(s,n){switch(s){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qf(){var s=so;return so<<=1,(so&62914560)===0&&(so=4194304),s}function Ic(s){for(var n=[],r=0;31>r;r++)n.push(s);return n}function ma(s,n){s.pendingLanes|=n,n!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Oy(s,n,r,u,p,B){var C=s.pendingLanes;s.pendingLanes=r,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=r,s.entangledLanes&=r,s.errorRecoveryDisabledLanes&=r,s.shellSuspendCounter=0;var Q=s.entanglements,L=s.expirationTimes,V=s.hiddenUpdates;for(r=C&~r;0<r;){var Z=31-pA(r),At=1<<Z;Q[Z]=0,L[Z]=-1;var X=V[Z];if(X!==null)for(V[Z]=null,Z=0;Z<X.length;Z++){var J=X[Z];J!==null&&(J.lane&=-536870913)}r&=~At}u!==0&&Jf(s,u,0),B!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=B&~(C&~n))}function Jf(s,n,r){s.pendingLanes|=n,s.suspendedLanes&=~n;var u=31-pA(n);s.entangledLanes|=n,s.entanglements[u]=s.entanglements[u]|1073741824|r&261930}function Wf(s,n){var r=s.entangledLanes|=n;for(s=s.entanglements;r;){var u=31-pA(r),p=1<<u;p&n|s[u]&n&&(s[u]|=n),r&=~p}}function Zf(s,n){var r=n&-n;return r=(r&42)!==0?1:Mc(r),(r&(s.suspendedLanes|n))!==0?0:r}function Mc(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Rc(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $f(){var s=M.p;return s!==0?s:(s=window.event,s===void 0?32:RB(s.type))}function tg(s,n){var r=M.p;try{return M.p=s,n()}finally{M.p=r}}var ks=Math.random().toString(36).slice(2),He="__reactFiber$"+ks,AA="__reactProps$"+ks,ni="__reactContainer$"+ks,Oc="__reactEvents$"+ks,ky="__reactListeners$"+ks,jy="__reactHandles$"+ks,eg="__reactResources$"+ks,Ba="__reactMarker$"+ks;function kc(s){delete s[He],delete s[AA],delete s[Oc],delete s[ky],delete s[jy]}function ii(s){var n=s[He];if(n)return n;for(var r=s.parentNode;r;){if(n=r[ni]||r[He]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(s=CB(s);s!==null;){if(r=s[He])return r;s=CB(s)}return n}s=r,r=s.parentNode}return null}function ai(s){if(s=s[He]||s[ni]){var n=s.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return s}return null}function wa(s){var n=s.tag;if(n===5||n===26||n===27||n===6)return s.stateNode;throw Error(A(33))}function ri(s){var n=s[eg];return n||(n=s[eg]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Fe(s){s[Ba]=!0}var Ag=new Set,sg={};function Un(s,n){oi(s,n),oi(s+"Capture",n)}function oi(s,n){for(sg[s]=n,s=0;s<n.length;s++)Ag.add(n[s])}var Ky=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ng={},ig={};function Py(s){return te.call(ig,s)?!0:te.call(ng,s)?!1:Ky.test(s)?ig[s]=!0:(ng[s]=!0,!1)}function io(s,n,r){if(Py(n))if(r===null)s.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":s.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(n);return}}s.setAttribute(n,""+r)}}function ao(s,n,r){if(r===null)s.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(n);return}s.setAttribute(n,""+r)}}function fs(s,n,r,u){if(u===null)s.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttributeNS(n,r,""+u)}}function UA(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ag(s){var n=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gy(s,n,r){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,n);if(!s.hasOwnProperty(n)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,B=u.set;return Object.defineProperty(s,n,{configurable:!0,get:function(){return p.call(this)},set:function(C){r=""+C,B.call(this,C)}}),Object.defineProperty(s,n,{enumerable:u.enumerable}),{getValue:function(){return r},setValue:function(C){r=""+C},stopTracking:function(){s._valueTracker=null,delete s[n]}}}}function jc(s){if(!s._valueTracker){var n=ag(s)?"checked":"value";s._valueTracker=Gy(s,n,""+s[n])}}function rg(s){if(!s)return!1;var n=s._valueTracker;if(!n)return!0;var r=n.getValue(),u="";return s&&(u=ag(s)?s.checked?"true":"false":s.value),s=u,s!==r?(n.setValue(s),!0):!1}function ro(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Vy=/[\n"\\]/g;function FA(s){return s.replace(Vy,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Kc(s,n,r,u,p,B,C,Q){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),n!=null?C==="number"?(n===0&&s.value===""||s.value!=n)&&(s.value=""+UA(n)):s.value!==""+UA(n)&&(s.value=""+UA(n)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),n!=null?Pc(s,C,UA(n)):r!=null?Pc(s,C,UA(r)):u!=null&&s.removeAttribute("value"),p==null&&B!=null&&(s.defaultChecked=!!B),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?s.name=""+UA(Q):s.removeAttribute("name")}function og(s,n,r,u,p,B,C,Q){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(s.type=B),n!=null||r!=null){if(!(B!=="submit"&&B!=="reset"||n!=null)){jc(s);return}r=r!=null?""+UA(r):"",n=n!=null?""+UA(n):r,Q||n===s.value||(s.value=n),s.defaultValue=n}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=Q?s.checked:!!u,s.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C),jc(s)}function Pc(s,n,r){n==="number"&&ro(s.ownerDocument)===s||s.defaultValue===""+r||(s.defaultValue=""+r)}function li(s,n,r,u){if(s=s.options,n){n={};for(var p=0;p<r.length;p++)n["$"+r[p]]=!0;for(r=0;r<s.length;r++)p=n.hasOwnProperty("$"+s[r].value),s[r].selected!==p&&(s[r].selected=p),p&&u&&(s[r].defaultSelected=!0)}else{for(r=""+UA(r),n=null,p=0;p<s.length;p++){if(s[p].value===r){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}n!==null||s[p].disabled||(n=s[p])}n!==null&&(n.selected=!0)}}function lg(s,n,r){if(n!=null&&(n=""+UA(n),n!==s.value&&(s.value=n),r==null)){s.defaultValue!==n&&(s.defaultValue=n);return}s.defaultValue=r!=null?""+UA(r):""}function cg(s,n,r,u){if(n==null){if(u!=null){if(r!=null)throw Error(A(92));if(rt(u)){if(1<u.length)throw Error(A(93));u=u[0]}r=u}r==null&&(r=""),n=r}r=UA(n),s.defaultValue=r,u=s.textContent,u===r&&u!==""&&u!==null&&(s.value=u),jc(s)}function ci(s,n){if(n){var r=s.firstChild;if(r&&r===s.lastChild&&r.nodeType===3){r.nodeValue=n;return}}s.textContent=n}var zy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ug(s,n,r){var u=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?s.setProperty(n,""):n==="float"?s.cssFloat="":s[n]="":u?s.setProperty(n,r):typeof r!="number"||r===0||zy.has(n)?n==="float"?s.cssFloat=r:s[n]=(""+r).trim():s[n]=r+"px"}function hg(s,n,r){if(n!=null&&typeof n!="object")throw Error(A(62));if(s=s.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in n)u=n[p],n.hasOwnProperty(p)&&r[p]!==u&&ug(s,p,u)}else for(var B in n)n.hasOwnProperty(B)&&ug(s,B,n[B])}function Gc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(s){return Yy.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function gs(){}var Vc=null;function zc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ui=null,hi=null;function dg(s){var n=ai(s);if(n&&(s=n.stateNode)){var r=s[AA]||null;t:switch(s=n.stateNode,n.type){case"input":if(Kc(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=s;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+FA(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var u=r[n];if(u!==s&&u.form===s.form){var p=u[AA]||null;if(!p)throw Error(A(90));Kc(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<r.length;n++)u=r[n],u.form===s.form&&rg(u)}break t;case"textarea":lg(s,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&li(s,!!r.multiple,n,!1)}}}var Xc=!1;function fg(s,n,r){if(Xc)return s(n,r);Xc=!0;try{var u=s(n);return u}finally{if(Xc=!1,(ui!==null||hi!==null)&&(Jo(),ui&&(n=ui,s=hi,hi=ui=null,dg(n),s)))for(n=0;n<s.length;n++)dg(s[n])}}function va(s,n){var r=s.stateNode;if(r===null)return null;var u=r[AA]||null;if(u===null)return null;r=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(r&&typeof r!="function")throw Error(A(231,n,typeof r));return r}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yc=!1;if(ps)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){Yc=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{Yc=!1}var js=null,qc=null,lo=null;function gg(){if(lo)return lo;var s,n=qc,r=n.length,u,p="value"in js?js.value:js.textContent,B=p.length;for(s=0;s<r&&n[s]===p[s];s++);var C=r-s;for(u=1;u<=C&&n[r-u]===p[B-u];u++);return lo=p.slice(s,1<u?1-u:void 0)}function co(s){var n=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&n===13&&(s=13)):s=n,s===10&&(s=13),32<=s||s===13?s:0}function uo(){return!0}function pg(){return!1}function sA(s){function n(r,u,p,B,C){this._reactName=r,this._targetInst=p,this.type=u,this.nativeEvent=B,this.target=C,this.currentTarget=null;for(var Q in s)s.hasOwnProperty(Q)&&(r=s[Q],this[Q]=r?r(B):B[Q]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?uo:pg,this.isPropagationStopped=pg,this}return m(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uo)},persist:function(){},isPersistent:uo}),n}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=sA(Fn),Ca=m({},Fn,{view:0,detail:0}),qy=sA(Ca),Jc,Wc,ba,fo=m({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ba&&(ba&&s.type==="mousemove"?(Jc=s.screenX-ba.screenX,Wc=s.screenY-ba.screenY):Wc=Jc=0,ba=s),Jc)},movementY:function(s){return"movementY"in s?s.movementY:Wc}}),mg=sA(fo),Jy=m({},fo,{dataTransfer:0}),Wy=sA(Jy),Zy=m({},Ca,{relatedTarget:0}),Zc=sA(Zy),$y=m({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),tC=sA($y),eC=m({},Fn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),AC=sA(eC),sC=m({},Fn,{data:0}),Bg=sA(sC),nC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rC(s){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(s):(s=aC[s])?!!n[s]:!1}function $c(){return rC}var oC=m({},Ca,{key:function(s){if(s.key){var n=nC[s.key]||s.key;if(n!=="Unidentified")return n}return s.type==="keypress"?(s=co(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?iC[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(s){return s.type==="keypress"?co(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?co(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),lC=sA(oC),cC=m({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wg=sA(cC),uC=m({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),hC=sA(uC),dC=m({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),fC=sA(dC),gC=m({},fo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),pC=sA(gC),mC=m({},Fn,{newState:0,oldState:0}),BC=sA(mC),wC=[9,13,27,32],tu=ps&&"CompositionEvent"in window,Ea=null;ps&&"documentMode"in document&&(Ea=document.documentMode);var vC=ps&&"TextEvent"in window&&!Ea,vg=ps&&(!tu||Ea&&8<Ea&&11>=Ea),yg=" ",Cg=!1;function bg(s,n){switch(s){case"keyup":return wC.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var di=!1;function yC(s,n){switch(s){case"compositionend":return Eg(n);case"keypress":return n.which!==32?null:(Cg=!0,yg);case"textInput":return s=n.data,s===yg&&Cg?null:s;default:return null}}function CC(s,n){if(di)return s==="compositionend"||!tu&&bg(s,n)?(s=gg(),lo=qc=js=null,di=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vg&&n.locale!=="ko"?null:n.data;default:return null}}var bC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n==="input"?!!bC[s.type]:n==="textarea"}function Sg(s,n,r,u){ui?hi?hi.push(u):hi=[u]:ui=u,n=sl(n,"onChange"),0<n.length&&(r=new ho("onChange","change",null,r,u),s.push({event:r,listeners:n}))}var xa=null,Sa=null;function EC(s){oB(s,0)}function go(s){var n=wa(s);if(rg(n))return s}function Qg(s,n){if(s==="change")return n}var Ug=!1;if(ps){var eu;if(ps){var Au="oninput"in document;if(!Au){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Au=typeof Fg.oninput=="function"}eu=Au}else eu=!1;Ug=eu&&(!document.documentMode||9<document.documentMode)}function Tg(){xa&&(xa.detachEvent("onpropertychange",_g),Sa=xa=null)}function _g(s){if(s.propertyName==="value"&&go(Sa)){var n=[];Sg(n,Sa,s,zc(s)),fg(EC,n)}}function xC(s,n,r){s==="focusin"?(Tg(),xa=n,Sa=r,xa.attachEvent("onpropertychange",_g)):s==="focusout"&&Tg()}function SC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return go(Sa)}function QC(s,n){if(s==="click")return go(n)}function UC(s,n){if(s==="input"||s==="change")return go(n)}function FC(s,n){return s===n&&(s!==0||1/s===1/n)||s!==s&&n!==n}var mA=typeof Object.is=="function"?Object.is:FC;function Qa(s,n){if(mA(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null)return!1;var r=Object.keys(s),u=Object.keys(n);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var p=r[u];if(!te.call(n,p)||!mA(s[p],n[p]))return!1}return!0}function Dg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ng(s,n){var r=Dg(s);s=0;for(var u;r;){if(r.nodeType===3){if(u=s+r.textContent.length,s<=n&&u>=n)return{node:r,offset:n-s};s=u}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Dg(r)}}function Hg(s,n){return s&&n?s===n?!0:s&&s.nodeType===3?!1:n&&n.nodeType===3?Hg(s,n.parentNode):"contains"in s?s.contains(n):s.compareDocumentPosition?!!(s.compareDocumentPosition(n)&16):!1:!1}function Lg(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var n=ro(s.document);n instanceof s.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)s=n.contentWindow;else break;n=ro(s.document)}return n}function su(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n&&(n==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||n==="textarea"||s.contentEditable==="true")}var TC=ps&&"documentMode"in document&&11>=document.documentMode,fi=null,nu=null,Ua=null,iu=!1;function Ig(s,n,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;iu||fi==null||fi!==ro(u)||(u=fi,"selectionStart"in u&&su(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ua&&Qa(Ua,u)||(Ua=u,u=sl(nu,"onSelect"),0<u.length&&(n=new ho("onSelect","select",null,n,r),s.push({event:n,listeners:u}),n.target=fi)))}function Tn(s,n){var r={};return r[s.toLowerCase()]=n.toLowerCase(),r["Webkit"+s]="webkit"+n,r["Moz"+s]="moz"+n,r}var gi={animationend:Tn("Animation","AnimationEnd"),animationiteration:Tn("Animation","AnimationIteration"),animationstart:Tn("Animation","AnimationStart"),transitionrun:Tn("Transition","TransitionRun"),transitionstart:Tn("Transition","TransitionStart"),transitioncancel:Tn("Transition","TransitionCancel"),transitionend:Tn("Transition","TransitionEnd")},au={},Mg={};ps&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function _n(s){if(au[s])return au[s];if(!gi[s])return s;var n=gi[s],r;for(r in n)if(n.hasOwnProperty(r)&&r in Mg)return au[s]=n[r];return s}var Rg=_n("animationend"),Og=_n("animationiteration"),kg=_n("animationstart"),_C=_n("transitionrun"),DC=_n("transitionstart"),NC=_n("transitioncancel"),jg=_n("transitionend"),Kg=new Map,ru="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ru.push("scrollEnd");function zA(s,n){Kg.set(s,n),Un(n,[s])}var po=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},TA=[],pi=0,ou=0;function mo(){for(var s=pi,n=ou=pi=0;n<s;){var r=TA[n];TA[n++]=null;var u=TA[n];TA[n++]=null;var p=TA[n];TA[n++]=null;var B=TA[n];if(TA[n++]=null,u!==null&&p!==null){var C=u.pending;C===null?p.next=p:(p.next=C.next,C.next=p),u.pending=p}B!==0&&Pg(r,p,B)}}function Bo(s,n,r,u){TA[pi++]=s,TA[pi++]=n,TA[pi++]=r,TA[pi++]=u,ou|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function lu(s,n,r,u){return Bo(s,n,r,u),wo(s)}function Dn(s,n){return Bo(s,null,null,n),wo(s)}function Pg(s,n,r){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r);for(var p=!1,B=s.return;B!==null;)B.childLanes|=r,u=B.alternate,u!==null&&(u.childLanes|=r),B.tag===22&&(s=B.stateNode,s===null||s._visibility&1||(p=!0)),s=B,B=B.return;return s.tag===3?(B=s.stateNode,p&&n!==null&&(p=31-pA(r),s=B.hiddenUpdates,u=s[p],u===null?s[p]=[n]:u.push(n),n.lane=r|536870912),B):null}function wo(s){if(50<Ja)throw Ja=0,Bh=null,Error(A(185));for(var n=s.return;n!==null;)s=n,n=s.return;return s.tag===3?s.stateNode:null}var mi={};function HC(s,n,r,u){this.tag=s,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function BA(s,n,r,u){return new HC(s,n,r,u)}function cu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ms(s,n){var r=s.alternate;return r===null?(r=BA(s.tag,n,s.key,s.mode),r.elementType=s.elementType,r.type=s.type,r.stateNode=s.stateNode,r.alternate=s,s.alternate=r):(r.pendingProps=n,r.type=s.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=s.flags&65011712,r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,n=s.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=s.sibling,r.index=s.index,r.ref=s.ref,r.refCleanup=s.refCleanup,r}function Gg(s,n){s.flags&=65011714;var r=s.alternate;return r===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,s.type=r.type,n=r.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),s}function vo(s,n,r,u,p,B){var C=0;if(u=s,typeof s=="function")cu(s)&&(C=1);else if(typeof s=="string")C=Ob(s,r,tt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case K:return s=BA(31,r,n,p),s.elementType=K,s.lanes=B,s;case y:return Nn(r.children,p,B,n);case x:C=8,p|=24;break;case E:return s=BA(12,r,n,p|2),s.elementType=E,s.lanes=B,s;case _:return s=BA(13,r,n,p),s.elementType=_,s.lanes=B,s;case D:return s=BA(19,r,n,p),s.elementType=D,s.lanes=B,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case S:C=10;break t;case U:C=9;break t;case T:C=11;break t;case F:C=14;break t;case O:C=16,u=null;break t}C=29,r=Error(A(130,s===null?"null":typeof s,"")),u=null}return n=BA(C,r,n,p),n.elementType=s,n.type=u,n.lanes=B,n}function Nn(s,n,r,u){return s=BA(7,s,u,n),s.lanes=r,s}function uu(s,n,r){return s=BA(6,s,null,n),s.lanes=r,s}function Vg(s){var n=BA(18,null,null,0);return n.stateNode=s,n}function hu(s,n,r){return n=BA(4,s.children!==null?s.children:[],s.key,n),n.lanes=r,n.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},n}var zg=new WeakMap;function _A(s,n){if(typeof s=="object"&&s!==null){var r=zg.get(s);return r!==void 0?r:(n={value:s,source:n,stack:yt(n)},zg.set(s,n),n)}return{value:s,source:n,stack:yt(n)}}var Bi=[],wi=0,yo=null,Fa=0,DA=[],NA=0,Ks=null,$A=1,ts="";function Bs(s,n){Bi[wi++]=Fa,Bi[wi++]=yo,yo=s,Fa=n}function Xg(s,n,r){DA[NA++]=$A,DA[NA++]=ts,DA[NA++]=Ks,Ks=s;var u=$A;s=ts;var p=32-pA(u)-1;u&=~(1<<p),r+=1;var B=32-pA(n)+p;if(30<B){var C=p-p%5;B=(u&(1<<C)-1).toString(32),u>>=C,p-=C,$A=1<<32-pA(n)+p|r<<p|u,ts=B+s}else $A=1<<B|r<<p|u,ts=s}function du(s){s.return!==null&&(Bs(s,1),Xg(s,1,0))}function fu(s){for(;s===yo;)yo=Bi[--wi],Bi[wi]=null,Fa=Bi[--wi],Bi[wi]=null;for(;s===Ks;)Ks=DA[--NA],DA[NA]=null,ts=DA[--NA],DA[NA]=null,$A=DA[--NA],DA[NA]=null}function Yg(s,n){DA[NA++]=$A,DA[NA++]=ts,DA[NA++]=Ks,$A=n.id,ts=n.overflow,Ks=s}var Le=null,Ae=null,Ht=!1,Ps=null,HA=!1,gu=Error(A(519));function Gs(s){var n=Error(A(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ta(_A(n,s)),gu}function qg(s){var n=s.stateNode,r=s.type,u=s.memoizedProps;switch(n[He]=s,n[AA]=u,r){case"dialog":Tt("cancel",n),Tt("close",n);break;case"iframe":case"object":case"embed":Tt("load",n);break;case"video":case"audio":for(r=0;r<Za.length;r++)Tt(Za[r],n);break;case"source":Tt("error",n);break;case"img":case"image":case"link":Tt("error",n),Tt("load",n);break;case"details":Tt("toggle",n);break;case"input":Tt("invalid",n),og(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Tt("invalid",n);break;case"textarea":Tt("invalid",n),cg(n,u.value,u.defaultValue,u.children)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||u.suppressHydrationWarning===!0||hB(n.textContent,r)?(u.popover!=null&&(Tt("beforetoggle",n),Tt("toggle",n)),u.onScroll!=null&&Tt("scroll",n),u.onScrollEnd!=null&&Tt("scrollend",n),u.onClick!=null&&(n.onclick=gs),n=!0):n=!1,n||Gs(s,!0)}function Jg(s){for(Le=s.return;Le;)switch(Le.tag){case 5:case 31:case 13:HA=!1;return;case 27:case 3:HA=!0;return;default:Le=Le.return}}function vi(s){if(s!==Le)return!1;if(!Ht)return Jg(s),Ht=!0,!1;var n=s.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=s.type,r=!(r!=="form"&&r!=="button")||Nh(s.type,s.memoizedProps)),r=!r),r&&Ae&&Gs(s),Jg(s),n===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(317));Ae=yB(s)}else if(n===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(317));Ae=yB(s)}else n===27?(n=Ae,nn(s.type)?(s=Rh,Rh=null,Ae=s):Ae=n):Ae=Le?IA(s.stateNode.nextSibling):null;return!0}function Hn(){Ae=Le=null,Ht=!1}function pu(){var s=Ps;return s!==null&&(rA===null?rA=s:rA.push.apply(rA,s),Ps=null),s}function Ta(s){Ps===null?Ps=[s]:Ps.push(s)}var mu=H(null),Ln=null,ws=null;function Vs(s,n,r){W(mu,n._currentValue),n._currentValue=r}function vs(s){s._currentValue=mu.current,j(mu)}function Bu(s,n,r){for(;s!==null;){var u=s.alternate;if((s.childLanes&n)!==n?(s.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),s===r)break;s=s.return}}function wu(s,n,r,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var B=p.dependencies;if(B!==null){var C=p.child;B=B.firstContext;t:for(;B!==null;){var Q=B;B=p;for(var L=0;L<n.length;L++)if(Q.context===n[L]){B.lanes|=r,Q=B.alternate,Q!==null&&(Q.lanes|=r),Bu(B.return,r,s),u||(C=null);break t}B=Q.next}}else if(p.tag===18){if(C=p.return,C===null)throw Error(A(341));C.lanes|=r,B=C.alternate,B!==null&&(B.lanes|=r),Bu(C,r,s),C=null}else C=p.child;if(C!==null)C.return=p;else for(C=p;C!==null;){if(C===s){C=null;break}if(p=C.sibling,p!==null){p.return=C.return,C=p;break}C=C.return}p=C}}function yi(s,n,r,u){s=null;for(var p=n,B=!1;p!==null;){if(!B){if((p.flags&524288)!==0)B=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var C=p.alternate;if(C===null)throw Error(A(387));if(C=C.memoizedProps,C!==null){var Q=p.type;mA(p.pendingProps.value,C.value)||(s!==null?s.push(Q):s=[Q])}}else if(p===lt.current){if(C=p.alternate,C===null)throw Error(A(387));C.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(sr):s=[sr])}p=p.return}s!==null&&wu(n,s,r,u),n.flags|=262144}function Co(s){for(s=s.firstContext;s!==null;){if(!mA(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function In(s){Ln=s,ws=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ie(s){return Wg(Ln,s)}function bo(s,n){return Ln===null&&In(s),Wg(s,n)}function Wg(s,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ws===null){if(s===null)throw Error(A(308));ws=n,s.dependencies={lanes:0,firstContext:n},s.flags|=524288}else ws=ws.next=n;return r}var LC=typeof AbortController<"u"?AbortController:function(){var s=[],n=this.signal={aborted:!1,addEventListener:function(r,u){s.push(u)}};this.abort=function(){n.aborted=!0,s.forEach(function(r){return r()})}},IC=o.unstable_scheduleCallback,MC=o.unstable_NormalPriority,we={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vu(){return{controller:new LC,data:new Map,refCount:0}}function _a(s){s.refCount--,s.refCount===0&&IC(MC,function(){s.controller.abort()})}var Da=null,yu=0,Ci=0,bi=null;function RC(s,n){if(Da===null){var r=Da=[];yu=0,Ci=Eh(),bi={status:"pending",value:void 0,then:function(u){r.push(u)}}}return yu++,n.then(Zg,Zg),n}function Zg(){if(--yu===0&&Da!==null){bi!==null&&(bi.status="fulfilled");var s=Da;Da=null,Ci=0,bi=null;for(var n=0;n<s.length;n++)(0,s[n])()}}function OC(s,n){var r=[],u={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return s.then(function(){u.status="fulfilled",u.value=n;for(var p=0;p<r.length;p++)(0,r[p])(n)},function(p){for(u.status="rejected",u.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),u}var $g=N.S;N.S=function(s,n){Im=fA(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&RC(s,n),$g!==null&&$g(s,n)};var Mn=H(null);function Cu(){var s=Mn.current;return s!==null?s:Zt.pooledCache}function Eo(s,n){n===null?W(Mn,Mn.current):W(Mn,n.pool)}function tp(){var s=Cu();return s===null?null:{parent:we._currentValue,pool:s}}var Ei=Error(A(460)),bu=Error(A(474)),xo=Error(A(542)),So={then:function(){}};function ep(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ap(s,n,r){switch(r=s[r],r===void 0?s.push(n):r!==n&&(n.then(gs,gs),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw s=n.reason,np(s),s;default:if(typeof n.status=="string")n.then(gs,gs);else{if(s=Zt,s!==null&&100<s.shellSuspendCounter)throw Error(A(482));s=n,s.status="pending",s.then(function(u){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=u}},function(u){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw s=n.reason,np(s),s}throw On=n,Ei}}function Rn(s){try{var n=s._init;return n(s._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(On=r,Ei):r}}var On=null;function sp(){if(On===null)throw Error(A(459));var s=On;return On=null,s}function np(s){if(s===Ei||s===xo)throw Error(A(483))}var xi=null,Na=0;function Qo(s){var n=Na;return Na+=1,xi===null&&(xi=[]),Ap(xi,s,n)}function Ha(s,n){n=n.props.ref,s.ref=n!==void 0?n:null}function Uo(s,n){throw n.$$typeof===w?Error(A(525)):(s=Object.prototype.toString.call(n),Error(A(31,s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s)))}function ip(s){function n(k,I){if(s){var P=k.deletions;P===null?(k.deletions=[I],k.flags|=16):P.push(I)}}function r(k,I){if(!s)return null;for(;I!==null;)n(k,I),I=I.sibling;return null}function u(k){for(var I=new Map;k!==null;)k.key!==null?I.set(k.key,k):I.set(k.index,k),k=k.sibling;return I}function p(k,I){return k=ms(k,I),k.index=0,k.sibling=null,k}function B(k,I,P){return k.index=P,s?(P=k.alternate,P!==null?(P=P.index,P<I?(k.flags|=67108866,I):P):(k.flags|=67108866,I)):(k.flags|=1048576,I)}function C(k){return s&&k.alternate===null&&(k.flags|=67108866),k}function Q(k,I,P,et){return I===null||I.tag!==6?(I=uu(P,k.mode,et),I.return=k,I):(I=p(I,P),I.return=k,I)}function L(k,I,P,et){var mt=P.type;return mt===y?Z(k,I,P.props.children,et,P.key):I!==null&&(I.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===O&&Rn(mt)===I.type)?(I=p(I,P.props),Ha(I,P),I.return=k,I):(I=vo(P.type,P.key,P.props,null,k.mode,et),Ha(I,P),I.return=k,I)}function V(k,I,P,et){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=hu(P,k.mode,et),I.return=k,I):(I=p(I,P.children||[]),I.return=k,I)}function Z(k,I,P,et,mt){return I===null||I.tag!==7?(I=Nn(P,k.mode,et,mt),I.return=k,I):(I=p(I,P),I.return=k,I)}function At(k,I,P){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=uu(""+I,k.mode,P),I.return=k,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case v:return P=vo(I.type,I.key,I.props,null,k.mode,P),Ha(P,I),P.return=k,P;case b:return I=hu(I,k.mode,P),I.return=k,I;case O:return I=Rn(I),At(k,I,P)}if(rt(I)||q(I))return I=Nn(I,k.mode,P,null),I.return=k,I;if(typeof I.then=="function")return At(k,Qo(I),P);if(I.$$typeof===S)return At(k,bo(k,I),P);Uo(k,I)}return null}function X(k,I,P,et){var mt=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return mt!==null?null:Q(k,I,""+P,et);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return P.key===mt?L(k,I,P,et):null;case b:return P.key===mt?V(k,I,P,et):null;case O:return P=Rn(P),X(k,I,P,et)}if(rt(P)||q(P))return mt!==null?null:Z(k,I,P,et,null);if(typeof P.then=="function")return X(k,I,Qo(P),et);if(P.$$typeof===S)return X(k,I,bo(k,P),et);Uo(k,P)}return null}function J(k,I,P,et,mt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return k=k.get(P)||null,Q(I,k,""+et,mt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case v:return k=k.get(et.key===null?P:et.key)||null,L(I,k,et,mt);case b:return k=k.get(et.key===null?P:et.key)||null,V(I,k,et,mt);case O:return et=Rn(et),J(k,I,P,et,mt)}if(rt(et)||q(et))return k=k.get(P)||null,Z(I,k,et,mt,null);if(typeof et.then=="function")return J(k,I,P,Qo(et),mt);if(et.$$typeof===S)return J(k,I,P,bo(I,et),mt);Uo(I,et)}return null}function ft(k,I,P,et){for(var mt=null,Rt=null,pt=I,Ut=I=0,Dt=null;pt!==null&&Ut<P.length;Ut++){pt.index>Ut?(Dt=pt,pt=null):Dt=pt.sibling;var Ot=X(k,pt,P[Ut],et);if(Ot===null){pt===null&&(pt=Dt);break}s&&pt&&Ot.alternate===null&&n(k,pt),I=B(Ot,I,Ut),Rt===null?mt=Ot:Rt.sibling=Ot,Rt=Ot,pt=Dt}if(Ut===P.length)return r(k,pt),Ht&&Bs(k,Ut),mt;if(pt===null){for(;Ut<P.length;Ut++)pt=At(k,P[Ut],et),pt!==null&&(I=B(pt,I,Ut),Rt===null?mt=pt:Rt.sibling=pt,Rt=pt);return Ht&&Bs(k,Ut),mt}for(pt=u(pt);Ut<P.length;Ut++)Dt=J(pt,k,Ut,P[Ut],et),Dt!==null&&(s&&Dt.alternate!==null&&pt.delete(Dt.key===null?Ut:Dt.key),I=B(Dt,I,Ut),Rt===null?mt=Dt:Rt.sibling=Dt,Rt=Dt);return s&&pt.forEach(function(cn){return n(k,cn)}),Ht&&Bs(k,Ut),mt}function vt(k,I,P,et){if(P==null)throw Error(A(151));for(var mt=null,Rt=null,pt=I,Ut=I=0,Dt=null,Ot=P.next();pt!==null&&!Ot.done;Ut++,Ot=P.next()){pt.index>Ut?(Dt=pt,pt=null):Dt=pt.sibling;var cn=X(k,pt,Ot.value,et);if(cn===null){pt===null&&(pt=Dt);break}s&&pt&&cn.alternate===null&&n(k,pt),I=B(cn,I,Ut),Rt===null?mt=cn:Rt.sibling=cn,Rt=cn,pt=Dt}if(Ot.done)return r(k,pt),Ht&&Bs(k,Ut),mt;if(pt===null){for(;!Ot.done;Ut++,Ot=P.next())Ot=At(k,Ot.value,et),Ot!==null&&(I=B(Ot,I,Ut),Rt===null?mt=Ot:Rt.sibling=Ot,Rt=Ot);return Ht&&Bs(k,Ut),mt}for(pt=u(pt);!Ot.done;Ut++,Ot=P.next())Ot=J(pt,k,Ut,Ot.value,et),Ot!==null&&(s&&Ot.alternate!==null&&pt.delete(Ot.key===null?Ut:Ot.key),I=B(Ot,I,Ut),Rt===null?mt=Ot:Rt.sibling=Ot,Rt=Ot);return s&&pt.forEach(function(Jb){return n(k,Jb)}),Ht&&Bs(k,Ut),mt}function Yt(k,I,P,et){if(typeof P=="object"&&P!==null&&P.type===y&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case v:t:{for(var mt=P.key;I!==null;){if(I.key===mt){if(mt=P.type,mt===y){if(I.tag===7){r(k,I.sibling),et=p(I,P.props.children),et.return=k,k=et;break t}}else if(I.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===O&&Rn(mt)===I.type){r(k,I.sibling),et=p(I,P.props),Ha(et,P),et.return=k,k=et;break t}r(k,I);break}else n(k,I);I=I.sibling}P.type===y?(et=Nn(P.props.children,k.mode,et,P.key),et.return=k,k=et):(et=vo(P.type,P.key,P.props,null,k.mode,et),Ha(et,P),et.return=k,k=et)}return C(k);case b:t:{for(mt=P.key;I!==null;){if(I.key===mt)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){r(k,I.sibling),et=p(I,P.children||[]),et.return=k,k=et;break t}else{r(k,I);break}else n(k,I);I=I.sibling}et=hu(P,k.mode,et),et.return=k,k=et}return C(k);case O:return P=Rn(P),Yt(k,I,P,et)}if(rt(P))return ft(k,I,P,et);if(q(P)){if(mt=q(P),typeof mt!="function")throw Error(A(150));return P=mt.call(P),vt(k,I,P,et)}if(typeof P.then=="function")return Yt(k,I,Qo(P),et);if(P.$$typeof===S)return Yt(k,I,bo(k,P),et);Uo(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,I!==null&&I.tag===6?(r(k,I.sibling),et=p(I,P),et.return=k,k=et):(r(k,I),et=uu(P,k.mode,et),et.return=k,k=et),C(k)):r(k,I)}return function(k,I,P,et){try{Na=0;var mt=Yt(k,I,P,et);return xi=null,mt}catch(pt){if(pt===Ei||pt===xo)throw pt;var Rt=BA(29,pt,null,k.mode);return Rt.lanes=et,Rt.return=k,Rt}}}var kn=ip(!0),ap=ip(!1),zs=!1;function Eu(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xu(s,n){s=s.updateQueue,n.updateQueue===s&&(n.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Xs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ys(s,n,r){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(kt&2)!==0){var p=u.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),u.pending=n,n=wo(s),Pg(s,null,r),n}return Bo(s,u,n,r),wo(s)}function La(s,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var u=n.lanes;u&=s.pendingLanes,r|=u,n.lanes=r,Wf(s,r)}}function Su(s,n){var r=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var p=null,B=null;if(r=r.firstBaseUpdate,r!==null){do{var C={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};B===null?p=B=C:B=B.next=C,r=r.next}while(r!==null);B===null?p=B=n:B=B.next=n}else p=B=n;r={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:B,shared:u.shared,callbacks:u.callbacks},s.updateQueue=r;return}s=r.lastBaseUpdate,s===null?r.firstBaseUpdate=n:s.next=n,r.lastBaseUpdate=n}var Qu=!1;function Ia(){if(Qu){var s=bi;if(s!==null)throw s}}function Ma(s,n,r,u){Qu=!1;var p=s.updateQueue;zs=!1;var B=p.firstBaseUpdate,C=p.lastBaseUpdate,Q=p.shared.pending;if(Q!==null){p.shared.pending=null;var L=Q,V=L.next;L.next=null,C===null?B=V:C.next=V,C=L;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,Q=Z.lastBaseUpdate,Q!==C&&(Q===null?Z.firstBaseUpdate=V:Q.next=V,Z.lastBaseUpdate=L))}if(B!==null){var At=p.baseState;C=0,Z=V=L=null,Q=B;do{var X=Q.lane&-536870913,J=X!==Q.lane;if(J?(_t&X)===X:(u&X)===X){X!==0&&X===Ci&&(Qu=!0),Z!==null&&(Z=Z.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});t:{var ft=s,vt=Q;X=n;var Yt=r;switch(vt.tag){case 1:if(ft=vt.payload,typeof ft=="function"){At=ft.call(Yt,At,X);break t}At=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=vt.payload,X=typeof ft=="function"?ft.call(Yt,At,X):ft,X==null)break t;At=m({},At,X);break t;case 2:zs=!0}}X=Q.callback,X!==null&&(s.flags|=64,J&&(s.flags|=8192),J=p.callbacks,J===null?p.callbacks=[X]:J.push(X))}else J={lane:X,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Z===null?(V=Z=J,L=At):Z=Z.next=J,C|=X;if(Q=Q.next,Q===null){if(Q=p.shared.pending,Q===null)break;J=Q,Q=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);Z===null&&(L=At),p.baseState=L,p.firstBaseUpdate=V,p.lastBaseUpdate=Z,B===null&&(p.shared.lanes=0),$s|=C,s.lanes=C,s.memoizedState=At}}function rp(s,n){if(typeof s!="function")throw Error(A(191,s));s.call(n)}function op(s,n){var r=s.callbacks;if(r!==null)for(s.callbacks=null,s=0;s<r.length;s++)rp(r[s],n)}var Si=H(null),Fo=H(0);function lp(s,n){s=Fs,W(Fo,s),W(Si,n),Fs=s|n.baseLanes}function Uu(){W(Fo,Fs),W(Si,Si.current)}function Fu(){Fs=Fo.current,j(Si),j(Fo)}var wA=H(null),LA=null;function qs(s){var n=s.alternate;W(fe,fe.current&1),W(wA,s),LA===null&&(n===null||Si.current!==null||n.memoizedState!==null)&&(LA=s)}function Tu(s){W(fe,fe.current),W(wA,s),LA===null&&(LA=s)}function cp(s){s.tag===22?(W(fe,fe.current),W(wA,s),LA===null&&(LA=s)):Js()}function Js(){W(fe,fe.current),W(wA,wA.current)}function vA(s){j(wA),LA===s&&(LA=null),j(fe)}var fe=H(0);function To(s){for(var n=s;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ih(r)||Mh(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ys=0,Qt=null,zt=null,ve=null,_o=!1,Qi=!1,jn=!1,Do=0,Ra=0,Ui=null,kC=0;function ue(){throw Error(A(321))}function _u(s,n){if(n===null)return!1;for(var r=0;r<n.length&&r<s.length;r++)if(!mA(s[r],n[r]))return!1;return!0}function Du(s,n,r,u,p,B){return ys=B,Qt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,N.H=s===null||s.memoizedState===null?Xp:Xu,jn=!1,B=r(u,p),jn=!1,Qi&&(B=hp(n,r,u,p)),up(s),B}function up(s){N.H=ja;var n=zt!==null&&zt.next!==null;if(ys=0,ve=zt=Qt=null,_o=!1,Ra=0,Ui=null,n)throw Error(A(300));s===null||ye||(s=s.dependencies,s!==null&&Co(s)&&(ye=!0))}function hp(s,n,r,u){Qt=s;var p=0;do{if(Qi&&(Ui=null),Ra=0,Qi=!1,25<=p)throw Error(A(301));if(p+=1,ve=zt=null,s.updateQueue!=null){var B=s.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}N.H=Yp,B=n(r,u)}while(Qi);return B}function jC(){var s=N.H,n=s.useState()[0];return n=typeof n.then=="function"?Oa(n):n,s=s.useState()[0],(zt!==null?zt.memoizedState:null)!==s&&(Qt.flags|=1024),n}function Nu(){var s=Do!==0;return Do=0,s}function Hu(s,n,r){n.updateQueue=s.updateQueue,n.flags&=-2053,s.lanes&=~r}function Lu(s){if(_o){for(s=s.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}_o=!1}ys=0,ve=zt=Qt=null,Qi=!1,Ra=Do=0,Ui=null}function Je(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?Qt.memoizedState=ve=s:ve=ve.next=s,ve}function ge(){if(zt===null){var s=Qt.alternate;s=s!==null?s.memoizedState:null}else s=zt.next;var n=ve===null?Qt.memoizedState:ve.next;if(n!==null)ve=n,zt=s;else{if(s===null)throw Qt.alternate===null?Error(A(467)):Error(A(310));zt=s,s={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},ve===null?Qt.memoizedState=ve=s:ve=ve.next=s}return ve}function No(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oa(s){var n=Ra;return Ra+=1,Ui===null&&(Ui=[]),s=Ap(Ui,s,n),n=Qt,(ve===null?n.memoizedState:ve.next)===null&&(n=n.alternate,N.H=n===null||n.memoizedState===null?Xp:Xu),s}function Ho(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Oa(s);if(s.$$typeof===S)return Ie(s)}throw Error(A(438,String(s)))}function Iu(s){var n=null,r=Qt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var u=Qt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=No(),Qt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(s),u=0;u<s;u++)r[u]=it;return n.index++,r}function Cs(s,n){return typeof n=="function"?n(s):n}function Lo(s){var n=ge();return Mu(n,zt,s)}function Mu(s,n,r){var u=s.queue;if(u===null)throw Error(A(311));u.lastRenderedReducer=r;var p=s.baseQueue,B=u.pending;if(B!==null){if(p!==null){var C=p.next;p.next=B.next,B.next=C}n.baseQueue=p=B,u.pending=null}if(B=s.baseState,p===null)s.memoizedState=B;else{n=p.next;var Q=C=null,L=null,V=n,Z=!1;do{var At=V.lane&-536870913;if(At!==V.lane?(_t&At)===At:(ys&At)===At){var X=V.revertLane;if(X===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),At===Ci&&(Z=!0);else if((ys&X)===X){V=V.next,X===Ci&&(Z=!0);continue}else At={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},L===null?(Q=L=At,C=B):L=L.next=At,Qt.lanes|=X,$s|=X;At=V.action,jn&&r(B,At),B=V.hasEagerState?V.eagerState:r(B,At)}else X={lane:At,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},L===null?(Q=L=X,C=B):L=L.next=X,Qt.lanes|=At,$s|=At;V=V.next}while(V!==null&&V!==n);if(L===null?C=B:L.next=Q,!mA(B,s.memoizedState)&&(ye=!0,Z&&(r=bi,r!==null)))throw r;s.memoizedState=B,s.baseState=C,s.baseQueue=L,u.lastRenderedState=B}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Ru(s){var n=ge(),r=n.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=s;var u=r.dispatch,p=r.pending,B=n.memoizedState;if(p!==null){r.pending=null;var C=p=p.next;do B=s(B,C.action),C=C.next;while(C!==p);mA(B,n.memoizedState)||(ye=!0),n.memoizedState=B,n.baseQueue===null&&(n.baseState=B),r.lastRenderedState=B}return[B,u]}function dp(s,n,r){var u=Qt,p=ge(),B=Ht;if(B){if(r===void 0)throw Error(A(407));r=r()}else r=n();var C=!mA((zt||p).memoizedState,r);if(C&&(p.memoizedState=r,ye=!0),p=p.queue,ju(pp.bind(null,u,p,s),[s]),p.getSnapshot!==n||C||ve!==null&&ve.memoizedState.tag&1){if(u.flags|=2048,Fi(9,{destroy:void 0},gp.bind(null,u,p,r,n),null),Zt===null)throw Error(A(349));B||(ys&127)!==0||fp(u,n,r)}return r}function fp(s,n,r){s.flags|=16384,s={getSnapshot:n,value:r},n=Qt.updateQueue,n===null?(n=No(),Qt.updateQueue=n,n.stores=[s]):(r=n.stores,r===null?n.stores=[s]:r.push(s))}function gp(s,n,r,u){n.value=r,n.getSnapshot=u,mp(n)&&Bp(s)}function pp(s,n,r){return r(function(){mp(n)&&Bp(s)})}function mp(s){var n=s.getSnapshot;s=s.value;try{var r=n();return!mA(s,r)}catch{return!0}}function Bp(s){var n=Dn(s,2);n!==null&&oA(n,s,2)}function Ou(s){var n=Je();if(typeof s=="function"){var r=s;if(s=r(),jn){Os(!0);try{r()}finally{Os(!1)}}}return n.memoizedState=n.baseState=s,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:s},n}function wp(s,n,r,u){return s.baseState=r,Mu(s,zt,typeof u=="function"?u:Cs)}function KC(s,n,r,u,p){if(Ro(s))throw Error(A(485));if(s=n.action,s!==null){var B={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){B.listeners.push(C)}};N.T!==null?r(!0):B.isTransition=!1,u(B),r=n.pending,r===null?(B.next=n.pending=B,vp(n,B)):(B.next=r.next,n.pending=r.next=B)}}function vp(s,n){var r=n.action,u=n.payload,p=s.state;if(n.isTransition){var B=N.T,C={};N.T=C;try{var Q=r(p,u),L=N.S;L!==null&&L(C,Q),yp(s,n,Q)}catch(V){ku(s,n,V)}finally{B!==null&&C.types!==null&&(B.types=C.types),N.T=B}}else try{B=r(p,u),yp(s,n,B)}catch(V){ku(s,n,V)}}function yp(s,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){Cp(s,n,u)},function(u){return ku(s,n,u)}):Cp(s,n,r)}function Cp(s,n,r){n.status="fulfilled",n.value=r,bp(n),s.state=r,n=s.pending,n!==null&&(r=n.next,r===n?s.pending=null:(r=r.next,n.next=r,vp(s,r)))}function ku(s,n,r){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=r,bp(n),n=n.next;while(n!==u)}s.action=null}function bp(s){s=s.listeners;for(var n=0;n<s.length;n++)(0,s[n])()}function Ep(s,n){return n}function xp(s,n){if(Ht){var r=Zt.formState;if(r!==null){t:{var u=Qt;if(Ht){if(Ae){e:{for(var p=Ae,B=HA;p.nodeType!==8;){if(!B){p=null;break e}if(p=IA(p.nextSibling),p===null){p=null;break e}}B=p.data,p=B==="F!"||B==="F"?p:null}if(p){Ae=IA(p.nextSibling),u=p.data==="F!";break t}}Gs(u)}u=!1}u&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:n},r.queue=u,r=Gp.bind(null,Qt,u),u.dispatch=r,u=Ou(!1),B=zu.bind(null,Qt,!1,u.queue),u=Je(),p={state:n,dispatch:null,action:s,pending:null},u.queue=p,r=KC.bind(null,Qt,p,B,r),p.dispatch=r,u.memoizedState=s,[n,r,!1]}function Sp(s){var n=ge();return Qp(n,zt,s)}function Qp(s,n,r){if(n=Mu(s,n,Ep)[0],s=Lo(Cs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Oa(n)}catch(C){throw C===Ei?xo:C}else u=n;n=ge();var p=n.queue,B=p.dispatch;return r!==n.memoizedState&&(Qt.flags|=2048,Fi(9,{destroy:void 0},PC.bind(null,p,r),null)),[u,B,s]}function PC(s,n){s.action=n}function Up(s){var n=ge(),r=zt;if(r!==null)return Qp(n,r,s);ge(),n=n.memoizedState,r=ge();var u=r.queue.dispatch;return r.memoizedState=s,[n,u,!1]}function Fi(s,n,r,u){return s={tag:s,create:r,deps:u,inst:n,next:null},n=Qt.updateQueue,n===null&&(n=No(),Qt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=s.next=s:(u=r.next,r.next=s,s.next=u,n.lastEffect=s),s}function Fp(){return ge().memoizedState}function Io(s,n,r,u){var p=Je();Qt.flags|=s,p.memoizedState=Fi(1|n,{destroy:void 0},r,u===void 0?null:u)}function Mo(s,n,r,u){var p=ge();u=u===void 0?null:u;var B=p.memoizedState.inst;zt!==null&&u!==null&&_u(u,zt.memoizedState.deps)?p.memoizedState=Fi(n,B,r,u):(Qt.flags|=s,p.memoizedState=Fi(1|n,B,r,u))}function Tp(s,n){Io(8390656,8,s,n)}function ju(s,n){Mo(2048,8,s,n)}function GC(s){Qt.flags|=4;var n=Qt.updateQueue;if(n===null)n=No(),Qt.updateQueue=n,n.events=[s];else{var r=n.events;r===null?n.events=[s]:r.push(s)}}function _p(s){var n=ge().memoizedState;return GC({ref:n,nextImpl:s}),function(){if((kt&2)!==0)throw Error(A(440));return n.impl.apply(void 0,arguments)}}function Dp(s,n){return Mo(4,2,s,n)}function Np(s,n){return Mo(4,4,s,n)}function Hp(s,n){if(typeof n=="function"){s=s();var r=n(s);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return s=s(),n.current=s,function(){n.current=null}}function Lp(s,n,r){r=r!=null?r.concat([s]):null,Mo(4,4,Hp.bind(null,n,s),r)}function Ku(){}function Ip(s,n){var r=ge();n=n===void 0?null:n;var u=r.memoizedState;return n!==null&&_u(n,u[1])?u[0]:(r.memoizedState=[s,n],s)}function Mp(s,n){var r=ge();n=n===void 0?null:n;var u=r.memoizedState;if(n!==null&&_u(n,u[1]))return u[0];if(u=s(),jn){Os(!0);try{s()}finally{Os(!1)}}return r.memoizedState=[u,n],u}function Pu(s,n,r){return r===void 0||(ys&1073741824)!==0&&(_t&261930)===0?s.memoizedState=n:(s.memoizedState=r,s=Rm(),Qt.lanes|=s,$s|=s,r)}function Rp(s,n,r,u){return mA(r,n)?r:Si.current!==null?(s=Pu(s,r,u),mA(s,n)||(ye=!0),s):(ys&42)===0||(ys&1073741824)!==0&&(_t&261930)===0?(ye=!0,s.memoizedState=r):(s=Rm(),Qt.lanes|=s,$s|=s,n)}function Op(s,n,r,u,p){var B=M.p;M.p=B!==0&&8>B?B:8;var C=N.T,Q={};N.T=Q,zu(s,!1,n,r);try{var L=p(),V=N.S;if(V!==null&&V(Q,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Z=OC(L,u);ka(s,n,Z,bA(s))}else ka(s,n,u,bA(s))}catch(At){ka(s,n,{then:function(){},status:"rejected",reason:At},bA())}finally{M.p=B,C!==null&&Q.types!==null&&(C.types=Q.types),N.T=C}}function VC(){}function Gu(s,n,r,u){if(s.tag!==5)throw Error(A(476));var p=kp(s).queue;Op(s,p,n,R,r===null?VC:function(){return jp(s),r(u)})}function kp(s){var n=s.memoizedState;if(n!==null)return n;n={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:R},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:r},next:null},s.memoizedState=n,s=s.alternate,s!==null&&(s.memoizedState=n),n}function jp(s){var n=kp(s);n.next===null&&(n=s.alternate.memoizedState),ka(s,n.next.queue,{},bA())}function Vu(){return Ie(sr)}function Kp(){return ge().memoizedState}function Pp(){return ge().memoizedState}function zC(s){for(var n=s.return;n!==null;){switch(n.tag){case 24:case 3:var r=bA();s=Xs(r);var u=Ys(n,s,r);u!==null&&(oA(u,n,r),La(u,n,r)),n={cache:vu()},s.payload=n;return}n=n.return}}function XC(s,n,r){var u=bA();r={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ro(s)?Vp(n,r):(r=lu(s,n,r,u),r!==null&&(oA(r,s,u),zp(r,n,u)))}function Gp(s,n,r){var u=bA();ka(s,n,r,u)}function ka(s,n,r,u){var p={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ro(s))Vp(n,p);else{var B=s.alternate;if(s.lanes===0&&(B===null||B.lanes===0)&&(B=n.lastRenderedReducer,B!==null))try{var C=n.lastRenderedState,Q=B(C,r);if(p.hasEagerState=!0,p.eagerState=Q,mA(Q,C))return Bo(s,n,p,0),Zt===null&&mo(),!1}catch{}if(r=lu(s,n,p,u),r!==null)return oA(r,s,u),zp(r,n,u),!0}return!1}function zu(s,n,r,u){if(u={lane:2,revertLane:Eh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ro(s)){if(n)throw Error(A(479))}else n=lu(s,r,u,2),n!==null&&oA(n,s,2)}function Ro(s){var n=s.alternate;return s===Qt||n!==null&&n===Qt}function Vp(s,n){Qi=_o=!0;var r=s.pending;r===null?n.next=n:(n.next=r.next,r.next=n),s.pending=n}function zp(s,n,r){if((r&4194048)!==0){var u=n.lanes;u&=s.pendingLanes,r|=u,n.lanes=r,Wf(s,r)}}var ja={readContext:Ie,use:Ho,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};ja.useEffectEvent=ue;var Xp={readContext:Ie,use:Ho,useCallback:function(s,n){return Je().memoizedState=[s,n===void 0?null:n],s},useContext:Ie,useEffect:Tp,useImperativeHandle:function(s,n,r){r=r!=null?r.concat([s]):null,Io(4194308,4,Hp.bind(null,n,s),r)},useLayoutEffect:function(s,n){return Io(4194308,4,s,n)},useInsertionEffect:function(s,n){Io(4,2,s,n)},useMemo:function(s,n){var r=Je();n=n===void 0?null:n;var u=s();if(jn){Os(!0);try{s()}finally{Os(!1)}}return r.memoizedState=[u,n],u},useReducer:function(s,n,r){var u=Je();if(r!==void 0){var p=r(n);if(jn){Os(!0);try{r(n)}finally{Os(!1)}}}else p=n;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=XC.bind(null,Qt,s),[u.memoizedState,s]},useRef:function(s){var n=Je();return s={current:s},n.memoizedState=s},useState:function(s){s=Ou(s);var n=s.queue,r=Gp.bind(null,Qt,n);return n.dispatch=r,[s.memoizedState,r]},useDebugValue:Ku,useDeferredValue:function(s,n){var r=Je();return Pu(r,s,n)},useTransition:function(){var s=Ou(!1);return s=Op.bind(null,Qt,s.queue,!0,!1),Je().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,n,r){var u=Qt,p=Je();if(Ht){if(r===void 0)throw Error(A(407));r=r()}else{if(r=n(),Zt===null)throw Error(A(349));(_t&127)!==0||fp(u,n,r)}p.memoizedState=r;var B={value:r,getSnapshot:n};return p.queue=B,Tp(pp.bind(null,u,B,s),[s]),u.flags|=2048,Fi(9,{destroy:void 0},gp.bind(null,u,B,r,n),null),r},useId:function(){var s=Je(),n=Zt.identifierPrefix;if(Ht){var r=ts,u=$A;r=(u&~(1<<32-pA(u)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Do++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=kC++,n="_"+n+"r_"+r.toString(32)+"_";return s.memoizedState=n},useHostTransitionStatus:Vu,useFormState:xp,useActionState:xp,useOptimistic:function(s){var n=Je();n.memoizedState=n.baseState=s;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=zu.bind(null,Qt,!0,r),r.dispatch=n,[s,n]},useMemoCache:Iu,useCacheRefresh:function(){return Je().memoizedState=zC.bind(null,Qt)},useEffectEvent:function(s){var n=Je(),r={impl:s};return n.memoizedState=r,function(){if((kt&2)!==0)throw Error(A(440));return r.impl.apply(void 0,arguments)}}},Xu={readContext:Ie,use:Ho,useCallback:Ip,useContext:Ie,useEffect:ju,useImperativeHandle:Lp,useInsertionEffect:Dp,useLayoutEffect:Np,useMemo:Mp,useReducer:Lo,useRef:Fp,useState:function(){return Lo(Cs)},useDebugValue:Ku,useDeferredValue:function(s,n){var r=ge();return Rp(r,zt.memoizedState,s,n)},useTransition:function(){var s=Lo(Cs)[0],n=ge().memoizedState;return[typeof s=="boolean"?s:Oa(s),n]},useSyncExternalStore:dp,useId:Kp,useHostTransitionStatus:Vu,useFormState:Sp,useActionState:Sp,useOptimistic:function(s,n){var r=ge();return wp(r,zt,s,n)},useMemoCache:Iu,useCacheRefresh:Pp};Xu.useEffectEvent=_p;var Yp={readContext:Ie,use:Ho,useCallback:Ip,useContext:Ie,useEffect:ju,useImperativeHandle:Lp,useInsertionEffect:Dp,useLayoutEffect:Np,useMemo:Mp,useReducer:Ru,useRef:Fp,useState:function(){return Ru(Cs)},useDebugValue:Ku,useDeferredValue:function(s,n){var r=ge();return zt===null?Pu(r,s,n):Rp(r,zt.memoizedState,s,n)},useTransition:function(){var s=Ru(Cs)[0],n=ge().memoizedState;return[typeof s=="boolean"?s:Oa(s),n]},useSyncExternalStore:dp,useId:Kp,useHostTransitionStatus:Vu,useFormState:Up,useActionState:Up,useOptimistic:function(s,n){var r=ge();return zt!==null?wp(r,zt,s,n):(r.baseState=s,[s,r.queue.dispatch])},useMemoCache:Iu,useCacheRefresh:Pp};Yp.useEffectEvent=_p;function Yu(s,n,r,u){n=s.memoizedState,r=r(u,n),r=r==null?n:m({},n,r),s.memoizedState=r,s.lanes===0&&(s.updateQueue.baseState=r)}var qu={enqueueSetState:function(s,n,r){s=s._reactInternals;var u=bA(),p=Xs(u);p.payload=n,r!=null&&(p.callback=r),n=Ys(s,p,u),n!==null&&(oA(n,s,u),La(n,s,u))},enqueueReplaceState:function(s,n,r){s=s._reactInternals;var u=bA(),p=Xs(u);p.tag=1,p.payload=n,r!=null&&(p.callback=r),n=Ys(s,p,u),n!==null&&(oA(n,s,u),La(n,s,u))},enqueueForceUpdate:function(s,n){s=s._reactInternals;var r=bA(),u=Xs(r);u.tag=2,n!=null&&(u.callback=n),n=Ys(s,u,r),n!==null&&(oA(n,s,r),La(n,s,r))}};function qp(s,n,r,u,p,B,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,B,C):n.prototype&&n.prototype.isPureReactComponent?!Qa(r,u)||!Qa(p,B):!0}function Jp(s,n,r,u){s=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,u),n.state!==s&&qu.enqueueReplaceState(n,n.state,null)}function Kn(s,n){var r=n;if("ref"in n){r={};for(var u in n)u!=="ref"&&(r[u]=n[u])}if(s=s.defaultProps){r===n&&(r=m({},r));for(var p in s)r[p]===void 0&&(r[p]=s[p])}return r}function Wp(s){po(s)}function Zp(s){console.error(s)}function $p(s){po(s)}function Oo(s,n){try{var r=s.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function tm(s,n,r){try{var u=s.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ju(s,n,r){return r=Xs(r),r.tag=3,r.payload={element:null},r.callback=function(){Oo(s,n)},r}function em(s){return s=Xs(s),s.tag=3,s}function Am(s,n,r,u){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var B=u.value;s.payload=function(){return p(B)},s.callback=function(){tm(n,r,u)}}var C=r.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){tm(n,r,u),typeof p!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var Q=u.stack;this.componentDidCatch(u.value,{componentStack:Q!==null?Q:""})})}function YC(s,n,r,u,p){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=r.alternate,n!==null&&yi(n,r,p,!0),r=wA.current,r!==null){switch(r.tag){case 31:case 13:return LA===null?Wo():r.alternate===null&&he===0&&(he=3),r.flags&=-257,r.flags|=65536,r.lanes=p,u===So?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([u]):n.add(u),yh(s,u,p)),!1;case 22:return r.flags|=65536,u===So?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([u]):r.add(u)),yh(s,u,p)),!1}throw Error(A(435,r.tag))}return yh(s,u,p),Wo(),!1}if(Ht)return n=wA.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,u!==gu&&(s=Error(A(422),{cause:u}),Ta(_A(s,r)))):(u!==gu&&(n=Error(A(423),{cause:u}),Ta(_A(n,r))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=_A(u,r),p=Ju(s.stateNode,u,p),Su(s,p),he!==4&&(he=2)),!1;var B=Error(A(520),{cause:u});if(B=_A(B,r),qa===null?qa=[B]:qa.push(B),he!==4&&(he=2),n===null)return!0;u=_A(u,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,s=p&-p,r.lanes|=s,s=Ju(r.stateNode,u,s),Su(r,s),!1;case 1:if(n=r.type,B=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(tn===null||!tn.has(B))))return r.flags|=65536,p&=-p,r.lanes|=p,p=em(p),Am(p,s,r,u),Su(r,p),!1}r=r.return}while(r!==null);return!1}var Wu=Error(A(461)),ye=!1;function Me(s,n,r,u){n.child=s===null?ap(n,null,r,u):kn(n,s.child,r,u)}function sm(s,n,r,u,p){r=r.render;var B=n.ref;if("ref"in u){var C={};for(var Q in u)Q!=="ref"&&(C[Q]=u[Q])}else C=u;return In(n),u=Du(s,n,r,C,B,p),Q=Nu(),s!==null&&!ye?(Hu(s,n,p),bs(s,n,p)):(Ht&&Q&&du(n),n.flags|=1,Me(s,n,u,p),n.child)}function nm(s,n,r,u,p){if(s===null){var B=r.type;return typeof B=="function"&&!cu(B)&&B.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=B,im(s,n,B,u,p)):(s=vo(r.type,null,u,n,n.mode,p),s.ref=n.ref,s.return=n,n.child=s)}if(B=s.child,!ih(s,p)){var C=B.memoizedProps;if(r=r.compare,r=r!==null?r:Qa,r(C,u)&&s.ref===n.ref)return bs(s,n,p)}return n.flags|=1,s=ms(B,u),s.ref=n.ref,s.return=n,n.child=s}function im(s,n,r,u,p){if(s!==null){var B=s.memoizedProps;if(Qa(B,u)&&s.ref===n.ref)if(ye=!1,n.pendingProps=u=B,ih(s,p))(s.flags&131072)!==0&&(ye=!0);else return n.lanes=s.lanes,bs(s,n,p)}return Zu(s,n,r,u,p)}function am(s,n,r,u){var p=u.children,B=s!==null?s.memoizedState:null;if(s===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((n.flags&128)!==0){if(B=B!==null?B.baseLanes|r:r,s!==null){for(u=n.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~B}else u=0,n.child=null;return rm(s,n,B,r,u)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},s!==null&&Eo(n,B!==null?B.cachePool:null),B!==null?lp(n,B):Uu(),cp(n);else return u=n.lanes=536870912,rm(s,n,B!==null?B.baseLanes|r:r,r,u)}else B!==null?(Eo(n,B.cachePool),lp(n,B),Js(),n.memoizedState=null):(s!==null&&Eo(n,null),Uu(),Js());return Me(s,n,p,r),n.child}function Ka(s,n){return s!==null&&s.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function rm(s,n,r,u,p){var B=Cu();return B=B===null?null:{parent:we._currentValue,pool:B},n.memoizedState={baseLanes:r,cachePool:B},s!==null&&Eo(n,null),Uu(),cp(n),s!==null&&yi(s,n,u,!0),n.childLanes=p,null}function ko(s,n){return n=Ko({mode:n.mode,children:n.children},s.mode),n.ref=s.ref,s.child=n,n.return=s,n}function om(s,n,r){return kn(n,s.child,null,r),s=ko(n,n.pendingProps),s.flags|=2,vA(n),n.memoizedState=null,s}function qC(s,n,r){var u=n.pendingProps,p=(n.flags&128)!==0;if(n.flags&=-129,s===null){if(Ht){if(u.mode==="hidden")return s=ko(n,u),n.lanes=536870912,Ka(null,s);if(Tu(n),(s=Ae)?(s=vB(s,HA),s=s!==null&&s.data==="&"?s:null,s!==null&&(n.memoizedState={dehydrated:s,treeContext:Ks!==null?{id:$A,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},r=Vg(s),r.return=n,n.child=r,Le=n,Ae=null)):s=null,s===null)throw Gs(n);return n.lanes=536870912,null}return ko(n,u)}var B=s.memoizedState;if(B!==null){var C=B.dehydrated;if(Tu(n),p)if(n.flags&256)n.flags&=-257,n=om(s,n,r);else if(n.memoizedState!==null)n.child=s.child,n.flags|=128,n=null;else throw Error(A(558));else if(ye||yi(s,n,r,!1),p=(r&s.childLanes)!==0,ye||p){if(u=Zt,u!==null&&(C=Zf(u,r),C!==0&&C!==B.retryLane))throw B.retryLane=C,Dn(s,C),oA(u,s,C),Wu;Wo(),n=om(s,n,r)}else s=B.treeContext,Ae=IA(C.nextSibling),Le=n,Ht=!0,Ps=null,HA=!1,s!==null&&Yg(n,s),n=ko(n,u),n.flags|=4096;return n}return s=ms(s.child,{mode:u.mode,children:u.children}),s.ref=n.ref,n.child=s,s.return=n,s}function jo(s,n){var r=n.ref;if(r===null)s!==null&&s.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(A(284));(s===null||s.ref!==r)&&(n.flags|=4194816)}}function Zu(s,n,r,u,p){return In(n),r=Du(s,n,r,u,void 0,p),u=Nu(),s!==null&&!ye?(Hu(s,n,p),bs(s,n,p)):(Ht&&u&&du(n),n.flags|=1,Me(s,n,r,p),n.child)}function lm(s,n,r,u,p,B){return In(n),n.updateQueue=null,r=hp(n,u,r,p),up(s),u=Nu(),s!==null&&!ye?(Hu(s,n,B),bs(s,n,B)):(Ht&&u&&du(n),n.flags|=1,Me(s,n,r,B),n.child)}function cm(s,n,r,u,p){if(In(n),n.stateNode===null){var B=mi,C=r.contextType;typeof C=="object"&&C!==null&&(B=Ie(C)),B=new r(u,B),n.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=qu,n.stateNode=B,B._reactInternals=n,B=n.stateNode,B.props=u,B.state=n.memoizedState,B.refs={},Eu(n),C=r.contextType,B.context=typeof C=="object"&&C!==null?Ie(C):mi,B.state=n.memoizedState,C=r.getDerivedStateFromProps,typeof C=="function"&&(Yu(n,r,C,u),B.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(C=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),C!==B.state&&qu.enqueueReplaceState(B,B.state,null),Ma(n,u,B,p),Ia(),B.state=n.memoizedState),typeof B.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(s===null){B=n.stateNode;var Q=n.memoizedProps,L=Kn(r,Q);B.props=L;var V=B.context,Z=r.contextType;C=mi,typeof Z=="object"&&Z!==null&&(C=Ie(Z));var At=r.getDerivedStateFromProps;Z=typeof At=="function"||typeof B.getSnapshotBeforeUpdate=="function",Q=n.pendingProps!==Q,Z||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(Q||V!==C)&&Jp(n,B,u,C),zs=!1;var X=n.memoizedState;B.state=X,Ma(n,u,B,p),Ia(),V=n.memoizedState,Q||X!==V||zs?(typeof At=="function"&&(Yu(n,r,At,u),V=n.memoizedState),(L=zs||qp(n,r,L,u,X,V,C))?(Z||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(n.flags|=4194308)):(typeof B.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=V),B.props=u,B.state=V,B.context=C,u=L):(typeof B.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{B=n.stateNode,xu(s,n),C=n.memoizedProps,Z=Kn(r,C),B.props=Z,At=n.pendingProps,X=B.context,V=r.contextType,L=mi,typeof V=="object"&&V!==null&&(L=Ie(V)),Q=r.getDerivedStateFromProps,(V=typeof Q=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(C!==At||X!==L)&&Jp(n,B,u,L),zs=!1,X=n.memoizedState,B.state=X,Ma(n,u,B,p),Ia();var J=n.memoizedState;C!==At||X!==J||zs||s!==null&&s.dependencies!==null&&Co(s.dependencies)?(typeof Q=="function"&&(Yu(n,r,Q,u),J=n.memoizedState),(Z=zs||qp(n,r,Z,u,X,J,L)||s!==null&&s.dependencies!==null&&Co(s.dependencies))?(V||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(u,J,L),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(u,J,L)),typeof B.componentDidUpdate=="function"&&(n.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof B.componentDidUpdate!="function"||C===s.memoizedProps&&X===s.memoizedState||(n.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&X===s.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=J),B.props=u,B.state=J,B.context=L,u=Z):(typeof B.componentDidUpdate!="function"||C===s.memoizedProps&&X===s.memoizedState||(n.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&X===s.memoizedState||(n.flags|=1024),u=!1)}return B=u,jo(s,n),u=(n.flags&128)!==0,B||u?(B=n.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:B.render(),n.flags|=1,s!==null&&u?(n.child=kn(n,s.child,null,p),n.child=kn(n,null,r,p)):Me(s,n,r,p),n.memoizedState=B.state,s=n.child):s=bs(s,n,p),s}function um(s,n,r,u){return Hn(),n.flags|=256,Me(s,n,r,u),n.child}var $u={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function th(s){return{baseLanes:s,cachePool:tp()}}function eh(s,n,r){return s=s!==null?s.childLanes&~r:0,n&&(s|=CA),s}function hm(s,n,r){var u=n.pendingProps,p=!1,B=(n.flags&128)!==0,C;if((C=B)||(C=s!==null&&s.memoizedState===null?!1:(fe.current&2)!==0),C&&(p=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,s===null){if(Ht){if(p?qs(n):Js(),(s=Ae)?(s=vB(s,HA),s=s!==null&&s.data!=="&"?s:null,s!==null&&(n.memoizedState={dehydrated:s,treeContext:Ks!==null?{id:$A,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},r=Vg(s),r.return=n,n.child=r,Le=n,Ae=null)):s=null,s===null)throw Gs(n);return Mh(s)?n.lanes=32:n.lanes=536870912,null}var Q=u.children;return u=u.fallback,p?(Js(),p=n.mode,Q=Ko({mode:"hidden",children:Q},p),u=Nn(u,p,r,null),Q.return=n,u.return=n,Q.sibling=u,n.child=Q,u=n.child,u.memoizedState=th(r),u.childLanes=eh(s,C,r),n.memoizedState=$u,Ka(null,u)):(qs(n),Ah(n,Q))}var L=s.memoizedState;if(L!==null&&(Q=L.dehydrated,Q!==null)){if(B)n.flags&256?(qs(n),n.flags&=-257,n=sh(s,n,r)):n.memoizedState!==null?(Js(),n.child=s.child,n.flags|=128,n=null):(Js(),Q=u.fallback,p=n.mode,u=Ko({mode:"visible",children:u.children},p),Q=Nn(Q,p,r,null),Q.flags|=2,u.return=n,Q.return=n,u.sibling=Q,n.child=u,kn(n,s.child,null,r),u=n.child,u.memoizedState=th(r),u.childLanes=eh(s,C,r),n.memoizedState=$u,n=Ka(null,u));else if(qs(n),Mh(Q)){if(C=Q.nextSibling&&Q.nextSibling.dataset,C)var V=C.dgst;C=V,u=Error(A(419)),u.stack="",u.digest=C,Ta({value:u,source:null,stack:null}),n=sh(s,n,r)}else if(ye||yi(s,n,r,!1),C=(r&s.childLanes)!==0,ye||C){if(C=Zt,C!==null&&(u=Zf(C,r),u!==0&&u!==L.retryLane))throw L.retryLane=u,Dn(s,u),oA(C,s,u),Wu;Ih(Q)||Wo(),n=sh(s,n,r)}else Ih(Q)?(n.flags|=192,n.child=s.child,n=null):(s=L.treeContext,Ae=IA(Q.nextSibling),Le=n,Ht=!0,Ps=null,HA=!1,s!==null&&Yg(n,s),n=Ah(n,u.children),n.flags|=4096);return n}return p?(Js(),Q=u.fallback,p=n.mode,L=s.child,V=L.sibling,u=ms(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,V!==null?Q=ms(V,Q):(Q=Nn(Q,p,r,null),Q.flags|=2),Q.return=n,u.return=n,u.sibling=Q,n.child=u,Ka(null,u),u=n.child,Q=s.child.memoizedState,Q===null?Q=th(r):(p=Q.cachePool,p!==null?(L=we._currentValue,p=p.parent!==L?{parent:L,pool:L}:p):p=tp(),Q={baseLanes:Q.baseLanes|r,cachePool:p}),u.memoizedState=Q,u.childLanes=eh(s,C,r),n.memoizedState=$u,Ka(s.child,u)):(qs(n),r=s.child,s=r.sibling,r=ms(r,{mode:"visible",children:u.children}),r.return=n,r.sibling=null,s!==null&&(C=n.deletions,C===null?(n.deletions=[s],n.flags|=16):C.push(s)),n.child=r,n.memoizedState=null,r)}function Ah(s,n){return n=Ko({mode:"visible",children:n},s.mode),n.return=s,s.child=n}function Ko(s,n){return s=BA(22,s,null,n),s.lanes=0,s}function sh(s,n,r){return kn(n,s.child,null,r),s=Ah(n,n.pendingProps.children),s.flags|=2,n.memoizedState=null,s}function dm(s,n,r){s.lanes|=n;var u=s.alternate;u!==null&&(u.lanes|=n),Bu(s.return,n,r)}function nh(s,n,r,u,p,B){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:p,treeForkCount:B}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=u,C.tail=r,C.tailMode=p,C.treeForkCount=B)}function fm(s,n,r){var u=n.pendingProps,p=u.revealOrder,B=u.tail;u=u.children;var C=fe.current,Q=(C&2)!==0;if(Q?(C=C&1|2,n.flags|=128):C&=1,W(fe,C),Me(s,n,u,r),u=Ht?Fa:0,!Q&&s!==null&&(s.flags&128)!==0)t:for(s=n.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&dm(s,r,n);else if(s.tag===19)dm(s,r,n);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(r=n.child,p=null;r!==null;)s=r.alternate,s!==null&&To(s)===null&&(p=r),r=r.sibling;r=p,r===null?(p=n.child,n.child=null):(p=r.sibling,r.sibling=null),nh(n,!1,p,r,B,u);break;case"backwards":case"unstable_legacy-backwards":for(r=null,p=n.child,n.child=null;p!==null;){if(s=p.alternate,s!==null&&To(s)===null){n.child=p;break}s=p.sibling,p.sibling=r,r=p,p=s}nh(n,!0,r,null,B,u);break;case"together":nh(n,!1,null,null,void 0,u);break;default:n.memoizedState=null}return n.child}function bs(s,n,r){if(s!==null&&(n.dependencies=s.dependencies),$s|=n.lanes,(r&n.childLanes)===0)if(s!==null){if(yi(s,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(s!==null&&n.child!==s.child)throw Error(A(153));if(n.child!==null){for(s=n.child,r=ms(s,s.pendingProps),n.child=r,r.return=n;s.sibling!==null;)s=s.sibling,r=r.sibling=ms(s,s.pendingProps),r.return=n;r.sibling=null}return n.child}function ih(s,n){return(s.lanes&n)!==0?!0:(s=s.dependencies,!!(s!==null&&Co(s)))}function JC(s,n,r){switch(n.tag){case 3:St(n,n.stateNode.containerInfo),Vs(n,we,s.memoizedState.cache),Hn();break;case 27:case 5:ct(n);break;case 4:St(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Tu(n),null;break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(qs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?hm(s,n,r):(qs(n),s=bs(s,n,r),s!==null?s.sibling:null);qs(n);break;case 19:var p=(s.flags&128)!==0;if(u=(r&n.childLanes)!==0,u||(yi(s,n,r,!1),u=(r&n.childLanes)!==0),p){if(u)return fm(s,n,r);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(fe,fe.current),u)break;return null;case 22:return n.lanes=0,am(s,n,r,n.pendingProps);case 24:Vs(n,we,s.memoizedState.cache)}return bs(s,n,r)}function gm(s,n,r){if(s!==null)if(s.memoizedProps!==n.pendingProps)ye=!0;else{if(!ih(s,r)&&(n.flags&128)===0)return ye=!1,JC(s,n,r);ye=(s.flags&131072)!==0}else ye=!1,Ht&&(n.flags&1048576)!==0&&Xg(n,Fa,n.index);switch(n.lanes=0,n.tag){case 16:t:{var u=n.pendingProps;if(s=Rn(n.elementType),n.type=s,typeof s=="function")cu(s)?(u=Kn(s,u),n.tag=1,n=cm(null,n,s,u,r)):(n.tag=0,n=Zu(null,n,s,u,r));else{if(s!=null){var p=s.$$typeof;if(p===T){n.tag=11,n=sm(null,n,s,u,r);break t}else if(p===F){n.tag=14,n=nm(null,n,s,u,r);break t}}throw n=at(s)||s,Error(A(306,n,""))}}return n;case 0:return Zu(s,n,n.type,n.pendingProps,r);case 1:return u=n.type,p=Kn(u,n.pendingProps),cm(s,n,u,p,r);case 3:t:{if(St(n,n.stateNode.containerInfo),s===null)throw Error(A(387));u=n.pendingProps;var B=n.memoizedState;p=B.element,xu(s,n),Ma(n,u,null,r);var C=n.memoizedState;if(u=C.cache,Vs(n,we,u),u!==B.cache&&wu(n,[we],r,!0),Ia(),u=C.element,B.isDehydrated)if(B={element:u,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=B,n.memoizedState=B,n.flags&256){n=um(s,n,u,r);break t}else if(u!==p){p=_A(Error(A(424)),n),Ta(p),n=um(s,n,u,r);break t}else for(s=n.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Ae=IA(s.firstChild),Le=n,Ht=!0,Ps=null,HA=!0,r=ap(n,null,u,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hn(),u===p){n=bs(s,n,r);break t}Me(s,n,u,r)}n=n.child}return n;case 26:return jo(s,n),s===null?(r=SB(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ht||(r=n.type,s=n.pendingProps,u=nl(ot.current).createElement(r),u[He]=n,u[AA]=s,Re(u,r,s),Fe(u),n.stateNode=u):n.memoizedState=SB(n.type,s.memoizedProps,n.pendingProps,s.memoizedState),null;case 27:return ct(n),s===null&&Ht&&(u=n.stateNode=bB(n.type,n.pendingProps,ot.current),Le=n,HA=!0,p=Ae,nn(n.type)?(Rh=p,Ae=IA(u.firstChild)):Ae=p),Me(s,n,n.pendingProps.children,r),jo(s,n),s===null&&(n.flags|=4194304),n.child;case 5:return s===null&&Ht&&((p=u=Ae)&&(u=Sb(u,n.type,n.pendingProps,HA),u!==null?(n.stateNode=u,Le=n,Ae=IA(u.firstChild),HA=!1,p=!0):p=!1),p||Gs(n)),ct(n),p=n.type,B=n.pendingProps,C=s!==null?s.memoizedProps:null,u=B.children,Nh(p,B)?u=null:C!==null&&Nh(p,C)&&(n.flags|=32),n.memoizedState!==null&&(p=Du(s,n,jC,null,null,r),sr._currentValue=p),jo(s,n),Me(s,n,u,r),n.child;case 6:return s===null&&Ht&&((s=r=Ae)&&(r=Qb(r,n.pendingProps,HA),r!==null?(n.stateNode=r,Le=n,Ae=null,s=!0):s=!1),s||Gs(n)),null;case 13:return hm(s,n,r);case 4:return St(n,n.stateNode.containerInfo),u=n.pendingProps,s===null?n.child=kn(n,null,u,r):Me(s,n,u,r),n.child;case 11:return sm(s,n,n.type,n.pendingProps,r);case 7:return Me(s,n,n.pendingProps,r),n.child;case 8:return Me(s,n,n.pendingProps.children,r),n.child;case 12:return Me(s,n,n.pendingProps.children,r),n.child;case 10:return u=n.pendingProps,Vs(n,n.type,u.value),Me(s,n,u.children,r),n.child;case 9:return p=n.type._context,u=n.pendingProps.children,In(n),p=Ie(p),u=u(p),n.flags|=1,Me(s,n,u,r),n.child;case 14:return nm(s,n,n.type,n.pendingProps,r);case 15:return im(s,n,n.type,n.pendingProps,r);case 19:return fm(s,n,r);case 31:return qC(s,n,r);case 22:return am(s,n,r,n.pendingProps);case 24:return In(n),u=Ie(we),s===null?(p=Cu(),p===null&&(p=Zt,B=vu(),p.pooledCache=B,B.refCount++,B!==null&&(p.pooledCacheLanes|=r),p=B),n.memoizedState={parent:u,cache:p},Eu(n),Vs(n,we,p)):((s.lanes&r)!==0&&(xu(s,n),Ma(n,null,null,r),Ia()),p=s.memoizedState,B=n.memoizedState,p.parent!==u?(p={parent:u,cache:u},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),Vs(n,we,u)):(u=B.cache,Vs(n,we,u),u!==p.cache&&wu(n,[we],r,!0))),Me(s,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(A(156,n.tag))}function Es(s){s.flags|=4}function ah(s,n,r,u,p){if((n=(s.mode&32)!==0)&&(n=!1),n){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(Km())s.flags|=8192;else throw On=So,bu}else s.flags&=-16777217}function pm(s,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!_B(n))if(Km())s.flags|=8192;else throw On=So,bu}function Po(s,n){n!==null&&(s.flags|=4),s.flags&16384&&(n=s.tag!==22?qf():536870912,s.lanes|=n,Ni|=n)}function Pa(s,n){if(!Ht)switch(s.tailMode){case"hidden":n=s.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?s.tail=null:r.sibling=null;break;case"collapsed":r=s.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?n||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function se(s){var n=s.alternate!==null&&s.alternate.child===s.child,r=0,u=0;if(n)for(var p=s.child;p!==null;)r|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)r|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=r,n}function WC(s,n,r){var u=n.pendingProps;switch(fu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return r=n.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),vs(we),wt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(s===null||s.child===null)&&(vi(n)?Es(n):s===null||s.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,pu())),se(n),null;case 26:var p=n.type,B=n.memoizedState;return s===null?(Es(n),B!==null?(se(n),pm(n,B)):(se(n),ah(n,p,null,u,r))):B?B!==s.memoizedState?(Es(n),se(n),pm(n,B)):(se(n),n.flags&=-16777217):(s=s.memoizedProps,s!==u&&Es(n),se(n),ah(n,p,s,u,r)),null;case 27:if(Mt(n),r=ot.current,p=n.type,s!==null&&n.stateNode!=null)s.memoizedProps!==u&&Es(n);else{if(!u){if(n.stateNode===null)throw Error(A(166));return se(n),null}s=tt.current,vi(n)?qg(n):(s=bB(p,u,r),n.stateNode=s,Es(n))}return se(n),null;case 5:if(Mt(n),p=n.type,s!==null&&n.stateNode!=null)s.memoizedProps!==u&&Es(n);else{if(!u){if(n.stateNode===null)throw Error(A(166));return se(n),null}if(B=tt.current,vi(n))qg(n);else{var C=nl(ot.current);switch(B){case 1:B=C.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:B=C.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":B=C.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":B=C.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":B=C.createElement("div"),B.innerHTML="<script><\/script>",B=B.removeChild(B.firstChild);break;case"select":B=typeof u.is=="string"?C.createElement("select",{is:u.is}):C.createElement("select"),u.multiple?B.multiple=!0:u.size&&(B.size=u.size);break;default:B=typeof u.is=="string"?C.createElement(p,{is:u.is}):C.createElement(p)}}B[He]=n,B[AA]=u;t:for(C=n.child;C!==null;){if(C.tag===5||C.tag===6)B.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break t;for(;C.sibling===null;){if(C.return===null||C.return===n)break t;C=C.return}C.sibling.return=C.return,C=C.sibling}n.stateNode=B;t:switch(Re(B,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Es(n)}}return se(n),ah(n,n.type,s===null?null:s.memoizedProps,n.pendingProps,r),null;case 6:if(s&&n.stateNode!=null)s.memoizedProps!==u&&Es(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(A(166));if(s=ot.current,vi(n)){if(s=n.stateNode,r=n.memoizedProps,u=null,p=Le,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[He]=n,s=!!(s.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||hB(s.nodeValue,r)),s||Gs(n,!0)}else s=nl(s).createTextNode(u),s[He]=n,n.stateNode=s}return se(n),null;case 31:if(r=n.memoizedState,s===null||s.memoizedState!==null){if(u=vi(n),r!==null){if(s===null){if(!u)throw Error(A(318));if(s=n.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(557));s[He]=n}else Hn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),s=!1}else r=pu(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=r),s=!0;if(!s)return n.flags&256?(vA(n),n):(vA(n),null);if((n.flags&128)!==0)throw Error(A(558))}return se(n),null;case 13:if(u=n.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=vi(n),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(A(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(A(317));p[He]=n}else Hn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),p=!1}else p=pu(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(vA(n),n):(vA(n),null)}return vA(n),(n.flags&128)!==0?(n.lanes=r,n):(r=u!==null,s=s!==null&&s.memoizedState!==null,r&&(u=n.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),B=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(B=u.memoizedState.cachePool.pool),B!==p&&(u.flags|=2048)),r!==s&&r&&(n.child.flags|=8192),Po(n,n.updateQueue),se(n),null);case 4:return wt(),s===null&&Uh(n.stateNode.containerInfo),se(n),null;case 10:return vs(n.type),se(n),null;case 19:if(j(fe),u=n.memoizedState,u===null)return se(n),null;if(p=(n.flags&128)!==0,B=u.rendering,B===null)if(p)Pa(u,!1);else{if(he!==0||s!==null&&(s.flags&128)!==0)for(s=n.child;s!==null;){if(B=To(s),B!==null){for(n.flags|=128,Pa(u,!1),s=B.updateQueue,n.updateQueue=s,Po(n,s),n.subtreeFlags=0,s=r,r=n.child;r!==null;)Gg(r,s),r=r.sibling;return W(fe,fe.current&1|2),Ht&&Bs(n,u.treeForkCount),n.child}s=s.sibling}u.tail!==null&&fA()>Yo&&(n.flags|=128,p=!0,Pa(u,!1),n.lanes=4194304)}else{if(!p)if(s=To(B),s!==null){if(n.flags|=128,p=!0,s=s.updateQueue,n.updateQueue=s,Po(n,s),Pa(u,!0),u.tail===null&&u.tailMode==="hidden"&&!B.alternate&&!Ht)return se(n),null}else 2*fA()-u.renderingStartTime>Yo&&r!==536870912&&(n.flags|=128,p=!0,Pa(u,!1),n.lanes=4194304);u.isBackwards?(B.sibling=n.child,n.child=B):(s=u.last,s!==null?s.sibling=B:n.child=B,u.last=B)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=fA(),s.sibling=null,r=fe.current,W(fe,p?r&1|2:r&1),Ht&&Bs(n,u.treeForkCount),s):(se(n),null);case 22:case 23:return vA(n),Fu(),u=n.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(r&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),r=n.updateQueue,r!==null&&Po(n,r.retryQueue),r=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==r&&(n.flags|=2048),s!==null&&j(Mn),null;case 24:return r=null,s!==null&&(r=s.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),vs(we),se(n),null;case 25:return null;case 30:return null}throw Error(A(156,n.tag))}function ZC(s,n){switch(fu(n),n.tag){case 1:return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 3:return vs(we),wt(),s=n.flags,(s&65536)!==0&&(s&128)===0?(n.flags=s&-65537|128,n):null;case 26:case 27:case 5:return Mt(n),null;case 31:if(n.memoizedState!==null){if(vA(n),n.alternate===null)throw Error(A(340));Hn()}return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 13:if(vA(n),s=n.memoizedState,s!==null&&s.dehydrated!==null){if(n.alternate===null)throw Error(A(340));Hn()}return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 19:return j(fe),null;case 4:return wt(),null;case 10:return vs(n.type),null;case 22:case 23:return vA(n),Fu(),s!==null&&j(Mn),s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 24:return vs(we),null;case 25:return null;default:return null}}function mm(s,n){switch(fu(n),n.tag){case 3:vs(we),wt();break;case 26:case 27:case 5:Mt(n);break;case 4:wt();break;case 31:n.memoizedState!==null&&vA(n);break;case 13:vA(n);break;case 19:j(fe);break;case 10:vs(n.type);break;case 22:case 23:vA(n),Fu(),s!==null&&j(Mn);break;case 24:vs(we)}}function Ga(s,n){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var p=u.next;r=p;do{if((r.tag&s)===s){u=void 0;var B=r.create,C=r.inst;u=B(),C.destroy=u}r=r.next}while(r!==p)}}catch(Q){Vt(n,n.return,Q)}}function Ws(s,n,r){try{var u=n.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var B=p.next;u=B;do{if((u.tag&s)===s){var C=u.inst,Q=C.destroy;if(Q!==void 0){C.destroy=void 0,p=n;var L=r,V=Q;try{V()}catch(Z){Vt(p,L,Z)}}}u=u.next}while(u!==B)}}catch(Z){Vt(n,n.return,Z)}}function Bm(s){var n=s.updateQueue;if(n!==null){var r=s.stateNode;try{op(n,r)}catch(u){Vt(s,s.return,u)}}}function wm(s,n,r){r.props=Kn(s.type,s.memoizedProps),r.state=s.memoizedState;try{r.componentWillUnmount()}catch(u){Vt(s,n,u)}}function Va(s,n){try{var r=s.ref;if(r!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof r=="function"?s.refCleanup=r(u):r.current=u}}catch(p){Vt(s,n,p)}}function es(s,n){var r=s.ref,u=s.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(p){Vt(s,n,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){Vt(s,n,p)}else r.current=null}function vm(s){var n=s.type,r=s.memoizedProps,u=s.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break t;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(p){Vt(s,s.return,p)}}function rh(s,n,r){try{var u=s.stateNode;vb(u,s.type,r,n),u[AA]=n}catch(p){Vt(s,s.return,p)}}function ym(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&nn(s.type)||s.tag===4}function oh(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||ym(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&nn(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function lh(s,n,r){var u=s.tag;if(u===5||u===6)s=s.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(s,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(s),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=gs));else if(u!==4&&(u===27&&nn(s.type)&&(r=s.stateNode,n=null),s=s.child,s!==null))for(lh(s,n,r),s=s.sibling;s!==null;)lh(s,n,r),s=s.sibling}function Go(s,n,r){var u=s.tag;if(u===5||u===6)s=s.stateNode,n?r.insertBefore(s,n):r.appendChild(s);else if(u!==4&&(u===27&&nn(s.type)&&(r=s.stateNode),s=s.child,s!==null))for(Go(s,n,r),s=s.sibling;s!==null;)Go(s,n,r),s=s.sibling}function Cm(s){var n=s.stateNode,r=s.memoizedProps;try{for(var u=s.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);Re(n,u,r),n[He]=s,n[AA]=r}catch(B){Vt(s,s.return,B)}}var xs=!1,Ce=!1,ch=!1,bm=typeof WeakSet=="function"?WeakSet:Set,Te=null;function $C(s,n){if(s=s.containerInfo,_h=ul,s=Lg(s),su(s)){if("selectionStart"in s)var r={start:s.selectionStart,end:s.selectionEnd};else t:{r=(r=s.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var p=u.anchorOffset,B=u.focusNode;u=u.focusOffset;try{r.nodeType,B.nodeType}catch{r=null;break t}var C=0,Q=-1,L=-1,V=0,Z=0,At=s,X=null;e:for(;;){for(var J;At!==r||p!==0&&At.nodeType!==3||(Q=C+p),At!==B||u!==0&&At.nodeType!==3||(L=C+u),At.nodeType===3&&(C+=At.nodeValue.length),(J=At.firstChild)!==null;)X=At,At=J;for(;;){if(At===s)break e;if(X===r&&++V===p&&(Q=C),X===B&&++Z===u&&(L=C),(J=At.nextSibling)!==null)break;At=X,X=At.parentNode}At=J}r=Q===-1||L===-1?null:{start:Q,end:L}}else r=null}r=r||{start:0,end:0}}else r=null;for(Dh={focusedElem:s,selectionRange:r},ul=!1,Te=n;Te!==null;)if(n=Te,s=n.child,(n.subtreeFlags&1028)!==0&&s!==null)s.return=n,Te=s;else for(;Te!==null;){switch(n=Te,B=n.alternate,s=n.flags,n.tag){case 0:if((s&4)!==0&&(s=n.updateQueue,s=s!==null?s.events:null,s!==null))for(r=0;r<s.length;r++)p=s[r],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&B!==null){s=void 0,r=n,p=B.memoizedProps,B=B.memoizedState,u=r.stateNode;try{var ft=Kn(r.type,p);s=u.getSnapshotBeforeUpdate(ft,B),u.__reactInternalSnapshotBeforeUpdate=s}catch(vt){Vt(r,r.return,vt)}}break;case 3:if((s&1024)!==0){if(s=n.stateNode.containerInfo,r=s.nodeType,r===9)Lh(s);else if(r===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Lh(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(A(163))}if(s=n.sibling,s!==null){s.return=n.return,Te=s;break}Te=n.return}}function Em(s,n,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Qs(s,r),u&4&&Ga(5,r);break;case 1:if(Qs(s,r),u&4)if(s=r.stateNode,n===null)try{s.componentDidMount()}catch(C){Vt(r,r.return,C)}else{var p=Kn(r.type,n.memoizedProps);n=n.memoizedState;try{s.componentDidUpdate(p,n,s.__reactInternalSnapshotBeforeUpdate)}catch(C){Vt(r,r.return,C)}}u&64&&Bm(r),u&512&&Va(r,r.return);break;case 3:if(Qs(s,r),u&64&&(s=r.updateQueue,s!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{op(s,n)}catch(C){Vt(r,r.return,C)}}break;case 27:n===null&&u&4&&Cm(r);case 26:case 5:Qs(s,r),n===null&&u&4&&vm(r),u&512&&Va(r,r.return);break;case 12:Qs(s,r);break;case 31:Qs(s,r),u&4&&Qm(s,r);break;case 13:Qs(s,r),u&4&&Um(s,r),u&64&&(s=r.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(r=ob.bind(null,r),Ub(s,r))));break;case 22:if(u=r.memoizedState!==null||xs,!u){n=n!==null&&n.memoizedState!==null||Ce,p=xs;var B=Ce;xs=u,(Ce=n)&&!B?Us(s,r,(r.subtreeFlags&8772)!==0):Qs(s,r),xs=p,Ce=B}break;case 30:break;default:Qs(s,r)}}function xm(s){var n=s.alternate;n!==null&&(s.alternate=null,xm(n)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(n=s.stateNode,n!==null&&kc(n)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ne=null,nA=!1;function Ss(s,n,r){for(r=r.child;r!==null;)Sm(s,n,r),r=r.sibling}function Sm(s,n,r){if(gA&&typeof gA.onCommitFiberUnmount=="function")try{gA.onCommitFiberUnmount(ga,r)}catch{}switch(r.tag){case 26:Ce||es(r,n),Ss(s,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ce||es(r,n);var u=ne,p=nA;nn(r.type)&&(ne=r.stateNode,nA=!1),Ss(s,n,r),tr(r.stateNode),ne=u,nA=p;break;case 5:Ce||es(r,n);case 6:if(u=ne,p=nA,ne=null,Ss(s,n,r),ne=u,nA=p,ne!==null)if(nA)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(r.stateNode)}catch(B){Vt(r,n,B)}else try{ne.removeChild(r.stateNode)}catch(B){Vt(r,n,B)}break;case 18:ne!==null&&(nA?(s=ne,BB(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.stateNode),ji(s)):BB(ne,r.stateNode));break;case 4:u=ne,p=nA,ne=r.stateNode.containerInfo,nA=!0,Ss(s,n,r),ne=u,nA=p;break;case 0:case 11:case 14:case 15:Ws(2,r,n),Ce||Ws(4,r,n),Ss(s,n,r);break;case 1:Ce||(es(r,n),u=r.stateNode,typeof u.componentWillUnmount=="function"&&wm(r,n,u)),Ss(s,n,r);break;case 21:Ss(s,n,r);break;case 22:Ce=(u=Ce)||r.memoizedState!==null,Ss(s,n,r),Ce=u;break;default:Ss(s,n,r)}}function Qm(s,n){if(n.memoizedState===null&&(s=n.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ji(s)}catch(r){Vt(n,n.return,r)}}}function Um(s,n){if(n.memoizedState===null&&(s=n.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ji(s)}catch(r){Vt(n,n.return,r)}}function tb(s){switch(s.tag){case 31:case 13:case 19:var n=s.stateNode;return n===null&&(n=s.stateNode=new bm),n;case 22:return s=s.stateNode,n=s._retryCache,n===null&&(n=s._retryCache=new bm),n;default:throw Error(A(435,s.tag))}}function Vo(s,n){var r=tb(s);n.forEach(function(u){if(!r.has(u)){r.add(u);var p=lb.bind(null,s,u);u.then(p,p)}})}function iA(s,n){var r=n.deletions;if(r!==null)for(var u=0;u<r.length;u++){var p=r[u],B=s,C=n,Q=C;t:for(;Q!==null;){switch(Q.tag){case 27:if(nn(Q.type)){ne=Q.stateNode,nA=!1;break t}break;case 5:ne=Q.stateNode,nA=!1;break t;case 3:case 4:ne=Q.stateNode.containerInfo,nA=!0;break t}Q=Q.return}if(ne===null)throw Error(A(160));Sm(B,C,p),ne=null,nA=!1,B=p.alternate,B!==null&&(B.return=null),p.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Fm(n,s),n=n.sibling}var XA=null;function Fm(s,n){var r=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:iA(n,s),aA(s),u&4&&(Ws(3,s,s.return),Ga(3,s),Ws(5,s,s.return));break;case 1:iA(n,s),aA(s),u&512&&(Ce||r===null||es(r,r.return)),u&64&&xs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(r=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var p=XA;if(iA(n,s),aA(s),u&512&&(Ce||r===null||es(r,r.return)),u&4){var B=r!==null?r.memoizedState:null;if(u=s.memoizedState,r===null)if(u===null)if(s.stateNode===null){t:{u=s.type,r=s.memoizedProps,p=p.ownerDocument||p;e:switch(u){case"title":B=p.getElementsByTagName("title")[0],(!B||B[Ba]||B[He]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=p.createElement(u),p.head.insertBefore(B,p.querySelector("head > title"))),Re(B,u,r),B[He]=s,Fe(B),u=B;break t;case"link":var C=FB("link","href",p).get(u+(r.href||""));if(C){for(var Q=0;Q<C.length;Q++)if(B=C[Q],B.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&B.getAttribute("rel")===(r.rel==null?null:r.rel)&&B.getAttribute("title")===(r.title==null?null:r.title)&&B.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){C.splice(Q,1);break e}}B=p.createElement(u),Re(B,u,r),p.head.appendChild(B);break;case"meta":if(C=FB("meta","content",p).get(u+(r.content||""))){for(Q=0;Q<C.length;Q++)if(B=C[Q],B.getAttribute("content")===(r.content==null?null:""+r.content)&&B.getAttribute("name")===(r.name==null?null:r.name)&&B.getAttribute("property")===(r.property==null?null:r.property)&&B.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&B.getAttribute("charset")===(r.charSet==null?null:r.charSet)){C.splice(Q,1);break e}}B=p.createElement(u),Re(B,u,r),p.head.appendChild(B);break;default:throw Error(A(468,u))}B[He]=s,Fe(B),u=B}s.stateNode=u}else TB(p,s.type,s.stateNode);else s.stateNode=UB(p,u,s.memoizedProps);else B!==u?(B===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):B.count--,u===null?TB(p,s.type,s.stateNode):UB(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&rh(s,s.memoizedProps,r.memoizedProps)}break;case 27:iA(n,s),aA(s),u&512&&(Ce||r===null||es(r,r.return)),r!==null&&u&4&&rh(s,s.memoizedProps,r.memoizedProps);break;case 5:if(iA(n,s),aA(s),u&512&&(Ce||r===null||es(r,r.return)),s.flags&32){p=s.stateNode;try{ci(p,"")}catch(ft){Vt(s,s.return,ft)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,rh(s,p,r!==null?r.memoizedProps:p)),u&1024&&(ch=!0);break;case 6:if(iA(n,s),aA(s),u&4){if(s.stateNode===null)throw Error(A(162));u=s.memoizedProps,r=s.stateNode;try{r.nodeValue=u}catch(ft){Vt(s,s.return,ft)}}break;case 3:if(rl=null,p=XA,XA=il(n.containerInfo),iA(n,s),XA=p,aA(s),u&4&&r!==null&&r.memoizedState.isDehydrated)try{ji(n.containerInfo)}catch(ft){Vt(s,s.return,ft)}ch&&(ch=!1,Tm(s));break;case 4:u=XA,XA=il(s.stateNode.containerInfo),iA(n,s),aA(s),XA=u;break;case 12:iA(n,s),aA(s);break;case 31:iA(n,s),aA(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Vo(s,u)));break;case 13:iA(n,s),aA(s),s.child.flags&8192&&s.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Xo=fA()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Vo(s,u)));break;case 22:p=s.memoizedState!==null;var L=r!==null&&r.memoizedState!==null,V=xs,Z=Ce;if(xs=V||p,Ce=Z||L,iA(n,s),Ce=Z,xs=V,aA(s),u&8192)t:for(n=s.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(r===null||L||xs||Ce||Pn(s)),r=null,n=s;;){if(n.tag===5||n.tag===26){if(r===null){L=r=n;try{if(B=L.stateNode,p)C=B.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{Q=L.stateNode;var At=L.memoizedProps.style,X=At!=null&&At.hasOwnProperty("display")?At.display:null;Q.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ft){Vt(L,L.return,ft)}}}else if(n.tag===6){if(r===null){L=n;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(ft){Vt(L,L.return,ft)}}}else if(n.tag===18){if(r===null){L=n;try{var J=L.stateNode;p?wB(J,!0):wB(L.stateNode,!1)}catch(ft){Vt(L,L.return,ft)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===s)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=s.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,Vo(s,r))));break;case 19:iA(n,s),aA(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Vo(s,u)));break;case 30:break;case 21:break;default:iA(n,s),aA(s)}}function aA(s){var n=s.flags;if(n&2){try{for(var r,u=s.return;u!==null;){if(ym(u)){r=u;break}u=u.return}if(r==null)throw Error(A(160));switch(r.tag){case 27:var p=r.stateNode,B=oh(s);Go(s,B,p);break;case 5:var C=r.stateNode;r.flags&32&&(ci(C,""),r.flags&=-33);var Q=oh(s);Go(s,Q,C);break;case 3:case 4:var L=r.stateNode.containerInfo,V=oh(s);lh(s,V,L);break;default:throw Error(A(161))}}catch(Z){Vt(s,s.return,Z)}s.flags&=-3}n&4096&&(s.flags&=-4097)}function Tm(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var n=s;Tm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),s=s.sibling}}function Qs(s,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Em(s,n.alternate,n),n=n.sibling}function Pn(s){for(s=s.child;s!==null;){var n=s;switch(n.tag){case 0:case 11:case 14:case 15:Ws(4,n,n.return),Pn(n);break;case 1:es(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&wm(n,n.return,r),Pn(n);break;case 27:tr(n.stateNode);case 26:case 5:es(n,n.return),Pn(n);break;case 22:n.memoizedState===null&&Pn(n);break;case 30:Pn(n);break;default:Pn(n)}s=s.sibling}}function Us(s,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,p=s,B=n,C=B.flags;switch(B.tag){case 0:case 11:case 15:Us(p,B,r),Ga(4,B);break;case 1:if(Us(p,B,r),u=B,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(V){Vt(u,u.return,V)}if(u=B,p=u.updateQueue,p!==null){var Q=u.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)rp(L[p],Q)}catch(V){Vt(u,u.return,V)}}r&&C&64&&Bm(B),Va(B,B.return);break;case 27:Cm(B);case 26:case 5:Us(p,B,r),r&&u===null&&C&4&&vm(B),Va(B,B.return);break;case 12:Us(p,B,r);break;case 31:Us(p,B,r),r&&C&4&&Qm(p,B);break;case 13:Us(p,B,r),r&&C&4&&Um(p,B);break;case 22:B.memoizedState===null&&Us(p,B,r),Va(B,B.return);break;case 30:break;default:Us(p,B,r)}n=n.sibling}}function uh(s,n){var r=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==r&&(s!=null&&s.refCount++,r!=null&&_a(r))}function hh(s,n){s=null,n.alternate!==null&&(s=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==s&&(n.refCount++,s!=null&&_a(s))}function YA(s,n,r,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_m(s,n,r,u),n=n.sibling}function _m(s,n,r,u){var p=n.flags;switch(n.tag){case 0:case 11:case 15:YA(s,n,r,u),p&2048&&Ga(9,n);break;case 1:YA(s,n,r,u);break;case 3:YA(s,n,r,u),p&2048&&(s=null,n.alternate!==null&&(s=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==s&&(n.refCount++,s!=null&&_a(s)));break;case 12:if(p&2048){YA(s,n,r,u),s=n.stateNode;try{var B=n.memoizedProps,C=B.id,Q=B.onPostCommit;typeof Q=="function"&&Q(C,n.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){Vt(n,n.return,L)}}else YA(s,n,r,u);break;case 31:YA(s,n,r,u);break;case 13:YA(s,n,r,u);break;case 23:break;case 22:B=n.stateNode,C=n.alternate,n.memoizedState!==null?B._visibility&2?YA(s,n,r,u):za(s,n):B._visibility&2?YA(s,n,r,u):(B._visibility|=2,Ti(s,n,r,u,(n.subtreeFlags&10256)!==0||!1)),p&2048&&uh(C,n);break;case 24:YA(s,n,r,u),p&2048&&hh(n.alternate,n);break;default:YA(s,n,r,u)}}function Ti(s,n,r,u,p){for(p=p&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var B=s,C=n,Q=r,L=u,V=C.flags;switch(C.tag){case 0:case 11:case 15:Ti(B,C,Q,L,p),Ga(8,C);break;case 23:break;case 22:var Z=C.stateNode;C.memoizedState!==null?Z._visibility&2?Ti(B,C,Q,L,p):za(B,C):(Z._visibility|=2,Ti(B,C,Q,L,p)),p&&V&2048&&uh(C.alternate,C);break;case 24:Ti(B,C,Q,L,p),p&&V&2048&&hh(C.alternate,C);break;default:Ti(B,C,Q,L,p)}n=n.sibling}}function za(s,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=s,u=n,p=u.flags;switch(u.tag){case 22:za(r,u),p&2048&&uh(u.alternate,u);break;case 24:za(r,u),p&2048&&hh(u.alternate,u);break;default:za(r,u)}n=n.sibling}}var Xa=8192;function _i(s,n,r){if(s.subtreeFlags&Xa)for(s=s.child;s!==null;)Dm(s,n,r),s=s.sibling}function Dm(s,n,r){switch(s.tag){case 26:_i(s,n,r),s.flags&Xa&&s.memoizedState!==null&&kb(r,XA,s.memoizedState,s.memoizedProps);break;case 5:_i(s,n,r);break;case 3:case 4:var u=XA;XA=il(s.stateNode.containerInfo),_i(s,n,r),XA=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Xa,Xa=16777216,_i(s,n,r),Xa=u):_i(s,n,r));break;default:_i(s,n,r)}}function Nm(s){var n=s.alternate;if(n!==null&&(s=n.child,s!==null)){n.child=null;do n=s.sibling,s.sibling=null,s=n;while(s!==null)}}function Ya(s){var n=s.deletions;if((s.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var u=n[r];Te=u,Lm(u,s)}Nm(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Hm(s),s=s.sibling}function Hm(s){switch(s.tag){case 0:case 11:case 15:Ya(s),s.flags&2048&&Ws(9,s,s.return);break;case 3:Ya(s);break;case 12:Ya(s);break;case 22:var n=s.stateNode;s.memoizedState!==null&&n._visibility&2&&(s.return===null||s.return.tag!==13)?(n._visibility&=-3,zo(s)):Ya(s);break;default:Ya(s)}}function zo(s){var n=s.deletions;if((s.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var u=n[r];Te=u,Lm(u,s)}Nm(s)}for(s=s.child;s!==null;){switch(n=s,n.tag){case 0:case 11:case 15:Ws(8,n,n.return),zo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,zo(n));break;default:zo(n)}s=s.sibling}}function Lm(s,n){for(;Te!==null;){var r=Te;switch(r.tag){case 0:case 11:case 15:Ws(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:_a(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,Te=u;else t:for(r=s;Te!==null;){u=Te;var p=u.sibling,B=u.return;if(xm(u),u===r){Te=null;break t}if(p!==null){p.return=B,Te=p;break t}Te=B}}}var eb={getCacheForType:function(s){var n=Ie(we),r=n.data.get(s);return r===void 0&&(r=s(),n.data.set(s,r)),r},cacheSignal:function(){return Ie(we).controller.signal}},Ab=typeof WeakMap=="function"?WeakMap:Map,kt=0,Zt=null,Ft=null,_t=0,Gt=0,yA=null,Zs=!1,Di=!1,dh=!1,Fs=0,he=0,$s=0,Gn=0,fh=0,CA=0,Ni=0,qa=null,rA=null,gh=!1,Xo=0,Im=0,Yo=1/0,qo=null,tn=null,Qe=0,en=null,Hi=null,Ts=0,ph=0,mh=null,Mm=null,Ja=0,Bh=null;function bA(){return(kt&2)!==0&&_t!==0?_t&-_t:N.T!==null?Eh():$f()}function Rm(){if(CA===0)if((_t&536870912)===0||Ht){var s=Ao;Ao<<=1,(Ao&3932160)===0&&(Ao=262144),CA=s}else CA=536870912;return s=wA.current,s!==null&&(s.flags|=32),CA}function oA(s,n,r){(s===Zt&&(Gt===2||Gt===9)||s.cancelPendingCommit!==null)&&(Li(s,0),An(s,_t,CA,!1)),ma(s,r),((kt&2)===0||s!==Zt)&&(s===Zt&&((kt&2)===0&&(Gn|=r),he===4&&An(s,_t,CA,!1)),As(s))}function Om(s,n,r){if((kt&6)!==0)throw Error(A(327));var u=!r&&(n&127)===0&&(n&s.expiredLanes)===0||pa(s,n),p=u?ib(s,n):vh(s,n,!0),B=u;do{if(p===0){Di&&!u&&An(s,n,0,!1);break}else{if(r=s.current.alternate,B&&!sb(r)){p=vh(s,n,!1),B=!1;continue}if(p===2){if(B=n,s.errorRecoveryDisabledLanes&B)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;t:{var Q=s;p=qa;var L=Q.current.memoizedState.isDehydrated;if(L&&(Li(Q,C).flags|=256),C=vh(Q,C,!1),C!==2){if(dh&&!L){Q.errorRecoveryDisabledLanes|=B,Gn|=B,p=4;break t}B=rA,rA=p,B!==null&&(rA===null?rA=B:rA.push.apply(rA,B))}p=C}if(B=!1,p!==2)continue}}if(p===1){Li(s,0),An(s,n,0,!0);break}t:{switch(u=s,B=p,B){case 0:case 1:throw Error(A(345));case 4:if((n&4194048)!==n)break;case 6:An(u,n,CA,!Zs);break t;case 2:rA=null;break;case 3:case 5:break;default:throw Error(A(329))}if((n&62914560)===n&&(p=Xo+300-fA(),10<p)){if(An(u,n,CA,!Zs),no(u,0,!0)!==0)break t;Ts=n,u.timeoutHandle=pB(km.bind(null,u,r,rA,qo,gh,n,CA,Gn,Ni,Zs,B,"Throttled",-0,0),p);break t}km(u,r,rA,qo,gh,n,CA,Gn,Ni,Zs,B,null,-0,0)}}break}while(!0);As(s)}function km(s,n,r,u,p,B,C,Q,L,V,Z,At,X,J){if(s.timeoutHandle=-1,At=n.subtreeFlags,At&8192||(At&16785408)===16785408){At={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gs},Dm(n,B,At);var ft=(B&62914560)===B?Xo-fA():(B&4194048)===B?Im-fA():0;if(ft=jb(At,ft),ft!==null){Ts=B,s.cancelPendingCommit=ft(Ym.bind(null,s,n,B,r,u,p,C,Q,L,Z,At,null,X,J)),An(s,B,C,!V);return}}Ym(s,n,B,r,u,p,C,Q,L)}function sb(s){for(var n=s;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var p=r[u],B=p.getSnapshot;p=p.value;try{if(!mA(B(),p))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function An(s,n,r,u){n&=~fh,n&=~Gn,s.suspendedLanes|=n,s.pingedLanes&=~n,u&&(s.warmLanes|=n),u=s.expirationTimes;for(var p=n;0<p;){var B=31-pA(p),C=1<<B;u[B]=-1,p&=~C}r!==0&&Jf(s,r,n)}function Jo(){return(kt&6)===0?(Wa(0),!1):!0}function wh(){if(Ft!==null){if(Gt===0)var s=Ft.return;else s=Ft,ws=Ln=null,Lu(s),xi=null,Na=0,s=Ft;for(;s!==null;)mm(s.alternate,s),s=s.return;Ft=null}}function Li(s,n){var r=s.timeoutHandle;r!==-1&&(s.timeoutHandle=-1,bb(r)),r=s.cancelPendingCommit,r!==null&&(s.cancelPendingCommit=null,r()),Ts=0,wh(),Zt=s,Ft=r=ms(s.current,null),_t=n,Gt=0,yA=null,Zs=!1,Di=pa(s,n),dh=!1,Ni=CA=fh=Gn=$s=he=0,rA=qa=null,gh=!1,(n&8)!==0&&(n|=n&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=n;0<u;){var p=31-pA(u),B=1<<p;n|=s[p],u&=~B}return Fs=n,mo(),r}function jm(s,n){Qt=null,N.H=ja,n===Ei||n===xo?(n=sp(),Gt=3):n===bu?(n=sp(),Gt=4):Gt=n===Wu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yA=n,Ft===null&&(he=1,Oo(s,_A(n,s.current)))}function Km(){var s=wA.current;return s===null?!0:(_t&4194048)===_t?LA===null:(_t&62914560)===_t||(_t&536870912)!==0?s===LA:!1}function Pm(){var s=N.H;return N.H=ja,s===null?ja:s}function Gm(){var s=N.A;return N.A=eb,s}function Wo(){he=4,Zs||(_t&4194048)!==_t&&wA.current!==null||(Di=!0),($s&134217727)===0&&(Gn&134217727)===0||Zt===null||An(Zt,_t,CA,!1)}function vh(s,n,r){var u=kt;kt|=2;var p=Pm(),B=Gm();(Zt!==s||_t!==n)&&(qo=null,Li(s,n)),n=!1;var C=he;t:do try{if(Gt!==0&&Ft!==null){var Q=Ft,L=yA;switch(Gt){case 8:wh(),C=6;break t;case 3:case 2:case 9:case 6:wA.current===null&&(n=!0);var V=Gt;if(Gt=0,yA=null,Ii(s,Q,L,V),r&&Di){C=0;break t}break;default:V=Gt,Gt=0,yA=null,Ii(s,Q,L,V)}}nb(),C=he;break}catch(Z){jm(s,Z)}while(!0);return n&&s.shellSuspendCounter++,ws=Ln=null,kt=u,N.H=p,N.A=B,Ft===null&&(Zt=null,_t=0,mo()),C}function nb(){for(;Ft!==null;)Vm(Ft)}function ib(s,n){var r=kt;kt|=2;var u=Pm(),p=Gm();Zt!==s||_t!==n?(qo=null,Yo=fA()+500,Li(s,n)):Di=pa(s,n);t:do try{if(Gt!==0&&Ft!==null){n=Ft;var B=yA;e:switch(Gt){case 1:Gt=0,yA=null,Ii(s,n,B,1);break;case 2:case 9:if(ep(B)){Gt=0,yA=null,zm(n);break}n=function(){Gt!==2&&Gt!==9||Zt!==s||(Gt=7),As(s)},B.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:ep(B)?(Gt=0,yA=null,zm(n)):(Gt=0,yA=null,Ii(s,n,B,7));break;case 5:var C=null;switch(Ft.tag){case 26:C=Ft.memoizedState;case 5:case 27:var Q=Ft;if(C?_B(C):Q.stateNode.complete){Gt=0,yA=null;var L=Q.sibling;if(L!==null)Ft=L;else{var V=Q.return;V!==null?(Ft=V,Zo(V)):Ft=null}break e}}Gt=0,yA=null,Ii(s,n,B,5);break;case 6:Gt=0,yA=null,Ii(s,n,B,6);break;case 8:wh(),he=6;break t;default:throw Error(A(462))}}ab();break}catch(Z){jm(s,Z)}while(!0);return ws=Ln=null,N.H=u,N.A=p,kt=r,Ft!==null?0:(Zt=null,_t=0,mo(),he)}function ab(){for(;Ft!==null&&!ds();)Vm(Ft)}function Vm(s){var n=gm(s.alternate,s,Fs);s.memoizedProps=s.pendingProps,n===null?Zo(s):Ft=n}function zm(s){var n=s,r=n.alternate;switch(n.tag){case 15:case 0:n=lm(r,n,n.pendingProps,n.type,void 0,_t);break;case 11:n=lm(r,n,n.pendingProps,n.type.render,n.ref,_t);break;case 5:Lu(n);default:mm(r,n),n=Ft=Gg(n,Fs),n=gm(r,n,Fs)}s.memoizedProps=s.pendingProps,n===null?Zo(s):Ft=n}function Ii(s,n,r,u){ws=Ln=null,Lu(n),xi=null,Na=0;var p=n.return;try{if(YC(s,p,n,r,_t)){he=1,Oo(s,_A(r,s.current)),Ft=null;return}}catch(B){if(p!==null)throw Ft=p,B;he=1,Oo(s,_A(r,s.current)),Ft=null;return}n.flags&32768?(Ht||u===1?s=!0:Di||(_t&536870912)!==0?s=!1:(Zs=s=!0,(u===2||u===9||u===3||u===6)&&(u=wA.current,u!==null&&u.tag===13&&(u.flags|=16384))),Xm(n,s)):Zo(n)}function Zo(s){var n=s;do{if((n.flags&32768)!==0){Xm(n,Zs);return}s=n.return;var r=WC(n.alternate,n,Fs);if(r!==null){Ft=r;return}if(n=n.sibling,n!==null){Ft=n;return}Ft=n=s}while(n!==null);he===0&&(he=5)}function Xm(s,n){do{var r=ZC(s.alternate,s);if(r!==null){r.flags&=32767,Ft=r;return}if(r=s.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(s=s.sibling,s!==null)){Ft=s;return}Ft=s=r}while(s!==null);he=6,Ft=null}function Ym(s,n,r,u,p,B,C,Q,L){s.cancelPendingCommit=null;do $o();while(Qe!==0);if((kt&6)!==0)throw Error(A(327));if(n!==null){if(n===s.current)throw Error(A(177));if(B=n.lanes|n.childLanes,B|=ou,Oy(s,r,B,C,Q,L),s===Zt&&(Ft=Zt=null,_t=0),Hi=n,en=s,Ts=r,ph=B,mh=p,Mm=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,cb(to,function(){return $m(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=N.T,N.T=null,p=M.p,M.p=2,C=kt,kt|=4;try{$C(s,n,r)}finally{kt=C,M.p=p,N.T=u}}Qe=1,qm(),Jm(),Wm()}}function qm(){if(Qe===1){Qe=0;var s=en,n=Hi,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=N.T,N.T=null;var u=M.p;M.p=2;var p=kt;kt|=4;try{Fm(n,s);var B=Dh,C=Lg(s.containerInfo),Q=B.focusedElem,L=B.selectionRange;if(C!==Q&&Q&&Q.ownerDocument&&Hg(Q.ownerDocument.documentElement,Q)){if(L!==null&&su(Q)){var V=L.start,Z=L.end;if(Z===void 0&&(Z=V),"selectionStart"in Q)Q.selectionStart=V,Q.selectionEnd=Math.min(Z,Q.value.length);else{var At=Q.ownerDocument||document,X=At&&At.defaultView||window;if(X.getSelection){var J=X.getSelection(),ft=Q.textContent.length,vt=Math.min(L.start,ft),Yt=L.end===void 0?vt:Math.min(L.end,ft);!J.extend&&vt>Yt&&(C=Yt,Yt=vt,vt=C);var k=Ng(Q,vt),I=Ng(Q,Yt);if(k&&I&&(J.rangeCount!==1||J.anchorNode!==k.node||J.anchorOffset!==k.offset||J.focusNode!==I.node||J.focusOffset!==I.offset)){var P=At.createRange();P.setStart(k.node,k.offset),J.removeAllRanges(),vt>Yt?(J.addRange(P),J.extend(I.node,I.offset)):(P.setEnd(I.node,I.offset),J.addRange(P))}}}}for(At=[],J=Q;J=J.parentNode;)J.nodeType===1&&At.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<At.length;Q++){var et=At[Q];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}ul=!!_h,Dh=_h=null}finally{kt=p,M.p=u,N.T=r}}s.current=n,Qe=2}}function Jm(){if(Qe===2){Qe=0;var s=en,n=Hi,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=N.T,N.T=null;var u=M.p;M.p=2;var p=kt;kt|=4;try{Em(s,n.alternate,n)}finally{kt=p,M.p=u,N.T=r}}Qe=3}}function Wm(){if(Qe===4||Qe===3){Qe=0,Ty();var s=en,n=Hi,r=Ts,u=Mm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qe=5:(Qe=0,Hi=en=null,Zm(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(tn=null),Rc(r),n=n.stateNode,gA&&typeof gA.onCommitFiberRoot=="function")try{gA.onCommitFiberRoot(ga,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=N.T,p=M.p,M.p=2,N.T=null;try{for(var B=s.onRecoverableError,C=0;C<u.length;C++){var Q=u[C];B(Q.value,{componentStack:Q.stack})}}finally{N.T=n,M.p=p}}(Ts&3)!==0&&$o(),As(s),p=s.pendingLanes,(r&261930)!==0&&(p&42)!==0?s===Bh?Ja++:(Ja=0,Bh=s):Ja=0,Wa(0)}}function Zm(s,n){(s.pooledCacheLanes&=n)===0&&(n=s.pooledCache,n!=null&&(s.pooledCache=null,_a(n)))}function $o(){return qm(),Jm(),Wm(),$m()}function $m(){if(Qe!==5)return!1;var s=en,n=ph;ph=0;var r=Rc(Ts),u=N.T,p=M.p;try{M.p=32>r?32:r,N.T=null,r=mh,mh=null;var B=en,C=Ts;if(Qe=0,Hi=en=null,Ts=0,(kt&6)!==0)throw Error(A(331));var Q=kt;if(kt|=4,Hm(B.current),_m(B,B.current,C,r),kt=Q,Wa(0,!1),gA&&typeof gA.onPostCommitFiberRoot=="function")try{gA.onPostCommitFiberRoot(ga,B)}catch{}return!0}finally{M.p=p,N.T=u,Zm(s,n)}}function tB(s,n,r){n=_A(r,n),n=Ju(s.stateNode,n,2),s=Ys(s,n,2),s!==null&&(ma(s,2),As(s))}function Vt(s,n,r){if(s.tag===3)tB(s,s,r);else for(;n!==null;){if(n.tag===3){tB(n,s,r);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(tn===null||!tn.has(u))){s=_A(r,s),r=em(2),u=Ys(n,r,2),u!==null&&(Am(r,u,n,s),ma(u,2),As(u));break}}n=n.return}}function yh(s,n,r){var u=s.pingCache;if(u===null){u=s.pingCache=new Ab;var p=new Set;u.set(n,p)}else p=u.get(n),p===void 0&&(p=new Set,u.set(n,p));p.has(r)||(dh=!0,p.add(r),s=rb.bind(null,s,n,r),n.then(s,s))}function rb(s,n,r){var u=s.pingCache;u!==null&&u.delete(n),s.pingedLanes|=s.suspendedLanes&r,s.warmLanes&=~r,Zt===s&&(_t&r)===r&&(he===4||he===3&&(_t&62914560)===_t&&300>fA()-Xo?(kt&2)===0&&Li(s,0):fh|=r,Ni===_t&&(Ni=0)),As(s)}function eB(s,n){n===0&&(n=qf()),s=Dn(s,n),s!==null&&(ma(s,n),As(s))}function ob(s){var n=s.memoizedState,r=0;n!==null&&(r=n.retryLane),eB(s,r)}function lb(s,n){var r=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(r=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(A(314))}u!==null&&u.delete(n),eB(s,r)}function cb(s,n){return QA(s,n)}var tl=null,Mi=null,Ch=!1,el=!1,bh=!1,sn=0;function As(s){s!==Mi&&s.next===null&&(Mi===null?tl=Mi=s:Mi=Mi.next=s),el=!0,Ch||(Ch=!0,hb())}function Wa(s,n){if(!bh&&el){bh=!0;do for(var r=!1,u=tl;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var B=0;else{var C=u.suspendedLanes,Q=u.pingedLanes;B=(1<<31-pA(42|s)+1)-1,B&=p&~(C&~Q),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(r=!0,iB(u,B))}else B=_t,B=no(u,u===Zt?B:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(B&3)===0||pa(u,B)||(r=!0,iB(u,B));u=u.next}while(r);bh=!1}}function ub(){AB()}function AB(){el=Ch=!1;var s=0;sn!==0&&Cb()&&(s=sn);for(var n=fA(),r=null,u=tl;u!==null;){var p=u.next,B=sB(u,n);B===0?(u.next=null,r===null?tl=p:r.next=p,p===null&&(Mi=r)):(r=u,(s!==0||(B&3)!==0)&&(el=!0)),u=p}Qe!==0&&Qe!==5||Wa(s),sn!==0&&(sn=0)}function sB(s,n){for(var r=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,B=s.pendingLanes&-62914561;0<B;){var C=31-pA(B),Q=1<<C,L=p[C];L===-1?((Q&r)===0||(Q&u)!==0)&&(p[C]=Ry(Q,n)):L<=n&&(s.expiredLanes|=Q),B&=~Q}if(n=Zt,r=_t,r=no(s,s===n?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,r===0||s===n&&(Gt===2||Gt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Sn(u),s.callbackNode=null,s.callbackPriority=0;if((r&3)===0||pa(s,r)){if(n=r&-r,n===s.callbackPriority)return n;switch(u!==null&&Sn(u),Rc(r)){case 2:case 8:r=Xf;break;case 32:r=to;break;case 268435456:r=Yf;break;default:r=to}return u=nB.bind(null,s),r=QA(r,u),s.callbackPriority=n,s.callbackNode=r,n}return u!==null&&u!==null&&Sn(u),s.callbackPriority=2,s.callbackNode=null,2}function nB(s,n){if(Qe!==0&&Qe!==5)return s.callbackNode=null,s.callbackPriority=0,null;var r=s.callbackNode;if($o()&&s.callbackNode!==r)return null;var u=_t;return u=no(s,s===Zt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Om(s,u,n),sB(s,fA()),s.callbackNode!=null&&s.callbackNode===r?nB.bind(null,s):null)}function iB(s,n){if($o())return null;Om(s,n,!0)}function hb(){Eb(function(){(kt&6)!==0?QA(zf,ub):AB()})}function Eh(){if(sn===0){var s=Ci;s===0&&(s=eo,eo<<=1,(eo&261888)===0&&(eo=256)),sn=s}return sn}function aB(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:oo(""+s)}function rB(s,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,s.id&&r.setAttribute("form",s.id),n.parentNode.insertBefore(r,n),s=new FormData(s),r.parentNode.removeChild(r),s}function db(s,n,r,u,p){if(n==="submit"&&r&&r.stateNode===p){var B=aB((p[AA]||null).action),C=u.submitter;C&&(n=(n=C[AA]||null)?aB(n.formAction):C.getAttribute("formAction"),n!==null&&(B=n,C=null));var Q=new ho("action","action",null,u,p);s.push({event:Q,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(sn!==0){var L=C?rB(p,C):new FormData(p);Gu(r,{pending:!0,data:L,method:p.method,action:B},null,L)}}else typeof B=="function"&&(Q.preventDefault(),L=C?rB(p,C):new FormData(p),Gu(r,{pending:!0,data:L,method:p.method,action:B},B,L))},currentTarget:p}]})}}for(var xh=0;xh<ru.length;xh++){var Sh=ru[xh],fb=Sh.toLowerCase(),gb=Sh[0].toUpperCase()+Sh.slice(1);zA(fb,"on"+gb)}zA(Rg,"onAnimationEnd"),zA(Og,"onAnimationIteration"),zA(kg,"onAnimationStart"),zA("dblclick","onDoubleClick"),zA("focusin","onFocus"),zA("focusout","onBlur"),zA(_C,"onTransitionRun"),zA(DC,"onTransitionStart"),zA(NC,"onTransitionCancel"),zA(jg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Za));function oB(s,n){n=(n&4)!==0;for(var r=0;r<s.length;r++){var u=s[r],p=u.event;u=u.listeners;t:{var B=void 0;if(n)for(var C=u.length-1;0<=C;C--){var Q=u[C],L=Q.instance,V=Q.currentTarget;if(Q=Q.listener,L!==B&&p.isPropagationStopped())break t;B=Q,p.currentTarget=V;try{B(p)}catch(Z){po(Z)}p.currentTarget=null,B=L}else for(C=0;C<u.length;C++){if(Q=u[C],L=Q.instance,V=Q.currentTarget,Q=Q.listener,L!==B&&p.isPropagationStopped())break t;B=Q,p.currentTarget=V;try{B(p)}catch(Z){po(Z)}p.currentTarget=null,B=L}}}}function Tt(s,n){var r=n[Oc];r===void 0&&(r=n[Oc]=new Set);var u=s+"__bubble";r.has(u)||(lB(n,s,2,!1),r.add(u))}function Qh(s,n,r){var u=0;n&&(u|=4),lB(r,s,u,n)}var Al="_reactListening"+Math.random().toString(36).slice(2);function Uh(s){if(!s[Al]){s[Al]=!0,Ag.forEach(function(r){r!=="selectionchange"&&(pb.has(r)||Qh(r,!1,s),Qh(r,!0,s))});var n=s.nodeType===9?s:s.ownerDocument;n===null||n[Al]||(n[Al]=!0,Qh("selectionchange",!1,n))}}function lB(s,n,r,u){switch(RB(n)){case 2:var p=Gb;break;case 8:p=Vb;break;default:p=Ph}r=p.bind(null,n,r,s),p=void 0,!Yc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(n,r,{capture:!0,passive:p}):s.addEventListener(n,r,!0):p!==void 0?s.addEventListener(n,r,{passive:p}):s.addEventListener(n,r,!1)}function Fh(s,n,r,u,p){var B=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var Q=u.stateNode.containerInfo;if(Q===p)break;if(C===4)for(C=u.return;C!==null;){var L=C.tag;if((L===3||L===4)&&C.stateNode.containerInfo===p)return;C=C.return}for(;Q!==null;){if(C=ii(Q),C===null)return;if(L=C.tag,L===5||L===6||L===26||L===27){u=B=C;continue t}Q=Q.parentNode}}u=u.return}fg(function(){var V=B,Z=zc(r),At=[];t:{var X=Kg.get(s);if(X!==void 0){var J=ho,ft=s;switch(s){case"keypress":if(co(r)===0)break t;case"keydown":case"keyup":J=lC;break;case"focusin":ft="focus",J=Zc;break;case"focusout":ft="blur",J=Zc;break;case"beforeblur":case"afterblur":J=Zc;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Wy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=hC;break;case Rg:case Og:case kg:J=tC;break;case jg:J=fC;break;case"scroll":case"scrollend":J=qy;break;case"wheel":J=pC;break;case"copy":case"cut":case"paste":J=AC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=wg;break;case"toggle":case"beforetoggle":J=BC}var vt=(n&4)!==0,Yt=!vt&&(s==="scroll"||s==="scrollend"),k=vt?X!==null?X+"Capture":null:X;vt=[];for(var I=V,P;I!==null;){var et=I;if(P=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||P===null||k===null||(et=va(I,k),et!=null&&vt.push($a(I,et,P))),Yt)break;I=I.return}0<vt.length&&(X=new J(X,ft,null,r,Z),At.push({event:X,listeners:vt}))}}if((n&7)===0){t:{if(X=s==="mouseover"||s==="pointerover",J=s==="mouseout"||s==="pointerout",X&&r!==Vc&&(ft=r.relatedTarget||r.fromElement)&&(ii(ft)||ft[ni]))break t;if((J||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,J?(ft=r.relatedTarget||r.toElement,J=V,ft=ft?ii(ft):null,ft!==null&&(Yt=a(ft),vt=ft.tag,ft!==Yt||vt!==5&&vt!==27&&vt!==6)&&(ft=null)):(J=null,ft=V),J!==ft)){if(vt=mg,et="onMouseLeave",k="onMouseEnter",I="mouse",(s==="pointerout"||s==="pointerover")&&(vt=wg,et="onPointerLeave",k="onPointerEnter",I="pointer"),Yt=J==null?X:wa(J),P=ft==null?X:wa(ft),X=new vt(et,I+"leave",J,r,Z),X.target=Yt,X.relatedTarget=P,et=null,ii(Z)===V&&(vt=new vt(k,I+"enter",ft,r,Z),vt.target=P,vt.relatedTarget=Yt,et=vt),Yt=et,J&&ft)e:{for(vt=mb,k=J,I=ft,P=0,et=k;et;et=vt(et))P++;et=0;for(var mt=I;mt;mt=vt(mt))et++;for(;0<P-et;)k=vt(k),P--;for(;0<et-P;)I=vt(I),et--;for(;P--;){if(k===I||I!==null&&k===I.alternate){vt=k;break e}k=vt(k),I=vt(I)}vt=null}else vt=null;J!==null&&cB(At,X,J,vt,!1),ft!==null&&Yt!==null&&cB(At,Yt,ft,vt,!0)}}t:{if(X=V?wa(V):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var Rt=Qg;else if(xg(X))if(Ug)Rt=UC;else{Rt=SC;var pt=xC}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?V&&Gc(V.elementType)&&(Rt=Qg):Rt=QC;if(Rt&&(Rt=Rt(s,V))){Sg(At,Rt,r,Z);break t}pt&&pt(s,X,V),s==="focusout"&&V&&X.type==="number"&&V.memoizedProps.value!=null&&Pc(X,"number",X.value)}switch(pt=V?wa(V):window,s){case"focusin":(xg(pt)||pt.contentEditable==="true")&&(fi=pt,nu=V,Ua=null);break;case"focusout":Ua=nu=fi=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,Ig(At,r,Z);break;case"selectionchange":if(TC)break;case"keydown":case"keyup":Ig(At,r,Z)}var Ut;if(tu)t:{switch(s){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else di?bg(s,r)&&(Dt="onCompositionEnd"):s==="keydown"&&r.keyCode===229&&(Dt="onCompositionStart");Dt&&(vg&&r.locale!=="ko"&&(di||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&di&&(Ut=gg()):(js=Z,qc="value"in js?js.value:js.textContent,di=!0)),pt=sl(V,Dt),0<pt.length&&(Dt=new Bg(Dt,s,null,r,Z),At.push({event:Dt,listeners:pt}),Ut?Dt.data=Ut:(Ut=Eg(r),Ut!==null&&(Dt.data=Ut)))),(Ut=vC?yC(s,r):CC(s,r))&&(Dt=sl(V,"onBeforeInput"),0<Dt.length&&(pt=new Bg("onBeforeInput","beforeinput",null,r,Z),At.push({event:pt,listeners:Dt}),pt.data=Ut)),db(At,s,V,r,Z)}oB(At,n)})}function $a(s,n,r){return{instance:s,listener:n,currentTarget:r}}function sl(s,n){for(var r=n+"Capture",u=[];s!==null;){var p=s,B=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||B===null||(p=va(s,r),p!=null&&u.unshift($a(s,p,B)),p=va(s,n),p!=null&&u.push($a(s,p,B))),s.tag===3)return u;s=s.return}return[]}function mb(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function cB(s,n,r,u,p){for(var B=n._reactName,C=[];r!==null&&r!==u;){var Q=r,L=Q.alternate,V=Q.stateNode;if(Q=Q.tag,L!==null&&L===u)break;Q!==5&&Q!==26&&Q!==27||V===null||(L=V,p?(V=va(r,B),V!=null&&C.unshift($a(r,V,L))):p||(V=va(r,B),V!=null&&C.push($a(r,V,L)))),r=r.return}C.length!==0&&s.push({event:n,listeners:C})}var Bb=/\r\n?/g,wb=/\u0000|\uFFFD/g;function uB(s){return(typeof s=="string"?s:""+s).replace(Bb,`
`).replace(wb,"")}function hB(s,n){return n=uB(n),uB(s)===n}function Xt(s,n,r,u,p,B){switch(r){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||ci(s,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&ci(s,""+u);break;case"className":ao(s,"class",u);break;case"tabIndex":ao(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ao(s,r,u);break;case"style":hg(s,u,B);break;case"data":if(n!=="object"){ao(s,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||r!=="href")){s.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(r);break}u=oo(""+u),s.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(r==="formAction"?(n!=="input"&&Xt(s,n,"name",p.name,p,null),Xt(s,n,"formEncType",p.formEncType,p,null),Xt(s,n,"formMethod",p.formMethod,p,null),Xt(s,n,"formTarget",p.formTarget,p,null)):(Xt(s,n,"encType",p.encType,p,null),Xt(s,n,"method",p.method,p,null),Xt(s,n,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(r);break}u=oo(""+u),s.setAttribute(r,u);break;case"onClick":u!=null&&(s.onclick=gs);break;case"onScroll":u!=null&&Tt("scroll",s);break;case"onScrollEnd":u!=null&&Tt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(A(61));if(r=u.__html,r!=null){if(p.children!=null)throw Error(A(60));s.innerHTML=r}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}r=oo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(r,""+u):s.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(r,""):s.removeAttribute(r);break;case"capture":case"download":u===!0?s.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(r,u):s.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(r,u):s.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(r):s.setAttribute(r,u);break;case"popover":Tt("beforetoggle",s),Tt("toggle",s),io(s,"popover",u);break;case"xlinkActuate":fs(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":fs(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":fs(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":fs(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":fs(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":fs(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":fs(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":fs(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":fs(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":io(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Xy.get(r)||r,io(s,r,u))}}function Th(s,n,r,u,p,B){switch(r){case"style":hg(s,u,B);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(A(61));if(r=u.__html,r!=null){if(p.children!=null)throw Error(A(60));s.innerHTML=r}}break;case"children":typeof u=="string"?ci(s,u):(typeof u=="number"||typeof u=="bigint")&&ci(s,""+u);break;case"onScroll":u!=null&&Tt("scroll",s);break;case"onScrollEnd":u!=null&&Tt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sg.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),n=r.slice(2,p?r.length-7:void 0),B=s[AA]||null,B=B!=null?B[r]:null,typeof B=="function"&&s.removeEventListener(n,B,p),typeof u=="function")){typeof B!="function"&&B!==null&&(r in s?s[r]=null:s.hasAttribute(r)&&s.removeAttribute(r)),s.addEventListener(n,u,p);break t}r in s?s[r]=u:u===!0?s.setAttribute(r,""):io(s,r,u)}}}function Re(s,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",s),Tt("load",s);var u=!1,p=!1,B;for(B in r)if(r.hasOwnProperty(B)){var C=r[B];if(C!=null)switch(B){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,n));default:Xt(s,n,B,C,r,null)}}p&&Xt(s,n,"srcSet",r.srcSet,r,null),u&&Xt(s,n,"src",r.src,r,null);return;case"input":Tt("invalid",s);var Q=B=C=p=null,L=null,V=null;for(u in r)if(r.hasOwnProperty(u)){var Z=r[u];if(Z!=null)switch(u){case"name":p=Z;break;case"type":C=Z;break;case"checked":L=Z;break;case"defaultChecked":V=Z;break;case"value":B=Z;break;case"defaultValue":Q=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(A(137,n));break;default:Xt(s,n,u,Z,r,null)}}og(s,B,Q,L,V,C,p,!1);return;case"select":Tt("invalid",s),u=C=B=null;for(p in r)if(r.hasOwnProperty(p)&&(Q=r[p],Q!=null))switch(p){case"value":B=Q;break;case"defaultValue":C=Q;break;case"multiple":u=Q;default:Xt(s,n,p,Q,r,null)}n=B,r=C,s.multiple=!!u,n!=null?li(s,!!u,n,!1):r!=null&&li(s,!!u,r,!0);return;case"textarea":Tt("invalid",s),B=p=u=null;for(C in r)if(r.hasOwnProperty(C)&&(Q=r[C],Q!=null))switch(C){case"value":u=Q;break;case"defaultValue":p=Q;break;case"children":B=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(A(91));break;default:Xt(s,n,C,Q,r,null)}cg(s,u,p,B);return;case"option":for(L in r)r.hasOwnProperty(L)&&(u=r[L],u!=null)&&(L==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":Xt(s,n,L,u,r,null));return;case"dialog":Tt("beforetoggle",s),Tt("toggle",s),Tt("cancel",s),Tt("close",s);break;case"iframe":case"object":Tt("load",s);break;case"video":case"audio":for(u=0;u<Za.length;u++)Tt(Za[u],s);break;case"image":Tt("error",s),Tt("load",s);break;case"details":Tt("toggle",s);break;case"embed":case"source":case"link":Tt("error",s),Tt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in r)if(r.hasOwnProperty(V)&&(u=r[V],u!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,n));default:Xt(s,n,V,u,r,null)}return;default:if(Gc(n)){for(Z in r)r.hasOwnProperty(Z)&&(u=r[Z],u!==void 0&&Th(s,n,Z,u,r,void 0));return}}for(Q in r)r.hasOwnProperty(Q)&&(u=r[Q],u!=null&&Xt(s,n,Q,u,r,null))}function vb(s,n,r,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,B=null,C=null,Q=null,L=null,V=null,Z=null;for(J in r){var At=r[J];if(r.hasOwnProperty(J)&&At!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=At;default:u.hasOwnProperty(J)||Xt(s,n,J,null,u,At)}}for(var X in u){var J=u[X];if(At=r[X],u.hasOwnProperty(X)&&(J!=null||At!=null))switch(X){case"type":B=J;break;case"name":p=J;break;case"checked":V=J;break;case"defaultChecked":Z=J;break;case"value":C=J;break;case"defaultValue":Q=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(A(137,n));break;default:J!==At&&Xt(s,n,X,J,u,At)}}Kc(s,C,Q,L,V,Z,B,p);return;case"select":J=C=Q=X=null;for(B in r)if(L=r[B],r.hasOwnProperty(B)&&L!=null)switch(B){case"value":break;case"multiple":J=L;default:u.hasOwnProperty(B)||Xt(s,n,B,null,u,L)}for(p in u)if(B=u[p],L=r[p],u.hasOwnProperty(p)&&(B!=null||L!=null))switch(p){case"value":X=B;break;case"defaultValue":Q=B;break;case"multiple":C=B;default:B!==L&&Xt(s,n,p,B,u,L)}n=Q,r=C,u=J,X!=null?li(s,!!r,X,!1):!!u!=!!r&&(n!=null?li(s,!!r,n,!0):li(s,!!r,r?[]:"",!1));return;case"textarea":J=X=null;for(Q in r)if(p=r[Q],r.hasOwnProperty(Q)&&p!=null&&!u.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Xt(s,n,Q,null,u,p)}for(C in u)if(p=u[C],B=r[C],u.hasOwnProperty(C)&&(p!=null||B!=null))switch(C){case"value":X=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(A(91));break;default:p!==B&&Xt(s,n,C,p,u,B)}lg(s,X,J);return;case"option":for(var ft in r)X=r[ft],r.hasOwnProperty(ft)&&X!=null&&!u.hasOwnProperty(ft)&&(ft==="selected"?s.selected=!1:Xt(s,n,ft,null,u,X));for(L in u)X=u[L],J=r[L],u.hasOwnProperty(L)&&X!==J&&(X!=null||J!=null)&&(L==="selected"?s.selected=X&&typeof X!="function"&&typeof X!="symbol":Xt(s,n,L,X,u,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)X=r[vt],r.hasOwnProperty(vt)&&X!=null&&!u.hasOwnProperty(vt)&&Xt(s,n,vt,null,u,X);for(V in u)if(X=u[V],J=r[V],u.hasOwnProperty(V)&&X!==J&&(X!=null||J!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(A(137,n));break;default:Xt(s,n,V,X,u,J)}return;default:if(Gc(n)){for(var Yt in r)X=r[Yt],r.hasOwnProperty(Yt)&&X!==void 0&&!u.hasOwnProperty(Yt)&&Th(s,n,Yt,void 0,u,X);for(Z in u)X=u[Z],J=r[Z],!u.hasOwnProperty(Z)||X===J||X===void 0&&J===void 0||Th(s,n,Z,X,u,J);return}}for(var k in r)X=r[k],r.hasOwnProperty(k)&&X!=null&&!u.hasOwnProperty(k)&&Xt(s,n,k,null,u,X);for(At in u)X=u[At],J=r[At],!u.hasOwnProperty(At)||X===J||X==null&&J==null||Xt(s,n,At,X,u,J)}function dB(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yb(){if(typeof performance.getEntriesByType=="function"){for(var s=0,n=0,r=performance.getEntriesByType("resource"),u=0;u<r.length;u++){var p=r[u],B=p.transferSize,C=p.initiatorType,Q=p.duration;if(B&&Q&&dB(C)){for(C=0,Q=p.responseEnd,u+=1;u<r.length;u++){var L=r[u],V=L.startTime;if(V>Q)break;var Z=L.transferSize,At=L.initiatorType;Z&&dB(At)&&(L=L.responseEnd,C+=Z*(L<Q?1:(Q-V)/(L-V)))}if(--u,n+=8*(B+C)/(p.duration/1e3),s++,10<s)break}}if(0<s)return n/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var _h=null,Dh=null;function nl(s){return s.nodeType===9?s:s.ownerDocument}function fB(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gB(s,n){if(s===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&n==="foreignObject"?0:s}function Nh(s,n){return s==="textarea"||s==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hh=null;function Cb(){var s=window.event;return s&&s.type==="popstate"?s===Hh?!1:(Hh=s,!0):(Hh=null,!1)}var pB=typeof setTimeout=="function"?setTimeout:void 0,bb=typeof clearTimeout=="function"?clearTimeout:void 0,mB=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof mB<"u"?function(s){return mB.resolve(null).then(s).catch(xb)}:pB;function xb(s){setTimeout(function(){throw s})}function nn(s){return s==="head"}function BB(s,n){var r=n,u=0;do{var p=r.nextSibling;if(s.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"||r==="/&"){if(u===0){s.removeChild(p),ji(n);return}u--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")u++;else if(r==="html")tr(s.ownerDocument.documentElement);else if(r==="head"){r=s.ownerDocument.head,tr(r);for(var B=r.firstChild;B;){var C=B.nextSibling,Q=B.nodeName;B[Ba]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&B.rel.toLowerCase()==="stylesheet"||r.removeChild(B),B=C}}else r==="body"&&tr(s.ownerDocument.body);r=p}while(r);ji(n)}function wB(s,n){var r=s;s=0;do{var u=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(s===0)break;s--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||s++;r=u}while(r)}function Lh(s){var n=s.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Lh(r),kc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}s.removeChild(r)}}function Sb(s,n,r,u){for(;s.nodeType===1;){var p=r;if(s.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ba])switch(n){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(B=s.getAttribute("rel"),B==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(B!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(B=s.getAttribute("src"),(B!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&B&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(n==="input"&&s.type==="hidden"){var B=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===B)return s}else return s;if(s=IA(s.nextSibling),s===null)break}return null}function Qb(s,n,r){if(n==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=IA(s.nextSibling),s===null))return null;return s}function vB(s,n){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!n||(s=IA(s.nextSibling),s===null))return null;return s}function Ih(s){return s.data==="$?"||s.data==="$~"}function Mh(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function Ub(s,n){var r=s.ownerDocument;if(s.data==="$~")s._reactRetry=n;else if(s.data!=="$?"||r.readyState!=="loading")n();else{var u=function(){n(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function IA(s){for(;s!=null;s=s.nextSibling){var n=s.nodeType;if(n===1||n===3)break;if(n===8){if(n=s.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return s}var Rh=null;function yB(s){s=s.nextSibling;for(var n=0;s;){if(s.nodeType===8){var r=s.data;if(r==="/$"||r==="/&"){if(n===0)return IA(s.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}s=s.nextSibling}return null}function CB(s){s=s.previousSibling;for(var n=0;s;){if(s.nodeType===8){var r=s.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return s;n--}else r!=="/$"&&r!=="/&"||n++}s=s.previousSibling}return null}function bB(s,n,r){switch(n=nl(r),s){case"html":if(s=n.documentElement,!s)throw Error(A(452));return s;case"head":if(s=n.head,!s)throw Error(A(453));return s;case"body":if(s=n.body,!s)throw Error(A(454));return s;default:throw Error(A(451))}}function tr(s){for(var n=s.attributes;n.length;)s.removeAttributeNode(n[0]);kc(s)}var MA=new Map,EB=new Set;function il(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var _s=M.d;M.d={f:Fb,r:Tb,D:_b,C:Db,L:Nb,m:Hb,X:Ib,S:Lb,M:Mb};function Fb(){var s=_s.f(),n=Jo();return s||n}function Tb(s){var n=ai(s);n!==null&&n.tag===5&&n.type==="form"?jp(n):_s.r(s)}var Ri=typeof document>"u"?null:document;function xB(s,n,r){var u=Ri;if(u&&typeof n=="string"&&n){var p=FA(n);p='link[rel="'+s+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),EB.has(p)||(EB.add(p),s={rel:s,crossOrigin:r,href:n},u.querySelector(p)===null&&(n=u.createElement("link"),Re(n,"link",s),Fe(n),u.head.appendChild(n)))}}function _b(s){_s.D(s),xB("dns-prefetch",s,null)}function Db(s,n){_s.C(s,n),xB("preconnect",s,n)}function Nb(s,n,r){_s.L(s,n,r);var u=Ri;if(u&&s&&n){var p='link[rel="preload"][as="'+FA(n)+'"]';n==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+FA(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+FA(r.imageSizes)+'"]')):p+='[href="'+FA(s)+'"]';var B=p;switch(n){case"style":B=Oi(s);break;case"script":B=ki(s)}MA.has(B)||(s=m({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:s,as:n},r),MA.set(B,s),u.querySelector(p)!==null||n==="style"&&u.querySelector(er(B))||n==="script"&&u.querySelector(Ar(B))||(n=u.createElement("link"),Re(n,"link",s),Fe(n),u.head.appendChild(n)))}}function Hb(s,n){_s.m(s,n);var r=Ri;if(r&&s){var u=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+FA(u)+'"][href="'+FA(s)+'"]',B=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=ki(s)}if(!MA.has(B)&&(s=m({rel:"modulepreload",href:s},n),MA.set(B,s),r.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ar(B)))return}u=r.createElement("link"),Re(u,"link",s),Fe(u),r.head.appendChild(u)}}}function Lb(s,n,r){_s.S(s,n,r);var u=Ri;if(u&&s){var p=ri(u).hoistableStyles,B=Oi(s);n=n||"default";var C=p.get(B);if(!C){var Q={loading:0,preload:null};if(C=u.querySelector(er(B)))Q.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":n},r),(r=MA.get(B))&&Oh(s,r);var L=C=u.createElement("link");Fe(L),Re(L,"link",s),L._p=new Promise(function(V,Z){L.onload=V,L.onerror=Z}),L.addEventListener("load",function(){Q.loading|=1}),L.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,al(C,n,u)}C={type:"stylesheet",instance:C,count:1,state:Q},p.set(B,C)}}}function Ib(s,n){_s.X(s,n);var r=Ri;if(r&&s){var u=ri(r).hoistableScripts,p=ki(s),B=u.get(p);B||(B=r.querySelector(Ar(p)),B||(s=m({src:s,async:!0},n),(n=MA.get(p))&&kh(s,n),B=r.createElement("script"),Fe(B),Re(B,"link",s),r.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},u.set(p,B))}}function Mb(s,n){_s.M(s,n);var r=Ri;if(r&&s){var u=ri(r).hoistableScripts,p=ki(s),B=u.get(p);B||(B=r.querySelector(Ar(p)),B||(s=m({src:s,async:!0,type:"module"},n),(n=MA.get(p))&&kh(s,n),B=r.createElement("script"),Fe(B),Re(B,"link",s),r.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},u.set(p,B))}}function SB(s,n,r,u){var p=(p=ot.current)?il(p):null;if(!p)throw Error(A(446));switch(s){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Oi(r.href),r=ri(p).hoistableStyles,u=r.get(n),u||(u={type:"style",instance:null,count:0,state:null},r.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){s=Oi(r.href);var B=ri(p).hoistableStyles,C=B.get(s);if(C||(p=p.ownerDocument||p,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(s,C),(B=p.querySelector(er(s)))&&!B._p&&(C.instance=B,C.state.loading=5),MA.has(s)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},MA.set(s,r),B||Rb(p,s,r,C.state))),n&&u===null)throw Error(A(528,""));return C}if(n&&u!==null)throw Error(A(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ki(r),r=ri(p).hoistableScripts,u=r.get(n),u||(u={type:"script",instance:null,count:0,state:null},r.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,s))}}function Oi(s){return'href="'+FA(s)+'"'}function er(s){return'link[rel="stylesheet"]['+s+"]"}function QB(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function Rb(s,n,r,u){s.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=s.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),Re(n,"link",r),Fe(n),s.head.appendChild(n))}function ki(s){return'[src="'+FA(s)+'"]'}function Ar(s){return"script[async]"+s}function UB(s,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var u=s.querySelector('style[data-href~="'+FA(r.href)+'"]');if(u)return n.instance=u,Fe(u),u;var p=m({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Fe(u),Re(u,"style",p),al(u,r.precedence,s),n.instance=u;case"stylesheet":p=Oi(r.href);var B=s.querySelector(er(p));if(B)return n.state.loading|=4,n.instance=B,Fe(B),B;u=QB(r),(p=MA.get(p))&&Oh(u,p),B=(s.ownerDocument||s).createElement("link"),Fe(B);var C=B;return C._p=new Promise(function(Q,L){C.onload=Q,C.onerror=L}),Re(B,"link",u),n.state.loading|=4,al(B,r.precedence,s),n.instance=B;case"script":return B=ki(r.src),(p=s.querySelector(Ar(B)))?(n.instance=p,Fe(p),p):(u=r,(p=MA.get(B))&&(u=m({},r),kh(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Fe(p),Re(p,"link",u),s.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(A(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,al(u,r.precedence,s));return n.instance}function al(s,n,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,B=p,C=0;C<u.length;C++){var Q=u[C];if(Q.dataset.precedence===n)B=Q;else if(B!==p)break}B?B.parentNode.insertBefore(s,B.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(s,n.firstChild))}function Oh(s,n){s.crossOrigin==null&&(s.crossOrigin=n.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=n.referrerPolicy),s.title==null&&(s.title=n.title)}function kh(s,n){s.crossOrigin==null&&(s.crossOrigin=n.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=n.referrerPolicy),s.integrity==null&&(s.integrity=n.integrity)}var rl=null;function FB(s,n,r){if(rl===null){var u=new Map,p=rl=new Map;p.set(r,u)}else p=rl,u=p.get(r),u||(u=new Map,p.set(r,u));if(u.has(s))return u;for(u.set(s,null),r=r.getElementsByTagName(s),p=0;p<r.length;p++){var B=r[p];if(!(B[Ba]||B[He]||s==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var C=B.getAttribute(n)||"";C=s+C;var Q=u.get(C);Q?Q.push(B):u.set(C,[B])}}return u}function TB(s,n,r){s=s.ownerDocument||s,s.head.insertBefore(r,n==="title"?s.querySelector("head > title"):null)}function Ob(s,n,r){if(r===1||n.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(s=n.disabled,typeof n.precedence=="string"&&s==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function _B(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function kb(s,n,r,u){if(r.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=Oi(u.href),B=n.querySelector(er(p));if(B){n=B._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(s.count++,s=ol.bind(s),n.then(s,s)),r.state.loading|=4,r.instance=B,Fe(B);return}B=n.ownerDocument||n,u=QB(u),(p=MA.get(p))&&Oh(u,p),B=B.createElement("link"),Fe(B);var C=B;C._p=new Promise(function(Q,L){C.onload=Q,C.onerror=L}),Re(B,"link",u),r.instance=B}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(s.count++,r=ol.bind(s),n.addEventListener("load",r),n.addEventListener("error",r))}}var jh=0;function jb(s,n){return s.stylesheets&&s.count===0&&cl(s,s.stylesheets),0<s.count||0<s.imgCount?function(r){var u=setTimeout(function(){if(s.stylesheets&&cl(s,s.stylesheets),s.unsuspend){var B=s.unsuspend;s.unsuspend=null,B()}},6e4+n);0<s.imgBytes&&jh===0&&(jh=62500*yb());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&cl(s,s.stylesheets),s.unsuspend)){var B=s.unsuspend;s.unsuspend=null,B()}},(s.imgBytes>jh?50:800)+n);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function ol(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cl(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ll=null;function cl(s,n){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ll=new Map,n.forEach(Kb,s),ll=null,ol.call(s))}function Kb(s,n){if(!(n.state.loading&4)){var r=ll.get(s);if(r)var u=r.get(null);else{r=new Map,ll.set(s,r);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<p.length;B++){var C=p[B];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(r.set(C.dataset.precedence,C),u=C)}u&&r.set(null,u)}p=n.instance,C=p.getAttribute("data-precedence"),B=r.get(C)||u,B===u&&r.set(null,p),r.set(C,p),this.count++,u=ol.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),B?B.parentNode.insertBefore(p,B.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),n.state.loading|=4}}var sr={$$typeof:S,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Pb(s,n,r,u,p,B,C,Q,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ic(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ic(0),this.hiddenUpdates=Ic(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=B,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function DB(s,n,r,u,p,B,C,Q,L,V,Z,At){return s=new Pb(s,n,r,C,L,V,Z,At,Q),n=1,B===!0&&(n|=24),B=BA(3,null,null,n),s.current=B,B.stateNode=s,n=vu(),n.refCount++,s.pooledCache=n,n.refCount++,B.memoizedState={element:u,isDehydrated:r,cache:n},Eu(B),s}function NB(s){return s?(s=mi,s):mi}function HB(s,n,r,u,p,B){p=NB(p),u.context===null?u.context=p:u.pendingContext=p,u=Xs(n),u.payload={element:r},B=B===void 0?null:B,B!==null&&(u.callback=B),r=Ys(s,u,n),r!==null&&(oA(r,s,n),La(r,s,n))}function LB(s,n){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var r=s.retryLane;s.retryLane=r!==0&&r<n?r:n}}function Kh(s,n){LB(s,n),(s=s.alternate)&&LB(s,n)}function IB(s){if(s.tag===13||s.tag===31){var n=Dn(s,67108864);n!==null&&oA(n,s,67108864),Kh(s,67108864)}}function MB(s){if(s.tag===13||s.tag===31){var n=bA();n=Mc(n);var r=Dn(s,n);r!==null&&oA(r,s,n),Kh(s,n)}}var ul=!0;function Gb(s,n,r,u){var p=N.T;N.T=null;var B=M.p;try{M.p=2,Ph(s,n,r,u)}finally{M.p=B,N.T=p}}function Vb(s,n,r,u){var p=N.T;N.T=null;var B=M.p;try{M.p=8,Ph(s,n,r,u)}finally{M.p=B,N.T=p}}function Ph(s,n,r,u){if(ul){var p=Gh(u);if(p===null)Fh(s,n,u,hl,r),OB(s,u);else if(Xb(p,s,n,r,u))u.stopPropagation();else if(OB(s,u),n&4&&-1<zb.indexOf(s)){for(;p!==null;){var B=ai(p);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var C=Qn(B.pendingLanes);if(C!==0){var Q=B;for(Q.pendingLanes|=2,Q.entangledLanes|=2;C;){var L=1<<31-pA(C);Q.entanglements[1]|=L,C&=~L}As(B),(kt&6)===0&&(Yo=fA()+500,Wa(0))}}break;case 31:case 13:Q=Dn(B,2),Q!==null&&oA(Q,B,2),Jo(),Kh(B,2)}if(B=Gh(u),B===null&&Fh(s,n,u,hl,r),B===p)break;p=B}p!==null&&u.stopPropagation()}else Fh(s,n,u,null,r)}}function Gh(s){return s=zc(s),Vh(s)}var hl=null;function Vh(s){if(hl=null,s=ii(s),s!==null){var n=a(s);if(n===null)s=null;else{var r=n.tag;if(r===13){if(s=l(n),s!==null)return s;s=null}else if(r===31){if(s=c(n),s!==null)return s;s=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;s=null}else n!==s&&(s=null)}}return hl=s,null}function RB(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_y()){case zf:return 2;case Xf:return 8;case to:case Dy:return 32;case Yf:return 268435456;default:return 32}default:return 32}}var zh=!1,an=null,rn=null,on=null,nr=new Map,ir=new Map,ln=[],zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function OB(s,n){switch(s){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":nr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(n.pointerId)}}function ar(s,n,r,u,p,B){return s===null||s.nativeEvent!==B?(s={blockedOn:n,domEventName:r,eventSystemFlags:u,nativeEvent:B,targetContainers:[p]},n!==null&&(n=ai(n),n!==null&&IB(n)),s):(s.eventSystemFlags|=u,n=s.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),s)}function Xb(s,n,r,u,p){switch(n){case"focusin":return an=ar(an,s,n,r,u,p),!0;case"dragenter":return rn=ar(rn,s,n,r,u,p),!0;case"mouseover":return on=ar(on,s,n,r,u,p),!0;case"pointerover":var B=p.pointerId;return nr.set(B,ar(nr.get(B)||null,s,n,r,u,p)),!0;case"gotpointercapture":return B=p.pointerId,ir.set(B,ar(ir.get(B)||null,s,n,r,u,p)),!0}return!1}function kB(s){var n=ii(s.target);if(n!==null){var r=a(n);if(r!==null){if(n=r.tag,n===13){if(n=l(r),n!==null){s.blockedOn=n,tg(s.priority,function(){MB(r)});return}}else if(n===31){if(n=c(r),n!==null){s.blockedOn=n,tg(s.priority,function(){MB(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){s.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}s.blockedOn=null}function dl(s){if(s.blockedOn!==null)return!1;for(var n=s.targetContainers;0<n.length;){var r=Gh(s.nativeEvent);if(r===null){r=s.nativeEvent;var u=new r.constructor(r.type,r);Vc=u,r.target.dispatchEvent(u),Vc=null}else return n=ai(r),n!==null&&IB(n),s.blockedOn=r,!1;n.shift()}return!0}function jB(s,n,r){dl(s)&&r.delete(n)}function Yb(){zh=!1,an!==null&&dl(an)&&(an=null),rn!==null&&dl(rn)&&(rn=null),on!==null&&dl(on)&&(on=null),nr.forEach(jB),ir.forEach(jB)}function fl(s,n){s.blockedOn===n&&(s.blockedOn=null,zh||(zh=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Yb)))}var gl=null;function KB(s){gl!==s&&(gl=s,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){gl===s&&(gl=null);for(var n=0;n<s.length;n+=3){var r=s[n],u=s[n+1],p=s[n+2];if(typeof u!="function"){if(Vh(u||r)===null)continue;break}var B=ai(r);B!==null&&(s.splice(n,3),n-=3,Gu(B,{pending:!0,data:p,method:r.method,action:u},u,p))}}))}function ji(s){function n(L){return fl(L,s)}an!==null&&fl(an,s),rn!==null&&fl(rn,s),on!==null&&fl(on,s),nr.forEach(n),ir.forEach(n);for(var r=0;r<ln.length;r++){var u=ln[r];u.blockedOn===s&&(u.blockedOn=null)}for(;0<ln.length&&(r=ln[0],r.blockedOn===null);)kB(r),r.blockedOn===null&&ln.shift();if(r=(s.ownerDocument||s).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var p=r[u],B=r[u+1],C=p[AA]||null;if(typeof B=="function")C||KB(r);else if(C){var Q=null;if(B&&B.hasAttribute("formAction")){if(p=B,C=B[AA]||null)Q=C.formAction;else if(Vh(p)!==null)continue}else Q=C.action;typeof Q=="function"?r[u+1]=Q:(r.splice(u,3),u-=3),KB(r)}}}function PB(){function s(B){B.canIntercept&&B.info==="react-transition"&&B.intercept({handler:function(){return new Promise(function(C){return p=C})},focusReset:"manual",scroll:"manual"})}function n(){p!==null&&(p(),p=null),u||setTimeout(r,20)}function r(){if(!u&&!navigation.transition){var B=navigation.currentEntry;B&&B.url!=null&&navigation.navigate(B.url,{state:B.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),p!==null&&(p(),p=null)}}}function Xh(s){this._internalRoot=s}pl.prototype.render=Xh.prototype.render=function(s){var n=this._internalRoot;if(n===null)throw Error(A(409));var r=n.current,u=bA();HB(r,u,s,n,null,null)},pl.prototype.unmount=Xh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var n=s.containerInfo;HB(s.current,2,null,s,null,null),Jo(),n[ni]=null}};function pl(s){this._internalRoot=s}pl.prototype.unstable_scheduleHydration=function(s){if(s){var n=$f();s={blockedOn:null,target:s,priority:n};for(var r=0;r<ln.length&&n!==0&&n<ln[r].priority;r++);ln.splice(r,0,s),r===0&&kB(s)}};var GB=t.version;if(GB!=="19.2.3")throw Error(A(527,GB,"19.2.3"));M.findDOMNode=function(s){var n=s._reactInternals;if(n===void 0)throw typeof s.render=="function"?Error(A(188)):(s=Object.keys(s).join(","),Error(A(268,s)));return s=d(n),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var qb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{ga=ml.inject(qb),gA=ml}catch{}}return or.createRoot=function(s,n){if(!i(s))throw Error(A(299));var r=!1,u="",p=Wp,B=Zp,C=$p;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(B=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError)),n=DB(s,1,!1,null,null,r,u,null,p,B,C,PB),s[ni]=n.current,Uh(s),new Xh(n)},or.hydrateRoot=function(s,n,r){if(!i(s))throw Error(A(299));var u=!1,p="",B=Wp,C=Zp,Q=$p,L=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(B=r.onUncaughtError),r.onCaughtError!==void 0&&(C=r.onCaughtError),r.onRecoverableError!==void 0&&(Q=r.onRecoverableError),r.formState!==void 0&&(L=r.formState)),n=DB(s,1,!0,n,r??null,u,p,L,B,C,Q,PB),n.context=NB(null),r=n.current,u=bA(),u=Mc(u),p=Xs(u),p.callback=null,Ys(r,p,u),r=u,n.current.lanes=r,ma(n,r),As(n),s[ni]=n.current,Uh(s),new pl(n)},or.version="19.2.3",or}var A0;function n1(){if(A0)return Wh.exports;A0=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),Wh.exports=s1(),Wh.exports}var i1=n1();function xe({children:o,variant:t="primary",size:e="md",disabled:A=!1,onClick:i,type:a="button",className:l="",...c}){const h=["btn",`btn-${t}`,`btn-${e}`,A?"btn-disabled":"",l].filter(Boolean).join(" ");return g.jsx("button",{type:a,className:h,disabled:A,onClick:i,...c,children:o})}function WA({children:o,variant:t="elevated",padding:e="md",className:A="",onClick:i,...a}){const l=["card",`card-${t}`,`card-p-${e}`,i?"card-clickable":"",A].filter(Boolean).join(" ");return g.jsx("div",{className:l,onClick:i,...a,children:o})}function ed({children:o,size:t="default",className:e="",...A}){const i=["container",`container-${t}`,e].filter(Boolean).join(" ");return g.jsx("div",{className:i,...A,children:o})}function dA({label:o,value:t,onChange:e,type:A="text",placeholder:i="",error:a="",disabled:l=!1,className:c="",...h}){const d=f=>{e&&e(f.target.value)};return g.jsxs("div",{className:`input-wrapper ${c}`,children:[o&&g.jsx("label",{className:"input-label",children:o}),g.jsx("input",{type:A,value:t,onChange:d,placeholder:i,disabled:l,className:`input ${a?"input-error":""}`,...h}),a&&g.jsx("span",{className:"input-error-text",children:a})]})}function nc({label:o,value:t,onChange:e,placeholder:A="",rows:i=5,error:a="",disabled:l=!1,className:c="",...h}){const d=f=>{e&&e(f.target.value)};return g.jsxs("div",{className:`textarea-wrapper ${c}`,children:[o&&g.jsx("label",{className:"textarea-label",children:o}),g.jsx("textarea",{value:t,onChange:d,placeholder:A,rows:i,disabled:l,className:`textarea ${a?"textarea-error":""}`,...h}),a&&g.jsx("span",{className:"textarea-error-text",children:a})]})}function Tr({isOpen:o,onClose:t,title:e,children:A,size:i="md",showClose:a=!0}){if(Y.useEffect(()=>(o?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[o]),Y.useEffect(()=>{const c=h=>{h.key==="Escape"&&o&&t()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[o,t]),!o)return null;const l=c=>{c.target===c.currentTarget&&t()};return g.jsx("div",{className:"modal-backdrop",onClick:l,children:g.jsxs("div",{className:`modal modal-${i}`,role:"dialog","aria-modal":"true",children:[(e||a)&&g.jsxs("div",{className:"modal-header",children:[e&&g.jsx("h2",{className:"modal-title",children:e}),a&&g.jsx("button",{type:"button",className:"modal-close",onClick:t,"aria-label":"Close",children:""})]}),g.jsx("div",{className:"modal-content",children:A})]})})}Tr.Footer=function({children:t,className:e=""}){return g.jsx("div",{className:`modal-footer ${e}`,children:t})};function yf({message:o,type:t="info",duration:e=3e3,onClose:A}){Y.useEffect(()=>{if(e>0){const a=setTimeout(A,e);return()=>clearTimeout(a)}},[e,A]);const i={success:"",error:"",warning:"",info:""};return g.jsxs("div",{className:`toast toast-${t}`,role:"alert",children:[g.jsx("span",{className:"toast-icon",children:i[t]}),g.jsx("span",{className:"toast-message",children:o}),g.jsx("button",{className:"toast-close",onClick:A,"aria-label":"Close",children:""})]})}function a1({children:o}){return g.jsx("div",{className:"toast-container",children:o})}function r1({children:o,currentView:t,onNavigate:e,resumeExists:A,applicationCount:i,viewMode:a="list",onViewModeChange:l,isDemo:c=!1,onLogoClick:h,onExitDemo:d}){const[f,m]=Y.useState(!1),[w,v]=Y.useState(!1),b=[{id:"jobs",label:"Jobs",icon:"jobs",badge:i},{id:"profile",label:"Resume",icon:"resume",status:A?"done":"pending"},{id:"contacts",label:"Contacts",icon:"contacts"},{id:"settings",label:"Settings",icon:"settings"}],y=x=>{window.location.hash=x,e(x),v(!1)};return g.jsxs("div",{className:`app-layout ${f?"sidebar-collapsed":""} ${c?"demo-mode":""}`,children:[g.jsx("header",{className:"top-navbar",children:g.jsxs("div",{className:"top-navbar-inner",children:[g.jsxs("div",{className:"top-navbar-left",children:[g.jsx("button",{className:"navbar-btn menu-toggle-mobile",onClick:()=>v(!w),"aria-label":"Toggle menu",children:g.jsx("span",{className:"menu-icon"})}),g.jsxs("a",{href:"#",className:"top-navbar-logo",onClick:x=>{x.preventDefault(),h&&h()},title:"Go to homepage",children:[g.jsx("img",{src:"/gaptrack/logo.png",alt:"GapTrack",className:"navbar-logo-img"}),g.jsx("span",{className:"navbar-logo-text",children:"GapTrack"})]})]}),g.jsx("div",{className:"top-navbar-center",children:t==="jobs"&&l&&g.jsxs("div",{className:"view-toggle",children:[g.jsxs("button",{className:`view-toggle-btn ${a==="list"?"active":""}`,onClick:()=>l("list"),title:"List view",children:[g.jsx("span",{className:"view-icon view-icon-list"}),g.jsx("span",{className:"view-label",children:"List"})]}),g.jsxs("button",{className:`view-toggle-btn ${a==="kanban"?"active":""}`,onClick:()=>l("kanban"),title:"Kanban view",children:[g.jsx("span",{className:"view-icon view-icon-kanban"}),g.jsx("span",{className:"view-label",children:"Kanban"})]}),g.jsxs("button",{className:`view-toggle-btn ${a==="funnel"?"active":""}`,onClick:()=>l("funnel"),title:"Funnel view",children:[g.jsx("span",{className:"view-icon view-icon-funnel"}),g.jsx("span",{className:"view-label",children:"Funnel"})]})]})}),g.jsx("div",{className:"top-navbar-right"})]})}),c&&g.jsxs("div",{className:"demo-banner",children:[g.jsx("span",{className:"demo-banner-text",children:"Demo Mode - Viewing sample data for Janardan Jakhar"}),g.jsx("button",{className:"demo-banner-btn",onClick:d,children:"Exit Demo"})]}),g.jsx("div",{className:`sidebar-overlay ${w?"visible":""}`,onClick:()=>v(!1)}),g.jsxs("aside",{className:`sidebar ${w?"open":""} ${f?"collapsed":""}`,children:[g.jsx("div",{className:"sidebar-header",children:g.jsx("button",{className:"collapse-btn",onClick:()=>m(!f),"aria-label":f?"Expand sidebar":"Collapse sidebar",children:g.jsx("span",{className:`collapse-icon ${f?"collapsed":""}`})})}),g.jsx("nav",{className:"sidebar-nav",children:g.jsx("div",{className:"nav-section",children:b.map(x=>g.jsxs("button",{className:`nav-item ${t===x.id?"active":""}`,onClick:()=>y(x.id),title:f?x.label:void 0,children:[x.icon==="settings"?g.jsxs("svg",{className:"nav-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"3"}),g.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}):g.jsx("span",{className:`nav-icon nav-icon-${x.icon}`}),!f&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"nav-item-label",children:x.label}),x.badge>0&&g.jsx("span",{className:"nav-badge",children:x.badge}),x.status==="pending"&&g.jsx("span",{className:"nav-status-dot"})]})]},x.id))})})]}),g.jsxs("div",{className:"main-wrapper",children:[g.jsx("main",{className:"main-content",children:o}),g.jsx("footer",{className:"footer",children:g.jsxs("p",{className:"footer-text",children:["Built with privacy in mind."," ",g.jsx("a",{href:"https://github.com/chaiovercode/gaptrack",className:"footer-link",target:"_blank",rel:"noopener noreferrer",children:"View on GitHub"})]})})]})]})}const Cf={jobs:"jobs.json",contacts:"contacts.json",resume:"resume.json",settings:"settings.json"},o1=()=>"showDirectoryPicker"in window,s0=async()=>{try{return{success:!0,handle:await window.showDirectoryPicker({id:"gaptrack-data",mode:"readwrite",startIn:"documents"})}}catch(o){return o.name==="AbortError"?{success:!1,cancelled:!0}:{success:!1,error:o.message}}},Mw=async(o,t,e=!0)=>{try{return await o.getFileHandle(t,{create:e})}catch(A){if(A.name==="NotFoundError"&&!e)return null;throw A}},Rw=async(o,t,e)=>{try{const i=await(await Mw(o,t,!0)).createWritable(),a=JSON.stringify(e,null,2);return await i.write(a),await i.close(),{success:!0}}catch(A){return{success:!1,error:A.message}}},Ow=async(o,t)=>{try{const e=await Mw(o,t,!1);if(!e)return{success:!0,data:null};const i=await(await e.getFile()).text();return i.trim()?{success:!0,data:JSON.parse(i)}:{success:!0,data:null}}catch(e){return{success:!1,error:e.message}}},n0=async o=>{const t={};for(const[e,A]of Object.entries(Cf)){const i=await Ow(o,A);i.success?t[e]=i.data:t[e]=null}return{success:!0,data:t}},l1=async o=>{const t=kw();for(const[e,A]of Object.entries(Cf))(await Ow(o,A)).data||await Rw(o,A,t[e]);return{success:!0}},un=async(o,t,e)=>{const A=Cf[t];return A?Rw(o,A,{...e,updatedAt:new Date().toISOString()}):{success:!1,error:`Unknown data type: ${t}`}},kw=()=>({jobs:{version:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),items:[]},contacts:{version:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),items:[]},resume:{version:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),fileName:null,content:null,parsedData:null,uploadedAt:null},settings:{version:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),aiProvider:null,geminiApiKey:null,ollamaModel:"mistral",viewPreference:"list"}}),lr="gaptrack-data",i0="gaptrack-has-folder";function c1(){const[o,t]=Y.useState(null),[e,A]=Y.useState(null),[i,a]=Y.useState(!0),[l,c]=Y.useState(null),[h,d]=Y.useState(null),[f,m]=Y.useState(!1),w=Y.useRef(o),v=Y.useRef(e),b=Y.useRef(h);Y.useEffect(()=>{w.current=o},[o]),Y.useEffect(()=>{v.current=e},[e]),Y.useEffect(()=>{b.current=h},[h]),Y.useEffect(()=>{y()},[]);const y=async()=>{a(!0),c(null),d("localStorage"),it(),a(!1)},x=Y.useCallback(async()=>{a(!0),c(null);const q=await s0();if(q.cancelled)return a(!1),{success:!1,cancelled:!0};if(!q.success)return c(q.error),a(!1),{success:!1,error:q.error};A(q.handle),await l1(q.handle);const $=await n0(q.handle);localStorage.setItem(i0,"true");const at=U($.data);return t(at),localStorage.setItem(lr,JSON.stringify(at)),m(!1),a(!1),{success:!0}},[]),E=Y.useCallback(async()=>{a(!0),c(null);const q=await s0();if(q.cancelled)return a(!1),{success:!1,cancelled:!0};if(!q.success)return c(q.error),a(!1),{success:!1,error:q.error};A(q.handle);const $=await n0(q.handle);localStorage.setItem(i0,"true");const at=U($.data);return t(at),localStorage.setItem(lr,JSON.stringify(at)),m(!1),a(!1),{success:!0}},[]),U=q=>{const $=kw();return{applications:q?.jobs?.items||[],contacts:q?.contacts?.items||[],resume:q?.resume||$.resume,settings:q?.settings||$.settings,updatedAt:new Date().toISOString()}},S=Y.useCallback(async q=>{const $={...q,updatedAt:new Date().toISOString()};return localStorage.setItem(lr,JSON.stringify($)),h==="fileSystem"&&e&&(await un(e,"jobs",{items:$.applications||[],updatedAt:$.updatedAt}),await un(e,"contacts",{items:$.contacts||[],updatedAt:$.updatedAt}),await un(e,"resume",$.resume||{}),await un(e,"settings",$.settings||{})),t($),{success:!0}},[h,e]),T=Y.useCallback(async(q,$)=>{const at=w.current||{},rt=v.current,N=b.current,M={...at,[q]:$,updatedAt:new Date().toISOString()};return t(M),w.current=M,localStorage.setItem(lr,JSON.stringify(M)),N==="fileSystem"&&rt&&(q==="applications"?await un(rt,"jobs",{items:$||[],updatedAt:M.updatedAt}):q==="contacts"?await un(rt,"contacts",{items:$||[],updatedAt:M.updatedAt}):q==="resume"?await un(rt,"resume",$||{}):q==="settings"&&await un(rt,"settings",$||{})),{success:!0}},[]),_=Y.useCallback(async q=>{const $={...q,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},at={...o,applications:[...o?.applications||[],$]};return S(at)},[o,S]),D=Y.useCallback(async(q,$)=>{const at={...o,applications:(o?.applications||[]).map(rt=>rt.id===q?{...rt,...$,updatedAt:new Date().toISOString()}:rt)};return S(at)},[o,S]),F=Y.useCallback(async q=>{const at=((w.current||{}).applications||[]).filter(rt=>rt.id!==q);return T("applications",at)},[T]),O=Y.useCallback(async q=>{const at=((w.current||{}).contacts||[]).filter(rt=>rt.id!==q);return T("contacts",at)},[T]),K=Y.useCallback(async q=>{const at=(w.current||{}).contacts||[];if(q.id){const rt=at.map(N=>N.id===q.id?{...N,...q,updatedAt:new Date().toISOString()}:N);return T("contacts",rt)}else{const rt={...q,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return T("contacts",[...at,rt])}},[T]),it=()=>{const q=localStorage.getItem(lr);if(q)try{t(JSON.parse(q))}catch{t(null)}},G=!!o?.settings?.aiProvider;return{data:o,isLoading:i,error:l,storageType:h,needsSetup:!G,setupFileStorage:x,openExistingFile:E,save:S,updateAndSave:T,addApplication:_,updateApplication:D,deleteApplication:F,deleteContact:O,updateContact:K,isFileSystemSupported:o1()}}const u1="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";async function jw(o,t){try{console.log("Calling Gemini API...");const e=await fetch(`${u1}?key=${o}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:8192}})});if(!e.ok){const l=(await e.json().catch(()=>({}))).error?.message||`API error: ${e.status}`;return e.status===400?{success:!1,error:"Invalid API key. Get one from aistudio.google.com"}:e.status===403?{success:!1,error:"API key not authorized. Check your key at aistudio.google.com"}:e.status===429?{success:!1,error:"Rate limit exceeded. Wait a moment and try again."}:{success:!1,error:l}}const A=await e.json();console.log("Gemini response:",A);const i=A.candidates?.[0]?.content?.parts?.[0]?.text;return i?(console.log("Gemini returned text, length:",i.length),{success:!0,text:i}):(console.error("No text in Gemini response:",A),{success:!1,error:"No response from Gemini"})}catch(e){return console.error("Gemini error:",e),{success:!1,error:e.message}}}async function h1(o){return!o||o.trim().length<10?{success:!1,error:"Invalid API key format"}:await jw(o.trim(),'Respond with only the word "OK"')}const d1="https://api.openai.com/v1/chat/completions";async function Kw(o,t,e="gpt-4o-mini"){try{const A=await fetch(d1,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({model:e,messages:[{role:"user",content:t}],temperature:.7,max_tokens:4096})});if(!A.ok){const c=(await A.json().catch(()=>({}))).error?.message||`API error: ${A.status}`;return A.status===401?{success:!1,error:"Invalid API key. Get one from platform.openai.com"}:A.status===429?{success:!1,error:"Rate limit or quota exceeded. Check your OpenAI billing."}:A.status===503?{success:!1,error:"OpenAI service temporarily unavailable. Try again."}:{success:!1,error:c}}const a=(await A.json()).choices?.[0]?.message?.content;return a?{success:!0,text:a}:{success:!1,error:"No response from OpenAI"}}catch(A){return{success:!1,error:A.message}}}async function f1(o){return!o||o.trim().length<20?{success:!1,error:"Invalid API key format"}:await Kw(o.trim(),'Respond with only the word "OK"')}const g1="http://localhost:11434/api/generate";async function Pw(o,t){try{const e=await fetch(g1,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:o,prompt:t,stream:!1,options:{temperature:.3,num_predict:4096}})});if(!e.ok)return e.status===0||!e.status?{success:!1,error:"Cannot connect to Ollama. Make sure it's running: ollama serve"}:{success:!1,error:`Ollama error: ${e.status}`};const A=await e.json();return A.response?{success:!0,text:A.response}:{success:!1,error:"No response from Ollama"}}catch(e){return e.message.includes("Failed to fetch")||e.message.includes("NetworkError")?{success:!1,error:"Cannot connect to Ollama. Make sure it's running: ollama serve"}:{success:!1,error:e.message}}}async function bf(o="mistral"){try{const t=await fetch("http://localhost:11434/api/tags");if(!t.ok)return{running:!1,hasModel:!1,error:"Ollama not running"};const A=(await t.json()).models||[],i=A.some(a=>a.name.startsWith(o));return{running:!0,hasModel:i,availableModels:A.map(a=>a.name),error:i?null:`Model "${o}" not installed. Run: ollama pull ${o}`}}catch{return{running:!1,hasModel:!1,error:"Cannot connect to Ollama. Make sure it's running: ollama serve"}}}async function p1(o="mistral"){const t=await bf(o);return!t.running||!t.hasModel?{success:!1,...t}:{...await Pw(o,'Say "OK" if you can read this.'),...t}}function m1(o){return`You are a resume parser. Extract structured information from this resume.

RESUME:
${o}

Return ONLY valid JSON (no markdown, no explanation) in this exact format:
{
  "name": "Full Name",
  "email": "email@example.com",
  "phone": "phone number or null",
  "location": "city, country or null",
  "summary": "brief professional summary",
  "skills": {
    "technical": ["skill1", "skill2"],
    "tools": ["tool1", "tool2"],
    "soft": ["skill1", "skill2"]
  },
  "experience": [
    {
      "title": "Job Title",
      "company": "Company Name",
      "duration": "e.g., Nov 2022 - Present",
      "highlights": ["achievement 1", "achievement 2"]
    }
  ],
  "education": [
    {
      "degree": "Degree Name",
      "institution": "School Name",
      "year": "graduation year"
    }
  ],
  "certifications": ["cert1", "cert2"]
}

Rules:
- Extract only what's in the resume, don't make up information
- If something is not mentioned, use null or empty array
- Keep highlights concise (max 15 words each)
- Return ONLY the JSON, nothing else`}function B1(o){return`You are a job description analyzer. Extract structured requirements from this job posting.

JOB DESCRIPTION:
${o}

Return ONLY valid JSON (no markdown, no explanation) in this exact format:
{
  "company": "Company name or null",
  "role": "Job title",
  "location": "Location or Remote",
  "salary": "Salary range if mentioned, else null",
  "requirements": {
    "mustHave": ["required skill 1", "required skill 2"],
    "niceToHave": ["preferred skill 1", "preferred skill 2"],
    "experience": "e.g., 3-5 years",
    "education": "e.g., Bachelor's in CS or null"
  },
  "responsibilities": ["main duty 1", "main duty 2"],
  "redFlags": ["any concerning items like unrealistic expectations"],
  "keywords": ["important keywords for ATS"]
}

Rules:
- Distinguish between MUST HAVE (required) and NICE TO HAVE (preferred)
- Red flags include: unrealistic requirements, vague descriptions, too many requirements
- Keywords should include technical terms that an ATS would scan for
- Return ONLY the JSON, nothing else`}function w1(o,t){return`You are a career coach analyzing a resume against a job description.

CANDIDATE'S RESUME:
${JSON.stringify(o,null,2)}

JOB REQUIREMENTS:
${JSON.stringify(t,null,2)}

Analyze the fit and return ONLY valid JSON (no markdown, no explanation):
{
  "matchScore": 75,
  "summary": "One sentence overall assessment",
  "strengths": [
    {
      "skill": "skill name",
      "evidence": "where it appears in resume",
      "relevance": "how it matches the job"
    }
  ],
  "gaps": [
    {
      "requirement": "what the job needs",
      "status": "missing | weak | hidden",
      "suggestion": "specific action to address this"
    }
  ],
  "resumeTips": [
    "Specific suggestion to improve resume for this job"
  ],
  "interviewTips": [
    "What to prepare for based on this job"
  ],
  "keywords": {
    "present": ["keywords from JD that ARE in resume"],
    "missing": ["keywords from JD that are NOT in resume"]
  }
}

Rules:
- matchScore: 0-100 based on how well requirements are met
- status meanings:
  - "missing": skill not in resume at all
  - "weak": skill mentioned but not emphasized
  - "hidden": skill exists but buried/not obvious
- Be specific and actionable in suggestions
- Return ONLY the JSON, nothing else`}function v1(o,t){return`Write a professional summary (2-3 sentences) tailored for this job.

CANDIDATE:
${JSON.stringify(o,null,2)}

TARGET JOB:
${JSON.stringify(t,null,2)}

Rules:
- Highlight relevant experience for THIS specific job
- Include key matching skills
- Keep it under 50 words
- Professional tone, no buzzwords
- Return ONLY the summary text, no JSON, no explanation`}function y1(o,t="normal"){const e=t==="roast";return`${e?`You are a SAVAGE comedy roast comedian reviewing a resume. Channel the energy of:
       - Gordon Ramsay screaming at a chef
       - A Comedy Central roast
       - Simon Cowell at his most brutal
       - Your disappointed Asian parents

       Be RUTHLESSLY FUNNY. Use creative insults, metaphors, and brutal honesty.
       Mock their buzzwords, question their life choices, roast their "achievements".
       Make them laugh while they cry. Be absolutely MERCILESS but never mean-spirited.

       Examples of roast energy:
       - "Your skills section looks like you just Googled 'things to put on resume'"
       - "This resume has more fluff than a Build-A-Bear workshop"
       - "I've seen more impact from a participation trophy"

       Still provide actually useful feedback hidden in the burns.`:`You are a supportive career coach providing constructive feedback.
       Be encouraging but honest. Focus on actionable improvements.`}

RESUME DATA:
${JSON.stringify(o,null,2)}

Analyze this resume and return ONLY valid JSON (no markdown, no explanation):
{
  "score": <your score 0-100>,
  "summary": "<${e?"2-3 sentences of BRUTAL roasting that makes them question their career choices":"your assessment"}>",
  "strengths": ["<${e?"backhanded compliment 1":"strength 1"}>", "<${e?"backhanded compliment 2":"strength 2"}>"],
  "improvements": ["<${e?"savage burn with actual advice 1":"improvement 1"}>", "<${e?"savage burn with actual advice 2":"improvement 2"}>", "<${e?"savage burn with actual advice 3":"improvement 3"}>"],
  "tips": ["<${e?"brutal but useful tip 1":"tip 1"}>", "<${e?"brutal but useful tip 2":"tip 2"}>"]
}

SCORING CRITERIA (use this EXACT rubric - add up points):
Base score: 50 points, then add/subtract:
- Contact info complete (name, email, phone, location): +5
- Has professional summary: +5
- Has 3+ work experiences with details: +10
- Has quantified achievements (numbers, metrics, %): +10
- Has relevant skills listed: +5
- Has education listed: +5
- Strong action verbs used: +5
- No obvious gaps or red flags: +5
- Subtract 5 points for each: buzzword fluff, vague descriptions, missing sections

Final ranges:
- 85-100: Exceptional
- 70-84: Strong
- 55-69: Needs work
- 40-54: Significant issues
- 0-39: Major overhaul

Rules:
- IMPORTANT: Actually evaluate and score the resume based on content quality, formatting, impact statements, and completeness
- ${e?"Be HILARIOUS and SAVAGE. Make every line quotable. Roast them to a crisp but leave them with real advice buried in the burns.":"Be supportive but honest"}
- strengths: 2-4 items ${e?'(make them backhanded compliments like "At least you spelled your name right")':"from their resume"}
- improvements: 3-5 items ${e?"(roast the flaws HARD but include actual fixes)":"(most important first)"}
- tips: 2-3 ${e?"brutal but genuinely useful pieces of advice":"specific, actionable pieces of advice"}
- Return ONLY valid JSON, nothing else`}function C1(o){const{aiProvider:t,geminiApiKey:e,openaiApiKey:A,ollamaModel:i="mistral"}=o;async function a(c){return t==="gemini"?e?jw(e,c):{success:!1,error:"Gemini API key not configured"}:t==="openai"?A?Kw(A,c):{success:!1,error:"OpenAI API key not configured"}:t==="ollama"?Pw(i,c):{success:!1,error:"No AI provider configured"}}function l(c){if(!c)return null;let h=c.trim();try{return JSON.parse(h)}catch{}h=h.replace(/^```json\s*/i,"").replace(/^```\s*/i,"").replace(/\s*```$/i,"").trim();try{return JSON.parse(h)}catch{}const d=c.match(/\{[\s\S]*\}/);if(d)try{return JSON.parse(d[0])}catch{console.error("Failed to parse extracted JSON:",d[0].substring(0,200))}return console.error("Could not parse AI response as JSON:",c.substring(0,500)),null}return{async parseResume(c){const h=m1(c),d=await a(h);if(!d.success)return d;const f=l(d.text);return f?{success:!0,data:f}:{success:!1,error:"Failed to parse AI response as JSON"}},async parseJobDescription(c){const h=B1(c),d=await a(h);if(!d.success)return d;const f=l(d.text);return f?{success:!0,data:f}:{success:!1,error:"Failed to parse AI response as JSON"}},async analyzeGap(c,h){const d=w1(c,h),f=await a(d);if(!f.success)return f;const m=l(f.text);return m?{success:!0,data:m}:{success:!1,error:"Failed to parse AI response as JSON"}},async generateTailoredSummary(c,h){const d=v1(c,h),f=await a(d);return f.success?{success:!0,text:f.text.trim()}:f},async analyzeResume(c,h="normal"){const d=y1(c,h),f=await a(d);if(!f.success)return f;const m=l(f.text);return m?{success:!0,data:{...m,mode:h}}:{success:!1,error:"Failed to parse AI response as JSON"}},async rawCall(c){return a(c)}}}async function b1(o){const{aiProvider:t,geminiApiKey:e,openaiApiKey:A,ollamaModel:i="mistral"}=o;return t==="gemini"?e?h1(e):{success:!1,error:"No API key provided"}:t==="openai"?A?f1(A):{success:!1,error:"No API key provided"}:t==="ollama"?p1(i):{success:!1,error:"No AI provider selected"}}function Gw(o){const[t,e]=Y.useState(!1),[A,i]=Y.useState(null),a=Y.useMemo(()=>o?.aiProvider?C1(o):null,[o?.aiProvider,o?.geminiApiKey,o?.openaiApiKey,o?.ollamaModel]),l=Y.useCallback(b=>async(...y)=>{if(!a)return{success:!1,error:"AI not configured"};e(!0),i(null);try{const x=await b(...y);return x.success||i(x.error),x}catch(x){const E=x.message||"AI processing failed";return i(E),{success:!1,error:E}}finally{e(!1)}},[a]),c=Y.useCallback(l(async b=>a.parseResume(b)),[a,l]),h=Y.useCallback(l(async b=>a.parseJobDescription(b)),[a,l]),d=Y.useCallback(l(async(b,y)=>a.analyzeGap(b,y)),[a,l]),f=Y.useCallback(l(async(b,y)=>a.generateTailoredSummary(b,y)),[a,l]),m=Y.useCallback(l(async(b,y="normal")=>a.analyzeResume(b,y)),[a,l]),w=Y.useCallback(async()=>{if(!o?.aiProvider)return{success:!1,error:"No AI provider selected"};e(!0),i(null);try{const b=await b1(o);return b.success||i(b.error),b}finally{e(!1)}},[o]),v=Y.useCallback(async b=>bf(b||o?.ollamaModel||"mistral"),[o?.ollamaModel]);return{isConfigured:!!a,isProcessing:t,error:A,clearError:()=>i(null),parseResume:c,parseJobDescription:h,analyzeGap:d,generateTailoredSummary:f,analyzeResume:m,testConnection:w,checkOllama:v}}function a0({settings:o,onSave:t,onResetApp:e}){const[A,i]=Y.useState(o?.aiProvider||null),[a,l]=Y.useState(o?.geminiApiKey||""),[c,h]=Y.useState(o?.openaiApiKey||""),[d,f]=Y.useState(o?.ollamaModel||""),[m,w]=Y.useState(""),[v,b]=Y.useState(null),[y,x]=Y.useState(""),[E,U]=Y.useState(null),[S,T]=Y.useState(!1),[_,D]=Y.useState(!1),[F,O]=Y.useState(null);Y.useEffect(()=>{A==="ollama"&&K()},[A]);const K=async()=>{T(!0);const z=await bf();U(z),z.running&&z.availableModels?.length>0&&!d&&f(z.availableModels[0]),T(!1)},{testConnection:it}=Gw({aiProvider:A,geminiApiKey:a,openaiApiKey:c,ollamaModel:d||m}),G=async()=>{b("testing"),x("");const z=await it();z.success?(b("success"),x("Connection successful!")):(b("error"),x(z.error||"Connection failed"))},q=async()=>{await t({aiProvider:A,geminiApiKey:A==="gemini"?a:null,openaiApiKey:A==="openai"?c:null,ollamaModel:A==="ollama"?d||m:"mistral"}),e&&O({message:"Settings saved!",type:"success"})},$=z=>{f(z),w("")},at=z=>{w(z),f("")},rt=d||m,N=async z=>{try{await navigator.clipboard.writeText(z),O({message:"Copied!",type:"success"})}catch(st){console.error("Failed to copy:",st),O({message:"Failed to copy",type:"error"})}},M=rt&&E?.availableModels?.includes(rt),R=A&&(A==="gemini"&&a||A==="openai"&&c||A==="ollama"&&E?.running&&rt&&M);return g.jsxs("div",{className:"ai-settings",children:[g.jsx("h3",{className:"text-xl font-bold mb-4",children:"Choose AI Provider"}),g.jsxs("div",{className:"provider-options",children:[g.jsxs("div",{className:"provider-group",children:[g.jsx(WA,{padding:"md",className:`provider-card ${A==="gemini"?"selected":""}`,onClick:()=>i("gemini"),children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold",children:"Gemini"}),g.jsx("p",{className:"text-sm text-light mt-1",children:"Fast, cloud-based."})]}),g.jsx("span",{className:"provider-badge",children:"Cloud"})]})}),A==="gemini"&&g.jsxs(WA,{padding:"md",className:"provider-config",children:[g.jsx("h4",{className:"font-bold mb-4",children:"Gemini Setup"}),g.jsx(dA,{label:"API Key",type:"password",value:a,onChange:l,placeholder:"Paste your Gemini API key"}),g.jsxs("p",{className:"text-sm text-light mt-2",children:["Get a free key at"," ",g.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-primary",children:"aistudio.google.com"})]})]})]}),g.jsxs("div",{className:"provider-group",children:[g.jsx(WA,{padding:"md",className:`provider-card ${A==="openai"?"selected":""}`,onClick:()=>i("openai"),children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold",children:"OpenAI"}),g.jsx("p",{className:"text-sm text-light mt-1",children:"GPT-4o vision. Pay-as-you-go pricing."})]}),g.jsx("span",{className:"provider-badge",children:"Cloud"})]})}),A==="openai"&&g.jsxs(WA,{padding:"md",className:"provider-config",children:[g.jsx("h4",{className:"font-bold mb-4",children:"OpenAI Setup"}),g.jsx(dA,{label:"API Key",type:"password",value:c,onChange:h,placeholder:"Paste your OpenAI API key (sk-...)"}),g.jsxs("p",{className:"text-sm text-light mt-2",children:["Get a key at"," ",g.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary",children:"platform.openai.com"})," ","(pay-as-you-go)"]})]})]}),g.jsxs("div",{className:"provider-group",children:[g.jsx(WA,{padding:"md",className:`provider-card ${A==="ollama"?"selected":""}`,onClick:()=>i("ollama"),children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold",children:"Ollama (Local)"}),g.jsx("p",{className:"text-sm text-light mt-1",children:"100% private. Local AI for resume/JD parsing."})]}),g.jsx("span",{className:"provider-badge local",children:"Local"})]})}),A==="ollama"&&g.jsxs(WA,{padding:"md",className:"provider-config",children:[g.jsx("h4",{className:"font-bold mb-4",children:"Ollama Setup"}),S&&g.jsx("div",{className:"ollama-status",children:g.jsx("span",{children:"Checking Ollama status..."})}),!S&&E&&g.jsx("div",{className:`ollama-status ${E.running?"running":"not-running"}`,children:E.running?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"status-dot"}),g.jsx("span",{children:"Ollama is running"}),g.jsx(xe,{variant:"outline",size:"sm",onClick:K,className:"ml-auto",children:"Refresh"})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"status-dot offline"}),g.jsx("span",{children:"Ollama not detected"}),g.jsx(xe,{variant:"outline",size:"sm",onClick:K,className:"ml-auto",children:"Retry"})]})}),E?.running&&g.jsxs("div",{className:"mt-4",children:[g.jsx("label",{className:"text-sm font-bold",children:"Select Model"}),E.availableModels?.length>0?g.jsxs(g.Fragment,{children:[g.jsxs("p",{className:"text-sm text-light mt-1 mb-2",children:[E.availableModels.length," model(s) installed:"]}),g.jsx("div",{className:"flex gap-2 flex-wrap",children:E.availableModels.map(z=>g.jsx("button",{className:`model-btn ${d===z?"selected":""}`,onClick:()=>$(z),children:z},z))})]}):g.jsxs("div",{className:"no-models-warning mt-2",children:[g.jsx("p",{className:"font-bold",children:"No models installed!"}),g.jsx("p",{className:"text-sm mt-1",children:"You need to pull a model first. Run one of these commands:"})]}),g.jsxs("div",{className:"mt-4",children:[g.jsx(dA,{label:"Or enter model name manually",value:m,onChange:at,placeholder:"e.g., mistral, llama3.2, phi3"}),g.jsx("p",{className:"text-sm text-light mt-1",children:"Models that support structured JSON output work best"})]}),rt&&g.jsxs("div",{className:`selected-model mt-4 ${M?"":"not-installed"}`,children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm",children:"Selected:"}),g.jsx("span",{className:"font-bold",children:rt}),M?g.jsx("span",{className:"text-success text-sm",children:" Installed"}):g.jsx("span",{className:"text-error text-sm",children:" Not installed"})]}),!M&&g.jsxs("div",{className:"model-install-prompt mt-3",children:[g.jsx("p",{className:"text-sm mb-2",children:"Run this command in your terminal to install:"}),g.jsxs("button",{className:"install-command",onClick:()=>N(`ollama pull ${rt}`),children:[g.jsxs("code",{children:["ollama pull ",rt]}),g.jsx("span",{className:"copy-hint",children:"Click to copy"})]}),g.jsx("p",{className:"text-sm text-light mt-2",children:'After installing, click "Refresh" above to update the model list.'})]})]})]}),!S&&!E?.running&&g.jsxs("div",{className:"setup-instructions mt-4",children:[g.jsx("p",{className:"font-bold mb-2",children:"Setup Instructions:"}),g.jsxs("ol",{className:"text-sm",children:[g.jsxs("li",{children:[g.jsx("span",{className:"step-label",children:"Install Ollama:"}),g.jsx("code",{children:"curl -fsSL https://ollama.com/install.sh | sh"})]}),g.jsxs("li",{children:[g.jsx("span",{className:"step-label",children:"Pull a model:"}),g.jsx("code",{children:"ollama pull mistral"})]}),g.jsxs("li",{children:[g.jsx("span",{className:"step-label",children:"Start Ollama:"}),g.jsx("code",{children:"ollama serve"})]})]})]}),E?.running&&E.availableModels?.length===0&&g.jsxs("div",{className:"setup-instructions mt-4",children:[g.jsx("p",{className:"font-bold mb-2",children:"Recommended Models for Resume/JD Parsing:"}),g.jsx("p",{className:"text-sm text-light mb-3",children:"Click a command to copy, then paste in your terminal:"}),g.jsxs("div",{className:"model-suggestions",children:[g.jsxs("button",{className:"suggestion",onClick:()=>N("ollama pull mistral"),children:[g.jsx("code",{children:"ollama pull mistral"}),g.jsx("span",{className:"text-sm text-light",children:"Best for JSON output (4.1GB) - Recommended"})]}),g.jsxs("button",{className:"suggestion",onClick:()=>N("ollama pull llama3.2"),children:[g.jsx("code",{children:"ollama pull llama3.2"}),g.jsx("span",{className:"text-sm text-light",children:"Lightweight alternative (2.0GB)"})]}),g.jsxs("button",{className:"suggestion",onClick:()=>N("ollama pull phi3"),children:[g.jsx("code",{children:"ollama pull phi3"}),g.jsx("span",{className:"text-sm text-light",children:"Microsoft's small model (2.2GB)"})]}),g.jsxs("button",{className:"suggestion",onClick:()=>N("ollama pull qwen2.5"),children:[g.jsx("code",{children:"ollama pull qwen2.5"}),g.jsx("span",{className:"text-sm text-light",children:"Good for structured output (4.7GB)"})]})]})]})]})]})]}),A&&g.jsxs("div",{className:"mt-4 flex gap-4 items-center flex-wrap",children:[g.jsx(xe,{variant:"secondary",onClick:G,disabled:v==="testing"||A==="ollama"&&!rt,children:v==="testing"?"Testing...":"Test Connection"}),v==="success"&&g.jsx("span",{className:"text-success font-bold",children:y}),v==="error"&&g.jsx("span",{className:"text-error",children:y})]}),g.jsx("div",{className:"mt-6",children:g.jsx(xe,{variant:"primary",size:"lg",onClick:q,disabled:!R,className:"w-full",children:e?"Save":"Save & Continue"})}),e&&g.jsxs("div",{className:"storage-section pt-6",style:{marginTop:"40px",borderTop:"2px solid var(--color-border)"},children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:"Data Storage"}),g.jsxs(WA,{padding:"md",children:[g.jsx("div",{className:"flex justify-between items-start gap-4",children:g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:"Storage Location"}),g.jsx("p",{className:"text-sm text-light mt-1",children:"Your data is stored locally on your device. Nothing is sent to any server."})]})}),g.jsxs("div",{className:"mt-4 pt-4",style:{borderTop:"1px solid var(--color-border)"},children:[g.jsx("p",{className:"text-sm text-light mb-3",children:"Want to start fresh or switch to a different setup?"}),g.jsx(xe,{variant:"secondary",onClick:()=>D(!0),children:"Reset App & Start Fresh"})]})]})]}),g.jsx(Tr,{isOpen:_,onClose:()=>D(!1),title:"Reset App?",size:"sm",children:g.jsxs("div",{className:"reset-confirm-content",children:[g.jsx("p",{className:"mb-4",children:"This will clear all your data including jobs, contacts, and resume. You'll return to the setup screen."}),g.jsx("p",{className:"text-sm text-light mb-6",children:"This action cannot be undone."}),g.jsxs("div",{className:"flex gap-3 justify-end",children:[g.jsx(xe,{variant:"secondary",onClick:()=>D(!1),children:"Cancel"}),g.jsx(xe,{variant:"primary",onClick:()=>{D(!1),e()},style:{background:"var(--color-error)",borderColor:"var(--color-error)"},children:"Yes, Reset Everything"})]})]})}),F&&g.jsx(a1,{children:g.jsx(yf,{message:F.message,type:F.type,duration:2e3,onClose:()=>O(null)})})]})}const $e=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Id=[.001,0,0,.001,0,0],Ad=1.35,xA={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},gn={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Mr="pdfjs_internal_editor_",xt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Lt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},E1={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Md={TRIANGLES:1,LATTICE:2},Oe={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Wl={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ee={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ji={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},wc={ERRORS:0,WARNINGS:1,INFOS:5},Rr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},cr={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},x1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let vc=wc.WARNINGS;function S1(o){Number.isInteger(o)&&(vc=o)}function Q1(){return vc}function yc(o){vc>=wc.INFOS&&console.info(`Info: ${o}`)}function bt(o){vc>=wc.WARNINGS&&console.warn(`Warning: ${o}`)}function $t(o){throw new Error(o)}function It(o,t){o||$t(t)}function U1(o){switch(o?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Vw(o,t=null,e=null){if(!o)return null;if(e&&typeof o=="string"&&(e.addDefaultProtocol&&o.startsWith("www.")&&o.match(/\./g)?.length>=2&&(o=`http://${o}`),e.tryConvertEncoding))try{o=N1(o)}catch{}const A=t?URL.parse(o,t):URL.parse(o);return U1(A)?A:null}function zw(o,t,e=!1){const A=URL.parse(o);return A?(A.hash=t,A.href):e&&Vw(o,"http://example.com")?o.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Et(o,t,e,A=!1){return Object.defineProperty(o,t,{value:e,enumerable:!A,configurable:!0,writable:!1}),e}const Ai=(function(){function t(e,A){this.message=e,this.name=A}return t.prototype=new Error,t.constructor=t,t})();class r0 extends Ai{constructor(t,e){super(t,"PasswordException"),this.code=e}}class sd extends Ai{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Rd extends Ai{constructor(t){super(t,"InvalidPDFException")}}class ic extends Ai{constructor(t,e,A){super(t,"ResponseException"),this.status=e,this.missing=A}}class F1 extends Ai{constructor(t){super(t,"FormatError")}}class Cn extends Ai{constructor(t){super(t,"AbortException")}}function Xw(o){(typeof o!="object"||o?.length===void 0)&&$t("Invalid argument for bytesToString");const t=o.length,e=8192;if(t<e)return String.fromCharCode.apply(null,o);const A=[];for(let i=0;i<t;i+=e){const a=Math.min(i+e,t),l=o.subarray(i,a);A.push(String.fromCharCode.apply(null,l))}return A.join("")}function Vr(o){typeof o!="string"&&$t("Invalid argument for stringToBytes");const t=o.length,e=new Uint8Array(t);for(let A=0;A<t;++A)e[A]=o.charCodeAt(A)&255;return e}function T1(o){return String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255)}function _1(){const o=new Uint8Array(4);return o[0]=1,new Uint32Array(o.buffer,0,1)[0]===1}function D1(){try{return new Function(""),!0}catch{return!1}}class Ge{static get isLittleEndian(){return Et(this,"isLittleEndian",_1())}static get isEvalSupported(){return Et(this,"isEvalSupported",D1())}static get isOffscreenCanvasSupported(){return Et(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Et(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Et(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Et(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Et(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Et(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const nd=Array.from(Array(256).keys(),o=>o.toString(16).padStart(2,"0"));class gt{static makeHexColor(t,e,A){return`#${nd[t]}${nd[e]}${nd[A]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let A;t[0]?(t[0]<0&&(A=e[0],e[0]=e[2],e[2]=A),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(A=e[1],e[1]=e[3],e[3]=A),e[1]*=t[3],e[3]*=t[3]):(A=e[0],e[0]=e[1],e[1]=A,A=e[2],e[2]=e[3],e[3]=A,t[1]<0&&(A=e[1],e[1]=e[3],e[3]=A),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(A=e[0],e[0]=e[2],e[2]=A),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,A=0){const i=t[A],a=t[A+1];t[A]=i*e[0]+a*e[2]+e[4],t[A+1]=i*e[1]+a*e[3]+e[5]}static applyTransformToBezier(t,e,A=0){const i=e[0],a=e[1],l=e[2],c=e[3],h=e[4],d=e[5];for(let f=0;f<6;f+=2){const m=t[A+f],w=t[A+f+1];t[A+f]=m*i+w*l+h,t[A+f+1]=m*a+w*c+d}}static applyInverseTransform(t,e){const A=t[0],i=t[1],a=e[0]*e[3]-e[1]*e[2];t[0]=(A*e[3]-i*e[2]+e[2]*e[5]-e[4]*e[3])/a,t[1]=(-A*e[1]+i*e[0]+e[4]*e[1]-e[5]*e[0])/a}static axialAlignedBoundingBox(t,e,A){const i=e[0],a=e[1],l=e[2],c=e[3],h=e[4],d=e[5],f=t[0],m=t[1],w=t[2],v=t[3];let b=i*f+h,y=b,x=i*w+h,E=x,U=c*m+d,S=U,T=c*v+d,_=T;if(a!==0||l!==0){const D=a*f,F=a*w,O=l*m,K=l*v;b+=O,E+=O,x+=K,y+=K,U+=D,_+=D,T+=F,S+=F}A[0]=Math.min(A[0],b,x,y,E),A[1]=Math.min(A[1],U,T,S,_),A[2]=Math.max(A[2],b,x,y,E),A[3]=Math.max(A[3],U,T,S,_)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const A=t[0],i=t[1],a=t[2],l=t[3],c=A**2+i**2,h=A*a+i*l,d=a**2+l**2,f=(c+d)/2,m=Math.sqrt(f**2-(c*d-h**2));e[0]=Math.sqrt(f+m||1),e[1]=Math.sqrt(f-m||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const A=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(A>i)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>l?null:[A,a,i,l]}static pointBoundingBox(t,e,A){A[0]=Math.min(A[0],t),A[1]=Math.min(A[1],e),A[2]=Math.max(A[2],t),A[3]=Math.max(A[3],e)}static rectBoundingBox(t,e,A,i,a){a[0]=Math.min(a[0],t,A),a[1]=Math.min(a[1],e,i),a[2]=Math.max(a[2],t,A),a[3]=Math.max(a[3],e,i)}static#t(t,e,A,i,a,l,c,h,d,f){if(d<=0||d>=1)return;const m=1-d,w=d*d,v=w*d,b=m*(m*(m*t+3*d*e)+3*w*A)+v*i,y=m*(m*(m*a+3*d*l)+3*w*c)+v*h;f[0]=Math.min(f[0],b),f[1]=Math.min(f[1],y),f[2]=Math.max(f[2],b),f[3]=Math.max(f[3],y)}static#e(t,e,A,i,a,l,c,h,d,f,m,w){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&this.#t(t,e,A,i,a,l,c,h,-m/f,w);return}const v=f**2-4*m*d;if(v<0)return;const b=Math.sqrt(v),y=2*d;this.#t(t,e,A,i,a,l,c,h,(-f+b)/y,w),this.#t(t,e,A,i,a,l,c,h,(-f-b)/y,w)}static bezierBoundingBox(t,e,A,i,a,l,c,h,d){d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,h),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,h),this.#e(t,A,a,c,e,i,l,h,3*(-t+3*(A-a)+c),6*(t-2*A+a),3*(A-t),d),this.#e(t,A,a,c,e,i,l,h,3*(-e+3*(i-l)+h),6*(e-2*i+l),3*(i-e),d)}}function N1(o){return decodeURIComponent(escape(o))}let id=null,o0=null;function H1(o){return id||(id=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,o0=new Map([["","t"]])),o.replaceAll(id,(t,e,A)=>e?e.normalize("NFKC"):o0.get(A))}function Yw(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const o=new Uint8Array(32);return crypto.getRandomValues(o),Xw(o)}const ea="pdfjs_internal_id_";function L1(o,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[A,i,...a]=e;if(!o(A)&&!Number.isInteger(A)||!t(i))return!1;const l=a.length;let c=!0;switch(i.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const h of a)if(!(typeof h=="number"||c&&h===null))return!1;return!0}function tA(o,t,e){return Math.min(Math.max(o,t),e)}function qw(o){return Uint8Array.prototype.toBase64?o.toBase64():btoa(Xw(o))}function I1(o){return Uint8Array.fromBase64?Uint8Array.fromBase64(o):Vr(atob(o))}typeof Promise.try!="function"&&(Promise.try=function(o,...t){return new Promise(e=>{e(o(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(o){return o.reduce((t,e)=>t+e,0)});class Or{static textContent(t){const e=[],A={items:e,styles:Object.create(null)};function i(a){if(!a)return;let l=null;const c=a.name;if(c==="#text")l=a.value;else if(Or.shouldBuildText(c))a?.attributes?.textContent?l=a.attributes.textContent:a.value&&(l=a.value);else return;if(l!==null&&e.push({str:l}),!!a.children)for(const h of a.children)i(h)}return i(t),A}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class Jw{static setupStorage(t,e,A,i,a){const l=i.getValue(e,{value:null});switch(A.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),a==="print")break;t.addEventListener("input",c=>{i.setValue(e,{value:c.target.value})});break;case"input":if(A.attributes.type==="radio"||A.attributes.type==="checkbox"){if(l.value===A.attributes.xfaOn?t.setAttribute("checked",!0):l.value===A.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",c=>{i.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),a==="print")break;t.addEventListener("input",c=>{i.setValue(e,{value:c.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const c of A.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const h=c.target.options,d=h.selectedIndex===-1?"":h[h.selectedIndex].value;i.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:A=null,intent:i,linkService:a}){const{attributes:l}=e,c=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${i}`);for(const[h,d]of Object.entries(l))if(d!=null)switch(h){case"class":d.length&&t.setAttribute(h,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,d)}c&&a.addLinkAttributes(t,l.href,l.newWindow),A&&l.dataId&&this.setupStorage(t,l.dataId,e,A)}static render(t){const e=t.annotationStorage,A=t.linkService,i=t.xfaHtml,a=t.intent||"display",l=document.createElement(i.name);i.attributes&&this.setAttributes({html:l,element:i,intent:a,linkService:A});const c=a!=="richText",h=t.div;if(h.append(l),t.viewport){const m=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=m}c&&h.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);l.append(m),c&&Or.shouldBuildText(i.name)&&d.push(m)}return{textDivs:d}}const f=[[i,-1,l]];for(;f.length>0;){const[m,w,v]=f.at(-1);if(w+1===m.children.length){f.pop();continue}const b=m.children[++f.at(-1)[1]];if(b===null)continue;const{name:y}=b;if(y==="#text"){const E=document.createTextNode(b.value);d.push(E),v.append(E);continue}const x=b?.attributes?.xmlns?document.createElementNS(b.attributes.xmlns,y):document.createElement(y);if(v.append(x),b.attributes&&this.setAttributes({html:x,element:b,storage:e,intent:a,linkService:A}),b.children?.length>0)f.push([b,-1,x]);else if(b.value){const E=document.createTextNode(b.value);c&&Or.shouldBuildText(y)&&d.push(E),x.append(E)}}for(const m of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Hs="http://www.w3.org/2000/svg";class ua{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function zr(o,t="text"){if(vr(o,document.baseURI)){const e=await fetch(o);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,A)=>{const i=new XMLHttpRequest;i.open("GET",o,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(i.response);return}e(i.responseText);return}A(new Error(i.statusText))}},i.send(null)})}class Xr{constructor({viewBox:t,userUnit:e,scale:A,rotation:i,offsetX:a=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=A,this.rotation=i,this.offsetX=a,this.offsetY=l,A*=e;const h=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let f,m,w,v;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,m=0,w=0,v=1;break;case 90:f=0,m=1,w=1,v=0;break;case 270:f=0,m=-1,w=-1,v=0;break;case 0:f=1,m=0,w=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(w=-w,v=-v);let b,y,x,E;f===0?(b=Math.abs(d-t[1])*A+a,y=Math.abs(h-t[0])*A+l,x=(t[3]-t[1])*A,E=(t[2]-t[0])*A):(b=Math.abs(h-t[0])*A+a,y=Math.abs(d-t[1])*A+l,x=(t[2]-t[0])*A,E=(t[3]-t[1])*A),this.transform=[f*A,m*A,w*A,v*A,b-f*A*h-w*A*d,y-m*A*h-v*A*d],this.width=x,this.height=E}get rawDims(){const t=this.viewBox;return Et(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:A=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new Xr({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:A,offsetY:i,dontFlip:a})}convertToViewportPoint(t,e){const A=[t,e];return gt.applyTransform(A,this.transform),A}convertToViewportRectangle(t){const e=[t[0],t[1]];gt.applyTransform(e,this.transform);const A=[t[2],t[3]];return gt.applyTransform(A,this.transform),[e[0],e[1],A[0],A[1]]}convertToPdfPoint(t,e){const A=[t,e];return gt.applyInverseTransform(A,this.transform),A}}class Ef extends Ai{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Cc(o){const t=o.length;let e=0;for(;e<t&&o[e].trim()==="";)e++;return o.substring(e,e+5).toLowerCase()==="data:"}function xf(o){return typeof o=="string"&&/\.pdf$/i.test(o)}function M1(o){return[o]=o.split(/[#?]/,1),o.substring(o.lastIndexOf("/")+1)}function R1(o,t="document.pdf"){if(typeof o!="string")return t;if(Cc(o))return bt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const A=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(o);if(!A)return t;const i=c=>{try{let h=decodeURIComponent(c);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:c):h}catch{return c}},a=/\.pdf$/i,l=A.pathname.split("/").at(-1);if(a.test(l))return i(l);if(A.searchParams.size>0){const c=Array.from(A.searchParams.values()).reverse();for(const d of c)if(a.test(d))return i(d);const h=Array.from(A.searchParams.keys()).reverse();for(const d of h)if(a.test(d))return i(d)}if(A.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(A.hash);if(h)return i(h[0])}return t}class l0{started=Object.create(null);times=[];time(t){t in this.started&&bt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||bt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:A}of this.times)e=Math.max(A.length,e);for(const{name:A,start:i,end:a}of this.times)t.push(`${A.padEnd(e)} ${a-i}ms
`);return t.join("")}}function vr(o,t){const e=t?URL.parse(o,t):URL.parse(o);return e?.protocol==="http:"||e?.protocol==="https:"}function VA(o){o.preventDefault()}function de(o){o.preventDefault(),o.stopPropagation()}function O1(o){console.log("Deprecated API usage: "+o)}class Od{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const A=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const d=e[7]||"Z";let f=parseInt(e[8],10);f=f>=0&&f<=23?f:0;let m=parseInt(e[9],10)||0;return m=m>=0&&m<=59?m:0,d==="-"?(l+=f,c+=m):d==="+"&&(l-=f,c-=m),new Date(Date.UTC(A,i,a,l,c,h))}}function k1(o,{scale:t=1,rotation:e=0}){const{width:A,height:i}=o.attributes.style,a=[0,0,parseInt(A),parseInt(i)];return new Xr({viewBox:a,userUnit:1,scale:t,rotation:e})}function Yr(o){if(o.startsWith("#")){const t=parseInt(o.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return o.startsWith("rgb(")?o.slice(4,-1).split(",").map(t=>parseInt(t)):o.startsWith("rgba(")?o.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(bt(`Not a valid color format: "${o}"`),[0,0,0])}function j1(o){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of o.keys()){t.style.color=e;const A=window.getComputedStyle(t).color;o.set(e,Yr(A))}t.remove()}function oe(o){const{a:t,b:e,c:A,d:i,e:a,f:l}=o.getTransform();return[t,e,A,i,a,l]}function is(o){const{a:t,b:e,c:A,d:i,e:a,f:l}=o.getTransform().invertSelf();return[t,e,A,i,a,l]}function ti(o,t,e=!1,A=!0){if(t instanceof Xr){const{pageWidth:i,pageHeight:a}=t.rawDims,{style:l}=o,c=Ge.isCSSRoundSupported,h=`var(--total-scale-factor) * ${i}px`,d=`var(--total-scale-factor) * ${a}px`,f=c?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,m=c?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!e||t.rotation%180===0?(l.width=f,l.height=m):(l.width=m,l.height=f)}A&&o.setAttribute("data-main-rotation",t.rotation)}class cs{constructor(){const{pixelRatio:t}=cs;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,A,i,a=-1){let l=1/0,c=1/0,h=1/0;A=cs.capPixels(A,a),A>0&&(l=Math.sqrt(A/(t*e))),i!==-1&&(c=i/t,h=i/e);const d=Math.min(l,c,h);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const A=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,A):A}return t}}const kd=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class K1{static get isDarkMode(){return Et(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class P1{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:A}=window.getComputedStyle(t);return t.remove(),Et(this,"commentForegroundColor",Yr(A))}}function G1(o,t,e,A){A=Math.min(Math.max(A??1,0),1);const i=255*(1-A);return o=Math.round(o*A+i),t=Math.round(t*A+i),e=Math.round(e*A+i),[o,t,e]}function c0(o,t){const e=o[0]/255,A=o[1]/255,i=o[2]/255,a=Math.max(e,A,i),l=Math.min(e,A,i),c=(a+l)/2;if(a===l)t[0]=t[1]=0;else{const h=a-l;switch(t[1]=c<.5?h/(a+l):h/(2-a-l),a){case e:t[0]=((A-i)/h+(A<i?6:0))*60;break;case A:t[0]=((i-e)/h+2)*60;break;case i:t[0]=((e-A)/h+4)*60;break}}t[2]=c}function jd(o,t){const e=o[0],A=o[1],i=o[2],a=(1-Math.abs(2*i-1))*A,l=a*(1-Math.abs(e/60%2-1)),c=i-a/2;switch(Math.floor(e/60)){case 0:t[0]=a+c,t[1]=l+c,t[2]=c;break;case 1:t[0]=l+c,t[1]=a+c,t[2]=c;break;case 2:t[0]=c,t[1]=a+c,t[2]=l+c;break;case 3:t[0]=c,t[1]=l+c,t[2]=a+c;break;case 4:t[0]=l+c,t[1]=c,t[2]=a+c;break;case 5:case 6:t[0]=a+c,t[1]=c,t[2]=l+c;break}}function u0(o){return o<=.03928?o/12.92:((o+.055)/1.055)**2.4}function h0(o,t,e){jd(o,e),e.map(u0);const A=.2126*e[0]+.7152*e[1]+.0722*e[2];jd(t,e),e.map(u0);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];return A>i?(A+.05)/(i+.05):(i+.05)/(A+.05)}const d0=new Map;function V1(o,t){const e=o[0]+o[1]*256+o[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let A=d0.get(e);if(A)return A;const i=new Float32Array(9),a=i.subarray(0,3),l=i.subarray(3,6);c0(o,l);const c=i.subarray(6,9);c0(t,c);const h=c[2]<.5,d=h?12:4.5;if(l[2]=h?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),h0(l,c,a)<d){let f,m;h?(f=l[2],m=1):(f=0,m=l[2]);const w=.005;for(;m-f>w;){const v=l[2]=(f+m)/2;h===h0(l,c,a)<d?f=v:m=v}l[2]=h?m:f}return jd(l,a),A=gt.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),d0.set(e,A),A}function Ww({html:o,dir:t,className:e},A){const i=document.createDocumentFragment();if(typeof o=="string"){const a=document.createElement("p");a.dir=t||"auto";const l=o.split(/(?:\r\n?|\n)/);for(let c=0,h=l.length;c<h;++c){const d=l[c];a.append(document.createTextNode(d)),c<h-1&&a.append(document.createElement("br"))}i.append(a)}else Jw.render({xfaHtml:o,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",e),A.append(i)}function Zw(o){const t=new Path2D;if(!o)return t;for(let e=0,A=o.length;e<A;)switch(o[e++]){case cr.moveTo:t.moveTo(o[e++],o[e++]);break;case cr.lineTo:t.lineTo(o[e++],o[e++]);break;case cr.curveTo:t.bezierCurveTo(o[e++],o[e++],o[e++],o[e++],o[e++],o[e++]);break;case cr.quadraticCurveTo:t.quadraticCurveTo(o[e++],o[e++],o[e++],o[e++]);break;case cr.closePath:t.closePath();break;default:bt(`Unrecognized drawing path operator: ${o[e-1]}`);break}return t}class _r{#t=null;#e=null;#s;#A=null;#a=null;#i=null;#n=null;#r=null;static#l=null;constructor(t){this.#s=t,_r.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#s._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",VA,{signal:e}),t.addEventListener("pointerdown",_r.#o,{signal:e}));const A=this.#A=document.createElement("div");A.className="buttons",t.append(A);const i=this.#s.toolbarPosition;if(i){const{style:a}=t,l=this.#s._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*l}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#o(t){t.stopPropagation()}#h(t){this.#s._focusEventsAllowed=!1,de(t)}#u(t){this.#s._focusEventsAllowed=!0,de(t)}#d(t){const e=this.#s._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#u.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",VA,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#i?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#s,A=document.createElement("button");A.classList.add("basic","deleteButton"),A.tabIndex=0,A.setAttribute("data-l10n-id",_r.#l[t]),this.#d(A)&&A.addEventListener("click",i=>{e.delete()},{signal:e._signal}),this.#A.append(A)}get#p(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#d(e),this.#A.append(e,this.#p),this.#a=t}addComment(t,e=null){if(this.#i)return;const A=t.renderForToolbar();if(!A)return;this.#d(A);const i=this.#n=this.#p;e?(this.#A.insertBefore(A,e),this.#A.insertBefore(i,e)):this.#A.append(A,i),this.#i=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#d(e),this.#A.append(e,this.#p)}async addEditSignatureButton(t){const e=this.#r=await t.renderEditButton(this.#s);this.#d(e),this.#A.append(e,this.#p)}removeButton(t){t==="comment"&&(this.#i?.removeToolbarCommentButton(),this.#i=null,this.#n?.remove(),this.#n=null)}async addButton(t,e){switch(t){case"colorPicker":e&&this.addColorPicker(e);break;case"altText":e&&await this.addAltText(e);break;case"editSignature":e&&await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":e&&this.addComment(e);break}}async addButtonBefore(t,e,A){if(!e&&t==="comment")return;const i=this.#A.querySelector(A);i&&t==="comment"&&this.addComment(e,i)}updateEditSignatureButton(t){this.#r&&(this.#r.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class z1{#t=null;#e=null;#s;constructor(t){this.#s=t}#A(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#s._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",VA,{signal:e});const A=this.#t=document.createElement("div");return A.className="buttons",t.append(A),this.#s.hasCommentManager()&&this.#i("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#s.commentSelection("floating_button")}),this.#i("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#s.highlightSelection("floating_button")}),t}#a(t,e){let A=0,i=0;for(const a of t){const l=a.y+a.height;if(l<A)continue;const c=a.x+(e?a.width:0);if(l>A){i=c,A=l;continue}e?c>i&&(i=c):c<i&&(i=c)}return[e?1-i:i,A]}show(t,e,A){const[i,a]=this.#a(e,A),{style:l}=this.#e||=this.#A();t.append(this.#e),l.insetInlineEnd=`${100*i}%`,l.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#i(t,e,A,i){const a=document.createElement("button");a.classList.add("basic",t),a.tabIndex=0,a.setAttribute("data-l10n-id",e);const l=document.createElement("span");a.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",A);const c=this.#s._signal;c instanceof AbortSignal&&!c.aborted&&(a.addEventListener("contextmenu",VA,{signal:c}),a.addEventListener("click",i,{signal:c})),this.#t.append(a)}}function $w(o,t,e){for(const A of e)t.addEventListener(A,o[A].bind(o))}class Kt{static#t=NaN;static#e=null;static#s=NaN;static#A=null;static initializeAndAddPointerId(t){(Kt.#e||=new Set).add(t)}static setPointer(t,e){Kt.#t||=e,Kt.#A??=t}static setTimeStamp(t){Kt.#s=t}static isSamePointerId(t){return Kt.#t===t}static isSamePointerIdOrRemove(t){return Kt.#t===t?!0:(Kt.#e?.delete(t),!1)}static isSamePointerType(t){return Kt.#A===t}static isInitializedAndDifferentPointerType(t){return Kt.#A!==null&&!Kt.isSamePointerType(t)}static isSameTimeStamp(t){return Kt.#s===t}static isUsingMultiplePointers(){return Kt.#e?.size>=1}static clearPointerType(){Kt.#A=null}static clearPointerIds(){Kt.#t=NaN,Kt.#e=null}static clearTimeStamp(){Kt.#s=NaN}}class X1{#t=0;get id(){return`${Mr}${this.#t++}`}}class Sf{#t=Yw();#e=0;#s=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',A=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=t;const a=i.decode().then(()=>(A.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(A.getImageData(0,0,1,1).data.buffer)[0]===0));return Et(this,"_isSVGFittingCanvas",a)}async#A(t,e){this.#s||=new Map;let A=this.#s.get(t);if(A===null)return null;if(A?.bitmap)return A.refCounter+=1,A;try{A||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let i;if(typeof e=="string"?(A.url=e,i=await zr(e,"blob")):e instanceof File?i=A.file=e:e instanceof Blob&&(i=e),i.type==="image/svg+xml"){const a=Sf._isSVGFittingCanvas,l=new FileReader,c=new Image,h=new Promise((d,f)=>{c.onload=()=>{A.bitmap=c,A.isSvg=!0,d()},l.onload=async()=>{const m=A.svgUrl=l.result;c.src=await a?`${m}#svgView(preserveAspectRatio(none))`:m},c.onerror=l.onerror=f});l.readAsDataURL(i),await h}else A.bitmap=await createImageBitmap(i);A.refCounter=1}catch(i){bt(i),A=null}return this.#s.set(t,A),A&&this.#s.set(A.id,A),A}async getFromFile(t){const{lastModified:e,name:A,size:i,type:a}=t;return this.#A(`${e}_${A}_${i}_${a}`,t)}async getFromUrl(t){return this.#A(t,t)}async getFromBlob(t,e){const A=await e;return this.#A(t,A)}async getFromId(t){this.#s||=new Map;const e=this.#s.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:A}=e;return delete e.blobPromise,this.getFromBlob(e.id,A)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#s||=new Map;let A=this.#s.get(t);if(A?.bitmap)return A.refCounter+=1,A;const i=new OffscreenCanvas(e.width,e.height);return i.getContext("2d").drawImage(e,0,0),A={bitmap:i.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#s.set(t,A),this.#s.set(A.id,A),A}getSvgUrl(t){const e=this.#s.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#s||=new Map;const e=this.#s.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:A}=e;if(!e.url&&!e.file){const i=new OffscreenCanvas(A.width,A.height);i.getContext("bitmaprenderer").transferFromImageBitmap(A),e.blobPromise=i.convertToBlob()}A.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class Y1{#t=[];#e=!1;#s;#A=-1;constructor(t=128){this.#s=t}add({cmd:t,undo:e,post:A,mustExec:i,type:a=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(i&&t(),this.#e)return;const h={cmd:t,undo:e,post:A,type:a};if(this.#A===-1){this.#t.length>0&&(this.#t.length=0),this.#A=0,this.#t.push(h);return}if(l&&this.#t[this.#A].type===a){c&&(h.undo=this.#t[this.#A].undo),this.#t[this.#A]=h;return}const d=this.#A+1;d===this.#s?this.#t.splice(0,1):(this.#A=d,d<this.#t.length&&this.#t.splice(d)),this.#t.push(h)}undo(){if(this.#A===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#A];t(),e?.(),this.#e=!1,this.#A-=1}redo(){if(this.#A<this.#t.length-1){this.#A+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#A];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#A!==-1}hasSomethingToRedo(){return this.#A<this.#t.length-1}cleanType(t){if(this.#A!==-1){for(let e=this.#A;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#A-e),this.#A=e;return}this.#t.length=0,this.#A=-1}}destroy(){this.#t=null}}class qr{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ge.platform;for(const[A,i,a={}]of t)for(const l of A){const c=l.startsWith("mac+");e&&c?(this.callbacks.set(l.slice(4),{callback:i,options:a}),this.allKeys.add(l.split("+").at(-1))):!e&&!c&&(this.callbacks.set(l,{callback:i,options:a}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const A=this.callbacks.get(this.#t(e));if(!A)return;const{callback:i,options:{bubbles:a=!1,args:l=[],checker:c=null}}=A;c&&!c(t,e)||(i.bind(t,...l,e)(),a||de(e))}}class Qf{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return j1(t),Et(this,"_colors",t)}convert(t){const e=Yr(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[A,i]of this._colors)if(i.every((a,l)=>a===e[l]))return Qf._colorsMapping.get(A);return e}getHexCode(t){const e=this._colors.get(t);return e?gt.makeHexColor(...e):t}}class bn{#t=new AbortController;#e=null;#s=null;#A=new Map;#a=new Map;#i=null;#n=null;#r=null;#l=new Y1;#o=null;#h=null;#u=null;#d=0;#p=new Set;#g=null;#c=null;#f=new Set;_editorUndoBar=null;#m=!1;#w=!1;#B=!1;#x=null;#b=null;#y=null;#Q=null;#v=!1;#E=null;#T=new X1;#U=!1;#F=!1;#M=!1;#D=null;#H=null;#R=null;#L=null;#G=null;#S=xt.NONE;#C=new Set;#N=null;#O=null;#j=null;#X=null;#z=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#K=[0,0];#I=null;#V=null;#Z=null;#$=null;#k=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=bn.prototype,e=l=>l.#V.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),A=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:h}=c;return h!=="text"&&h!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Et(this,"_keyboardManager",new qr([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:A}],[["ctrl+z","mac+meta+z"],t.undo,{checker:A}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:A}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:A}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#V.contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#V.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}constructor(t,e,A,i,a,l,c,h,d,f,m,w,v,b,y,x){const E=this._signal=this.#t.signal;this.#V=t,this.#Z=e,this.#$=A,this.#i=i,this.#o=a,this.#O=l,this.#z=h,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:E}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),c._on("setpreference",this.onSetPreference.bind(this),{signal:E}),c._on("switchannotationeditorparams",U=>this.updateParams(U.type,U.value),{signal:E}),window.addEventListener("pointerdown",()=>{this.#F=!0},{capture:!0,signal:E}),window.addEventListener("pointerup",()=>{this.#F=!1},{capture:!0,signal:E}),this.#at(),this.#ht(),this.#et(),this.#n=h.annotationStorage,this.#x=h.filterFactory,this.#j=d,this.#Q=f||null,this.#m=m,this.#w=w,this.#B=v,this.#G=b||null,this.viewParameters={realScale:ua.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=x!==!1,a?.setSidebarUiManager(this)}destroy(){this.#k?.resolve(),this.#k=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#a.values())t.destroy();this.#a.clear(),this.#A.clear(),this.#f.clear(),this.#L?.clear(),this.#e=null,this.#C.clear(),this.#l.destroy(),this.#i?.destroy(),this.#o?.destroy(),this.#O?.destroy(),this.#E?.hide(),this.#E=null,this.#R?.destroy(),this.#R=null,this.#s=null,this.#b&&(clearTimeout(this.#b),this.#b=null),this.#I&&(clearTimeout(this.#I),this.#I=null),this._editorUndoBar?.destroy(),this.#z=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#G}get useNewAltTextFlow(){return this.#w}get useNewAltTextWhenAddingImage(){return this.#B}get hcmFilter(){return Et(this,"hcmFilter",this.#j?this.#x.addHCMFilter(this.#j.foreground,this.#j.background):"none")}get direction(){return Et(this,"direction",getComputedStyle(this.#V).direction)}get _highlightColors(){return Et(this,"_highlightColors",this.#Q?new Map(this.#Q.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Et(this,"highlightColors",null);const e=new Map,A=!!this.#j;for(const[i,a]of t){const l=i.endsWith("_HCM");if(A&&l){e.set(i.replace("_HCM",""),a);continue}!A&&!l&&e.set(i,a)}return Et(this,"highlightColors",e)}get highlightColorNames(){return Et(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#u=t}setMainHighlightColorPicker(t){this.#R=t}editAltText(t,e=!1){this.#i?.editAltText(this,t,e)}hasCommentManager(){return!!this.#o}editComment(t,e,A,i){this.#o?.showDialog(this,t,e,A,i)}selectComment(t,e){this.#a.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#o?.updateComment(t.getData())}updatePopupColor(t){this.#o?.updatePopupColor(t)}removeComment(t){this.#o?.removeComments([t.uid])}toggleComment(t,e,A=void 0){this.#o?.toggleCommentPopup(t,e,A)}makeCommentColor(t,e){return t&&this.#o?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#o?.dialogElement||null}async waitForEditorsRendered(t){if(this.#a.has(t-1))return;const{resolve:e,promise:A}=Promise.withResolvers(),i=a=>{a.pageNumber===t&&(this._eventBus._off("editorsrendered",i),e())};this._eventBus.on("editorsrendered",i),await A}getSignature(t){this.#O?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#O}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){t==="enableNewAltTextWhenAddingImage"&&(this.#B=e)}onPageChanging({pageNumber:t}){this.#d=t-1}focusMainContainer(){this.#V.focus()}findParent(t,e){for(const A of this.#a.values()){const{x:i,y:a,width:l,height:c}=A.div.getBoundingClientRect();if(t>=i&&t<=i+l&&e>=a&&e<=a+c)return A}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#f.add(t)}removeShouldRescale(t){this.#f.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*ua.PDF_TO_CSS_UNITS;for(const e of this.#f)e.onScaleChanging();this.#u?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#W({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const A of this.#a.values())if(A.hasTextLayer(t))return A;return null}highlightSelection(t="",e=!1){const A=document.getSelection();if(!A||A.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:l,focusOffset:c}=A,h=A.toString(),f=this.#W(A).closest(".textLayer"),m=this.getSelectionBoxes(f);if(!m)return;A.empty();const w=this.#tt(f),v=this.#S===xt.NONE,b=()=>{const y=w?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:i,anchorOffset:a,focusNode:l,focusOffset:c,text:h});v&&this.showAllEditors("highlight",!0,!0),e&&y?.editComment()};if(v){this.switchToMode(xt.HIGHLIGHT,b);return}b()}commentSelection(t=""){this.highlightSelection(t,!0)}#nt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const A=this.#W(t).closest(".textLayer"),i=this.getSelectionBoxes(A);i&&(this.#E||=new z1(this),this.#E.show(A,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#n)return null;const e=`${Mr}${t}`,A=this.#n.getRawValue(e);return A&&this.#n.remove(e),A}addToAnnotationStorage(t){!t.isEmpty()&&this.#n&&!this.#n.has(t.id)&&this.#n.setValue(t.id,t)}a11yAlert(t,e=null){const A=this.#$;A&&(A.setAttribute("data-l10n-id",t),e?A.setAttribute("data-l10n-args",JSON.stringify(e)):A.removeAttribute("data-l10n-args"))}#it(){const t=document.getSelection();if(!t||t.isCollapsed){this.#N&&(this.#E?.hide(),this.#N=null,this.#_({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#N)return;const i=this.#W(t).closest(".textLayer");if(!i){this.#N&&(this.#E?.hide(),this.#N=null,this.#_({hasSelectedText:!1}));return}if(this.#E?.hide(),this.#N=e,this.#_({hasSelectedText:!0}),!(this.#S!==xt.HIGHLIGHT&&this.#S!==xt.NONE)&&(this.#S===xt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#v=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#S===xt.HIGHLIGHT?this.#tt(i):null;if(a?.toggleDrawing(),this.#F){const l=new AbortController,c=this.combinedSignal(l),h=d=>{d.type==="pointerup"&&d.button!==0||(l.abort(),a?.toggleDrawing(!0),d.type==="pointerup"&&this.#q("main_toolbar"))};window.addEventListener("pointerup",h,{signal:c}),window.addEventListener("blur",h,{signal:c})}else a?.toggleDrawing(!0),this.#q("main_toolbar")}}#q(t=""){this.#S===xt.HIGHLIGHT?this.highlightSelection(t):this.#m&&this.#nt()}#at(){document.addEventListener("selectionchange",this.#it.bind(this),{signal:this._signal})}#rt(){if(this.#y)return;this.#y=new AbortController;const t=this.combinedSignal(this.#y);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ot(){this.#y?.abort(),this.#y=null}blur(){if(this.isShiftKeyDown=!1,this.#v&&(this.#v=!1,this.#q("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#C)if(e.div.contains(t)){this.#H=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#H)return;const[t,e]=this.#H;this.#H=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#D)return;this.#D=new AbortController;const t=this.combinedSignal(this.#D);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#lt(){this.#D?.abort(),this.#D=null}#ct(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#ut(){this.#h?.abort(),this.#h=null}#ht(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.setEditingState(!0)}removeEditListeners(){this.#lt(),this.setEditingState(!1)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const A of this.#c)if(A.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const A of this.#c)if(A.isHandlingMimeForPasting(e.type)){A.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const A of this.#C){const i=A.serialize(!0);i&&e.push(i)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const l of this.#c)if(l.isHandlingMimeForPasting(a.type)){l.paste(a,this.currentLayer);return}let A=e.getData("application/pdfjs");if(!A)return;try{A=JSON.parse(A)}catch(a){bt(`paste: "${a.message}".`);return}if(!Array.isArray(A))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const h of A){const d=await i.deserialize(h);if(!d)return;a.push(d)}const l=()=>{for(const h of a)this.#At(h);this.#st(a)},c=()=>{for(const h of a)h.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(a){bt(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#S!==xt.NONE&&!this.isEditorHandlingKeyboard&&bn._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#v&&(this.#v=!1,this.#q("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#_(t){Object.entries(t).some(([A,i])=>this.#Y[A]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,t)}),this.#S===xt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#P([[Lt.HIGHLIGHT_FREE,!0]]))}#P(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#rt(),this.#ct(),this.#_({isEditing:this.#S!==xt.NONE,isEmpty:this.#J(),hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:this.#l.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ot(),this.#ut(),this.#_({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#c){this.#c=t;for(const e of this.#c)this.#P(e.defaultPropertiesToUpdate)}}getId(){return this.#T.id}get currentLayer(){return this.#a.get(this.#d)}getLayer(t){return this.#a.get(t)}get currentPageIndex(){return this.#d}addLayer(t){this.#a.set(t.pageIndex,t),this.#U?t.enable():t.disable()}removeLayer(t){this.#a.delete(t.pageIndex)}async updateMode(t,e=null,A=!1,i=!1,a=!1){if(this.#S!==t&&!(this.#k&&(await this.#k.promise,!this.#k))){if(this.#k=Promise.withResolvers(),this.#u?.commitOrRemove(),this.#S===xt.POPUP&&this.#o?.hideSidebar(),this.#o?.destroyPopup(),this.#S=t,t===xt.NONE){this.setEditingState(!1),this.#ft();for(const l of this.#A.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#k.resolve();return}for(const l of this.#A.values())l.addStandaloneCommentButton();t===xt.SIGNATURE&&await this.#O?.loadSignatures(),this.setEditingState(!0),await this.#dt(),this.unselectAll();for(const l of this.#a.values())l.updateMode(t);if(t===xt.POPUP){this.#s||=await this.#z.getAnnotationsByType(new Set(this.#c.map(h=>h._editorType)));const l=new Set,c=[];for(const h of this.#A.values()){const{annotationElementId:d,hasComment:f,deleted:m}=h;d&&l.add(d),f&&!m&&c.push(h.getData())}for(const h of this.#s){const{id:d,popupRef:f,contentsObj:m}=h;f&&m?.str&&!l.has(d)&&!this.#p.has(d)&&c.push(h)}this.#o?.showSidebar(c)}if(!e){A&&this.addNewEditorFromKeyboard(),this.#k.resolve();return}for(const l of this.#A.values())l.uid===e?(this.setSelected(l),a?l.editComment():i?l.enterInEditMode():l.focus()):l.unselect();this.#k.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#S&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#c){switch(t){case Lt.CREATE:this.currentLayer.addNewEditor(e);return;case Lt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#X||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const A of this.#C)A.updateParams(t,e);else for(const A of this.#c)A.updateDefaultParams(t,e)}}showAllEditors(t,e,A=!1){for(const a of this.#A.values())a.editorType===t&&a.show(e);(this.#X?.get(Lt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#P([[Lt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#M!==t){this.#M=t;for(const e of this.#a.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#dt(){if(!this.#U){this.#U=!0;const t=[];for(const e of this.#a.values())t.push(e.enable());await Promise.all(t);for(const e of this.#A.values())e.enable()}}#ft(){if(this.unselectAll(),this.#U){this.#U=!1;for(const t of this.#a.values())t.disable();for(const t of this.#A.values())t.disable()}}*getEditors(t){for(const e of this.#A.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#A.get(t)}addEditor(t){this.#A.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.focusMainContainer(),this.#b=null},0)),this.#A.delete(t.id),t.annotationElementId&&this.#L?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#p.has(t.annotationElementId))&&this.#n?.remove(t.id)}addDeletedAnnotationElement(t){this.#p.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#p.has(t)}removeDeletedAnnotationElement(t){this.#p.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#At(t){const e=this.#a.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#P(t.propertiesToUpdate))}get#gt(){let t=null;for(t of this.#C);return t}updateUI(t){this.#gt===t&&this.#P(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#P(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#C.has(t)){this.#C.delete(t),t.unselect(),this.#_({hasSelectedEditor:this.hasSelection});return}this.#C.add(t),t.select(),this.#P(t.propertiesToUpdate),this.#_({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.uid}),this.#u?.commitOrRemove();for(const e of this.#C)e!==t&&e.unselect();this.#C.clear(),this.#C.add(t),t.select(),this.#P(t.propertiesToUpdate),this.#_({hasSelectedEditor:!0})}isSelected(t){return this.#C.has(t)}get firstSelectedEditor(){return this.#C.values().next().value}unselect(t){t.unselect(),this.#C.delete(t),this.#_({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#C.size!==0}get isEnterHandled(){return this.#C.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#l.undo(),this.#_({hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#J()}),this._editorUndoBar?.hide()}redo(){this.#l.redo(),this.#_({hasSomethingToUndo:!0,hasSomethingToRedo:this.#l.hasSomethingToRedo(),isEmpty:this.#J()})}addCommands(t){this.#l.add(t),this.#_({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#J()})}cleanUndoStack(t){this.#l.cleanType(t)}#J(){if(this.#A.size===0)return!0;if(this.#A.size===1)for(const t of this.#A.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#C],A=()=>{this._editorUndoBar?.show(i,e.length===1?e[0].editorType:e.length);for(const a of e)a.remove()},i=()=>{for(const a of e)this.#At(a)};this.addCommands({cmd:A,undo:i,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#st(t){for(const e of this.#C)e.unselect();this.#C.clear();for(const e of t)e.isEmpty()||(this.#C.add(e),e.select());this.#_({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#C)t.commit();this.#st(this.#A.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#S!==xt.NONE))&&!this.#u?.commitOrRemove()&&this.hasSelection){for(const t of this.#C)t.unselect();this.#C.clear(),this.#_({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,A=!1){if(A||this.commitOrRemove(),!this.hasSelection)return;this.#K[0]+=t,this.#K[1]+=e;const[i,a]=this.#K,l=[...this.#C],c=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#K[0]=this.#K[1]=0,this.addCommands({cmd:()=>{for(const h of l)this.#A.has(h.id)&&(h.translateInPage(i,a),h.translationDone())},undo:()=>{for(const h of l)this.#A.has(h.id)&&(h.translateInPage(-i,-a),h.translationDone())},mustExec:!1})},c);for(const h of l)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#g=new Map;for(const t of this.#C)this.#g.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#g)return!1;this.disableUserSelect(!1);const t=this.#g;this.#g=null;let e=!1;for(const[{x:i,y:a,pageIndex:l},c]of t)c.newX=i,c.newY=a,c.newPageIndex=l,e||=i!==c.savedX||a!==c.savedY||l!==c.savedPageIndex;if(!e)return!1;const A=(i,a,l,c)=>{if(this.#A.has(i.id)){const h=this.#a.get(c);h?i._setParentAndPosition(h,a,l):(i.pageIndex=c,i.x=a,i.y=l)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:l,newPageIndex:c}]of t)A(i,a,l,c)},undo:()=>{for(const[i,{savedX:a,savedY:l,savedPageIndex:c}]of t)A(i,a,l,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#g)for(const A of this.#g.keys())A.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#C.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#S}isEditingMode(){return this.#S!==xt.NONE}get imageManager(){return Et(this,"imageManager",new Sf)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,f=e.rangeCount;d<f;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:A,y:i,width:a,height:l}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,f,m,w)=>({x:(f-i)/l,y:1-(d+m-A)/a,width:w/l,height:m/a});break;case"180":c=(d,f,m,w)=>({x:1-(d+m-A)/a,y:1-(f+w-i)/l,width:m/a,height:w/l});break;case"270":c=(d,f,m,w)=>({x:1-(f+w-i)/l,y:(d-A)/a,width:w/l,height:m/a});break;default:c=(d,f,m,w)=>({x:(d-A)/a,y:(f-i)/l,width:m/a,height:w/l});break}const h=[];for(let d=0,f=e.rangeCount;d<f;d++){const m=e.getRangeAt(d);if(!m.collapsed)for(const{x:w,y:v,width:b,height:y}of m.getClientRects())b===0||y===0||h.push(c(w,v,b,y))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#r||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#r?.delete(t)}renderAnnotationElement(t){const e=this.#r?.get(t.data.id);if(!e)return;const A=this.#n.getRawValue(e);A&&(this.#S===xt.NONE&&!A.hasBeenModified||A.renderAnnotationElement(t))}setMissingCanvas(t,e,A){const i=this.#L?.get(t);i&&(i.setCanvas(e,A),this.#L.delete(t))}addMissingCanvas(t,e){(this.#L||=new Map).set(t,e)}}class ls{#t=null;#e=!1;#s=null;#A=null;#a=null;#i=null;#n=!1;#r=null;#l=null;#o=null;#h=null;#u=!1;static#d=null;static _l10n=null;constructor(t){this.#l=t,this.#u=t._uiManager.useNewAltTextFlow,ls.#d||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){ls._l10n??=t}async render(){const t=this.#s=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#A=document.createElement("span");t.append(e),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",ls.#d.missing),e.setAttribute("data-l10n-id",ls.#d["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const A=this.#l._uiManager._signal;t.addEventListener("contextmenu",VA,{signal:A}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:A});const i=a=>{a.preventDefault(),this.#l._uiManager.editAltText(this.#l),this.#u&&this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return t.addEventListener("click",i,{capture:!0,signal:A}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(this.#n=!0,i(a))},{signal:A}),await this.#g(),t}get#p(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#s&&(this.#s.focus({focusVisible:this.#n}),this.#n=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#o:this.isEmpty()}get guessedText(){return this.#o}async setGuessedText(t){this.#t===null&&(this.#o=t,this.#h=await ls._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#g())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#r?.remove(),this.#r=null;return}if(!this.#r){const e=this.#r=document.createElement("div");e.className="noAltTextBadge",this.#l.div.append(e)}this.#r.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#o===e&&(e=this.#h),{altText:e,decorative:this.#e,guessedText:this.#o,textWithDisclaimer:this.#h}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:A,textWithDisclaimer:i,cancel:a=!1}){A&&(this.#o=A,this.#h=i),!(this.#t===t&&this.#e===e)&&(a||(this.#t=t,this.#e=e),this.#g())}toggle(t=!1){this.#s&&(!t&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#s.disabled=!t)}shown(){this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#s?.remove(),this.#s=null,this.#A=null,this.#a=null,this.#r?.remove(),this.#r=null}async#g(){const t=this.#s;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",ls.#d[this.#p]),this.#A?.setAttribute("data-l10n-id",ls.#d[`${this.#p}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#l.id}`;const i=100,a=this.#l._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#i),this.#i=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#a.classList.add("show"),this.#l._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:a}),t.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#a?.classList.remove("show")},{signal:a})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#l.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Bl{#t=null;#e=null;#s=!1;#A=null;#a=null;#i=null;#n=null;#r=null;#l=!1;#o=null;constructor(t){this.#A=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#h(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#A.commentButtonPosition;if(e){const{style:A}=t;A.insetInlineEnd=`calc(${100*(this.#A._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,A.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const i=this.#A.commentButtonColor;i&&(A.backgroundColor=i)}return this.#h(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#A.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#A._uiManager.updatePopupColor(this.#A)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#A.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#o)return this.#o;if(!this.#t)return null;const{x:t,y:e,height:A}=this.#t.getBoundingClientRect(),{x:i,y:a,width:l,height:c}=this.#A.parent.boundingClientRect;return[(t-i)/l,(e+A-a)/c]}set commentPopupPositionInLayer(t){this.#o=t}hasDefaultPopupPosition(){return this.#o===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#h(t,e){if(!this.#A._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#A._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const A=this.#A._uiManager._signal;if(!(A instanceof AbortSignal)||A.aborted)return t;t.addEventListener("contextmenu",VA,{signal:A}),e&&(t.addEventListener("focusin",a=>{this.#A._focusEventsAllowed=!1,de(a)},{capture:!0,signal:A}),t.addEventListener("focusout",a=>{this.#A._focusEventsAllowed=!0,de(a)},{capture:!0,signal:A})),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:A});const i=a=>{a.preventDefault(),t===this.#e?this.edit():this.#A.toggleComment(!0)};return t.addEventListener("click",i,{capture:!0,signal:A}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(this.#s=!0,i(a))},{signal:A}),t.addEventListener("pointerenter",()=>{this.#A.toggleComment(!1,!0)},{signal:A}),t.addEventListener("pointerleave",()=>{this.#A.toggleComment(!1,!1)},{signal:A}),t}edit(t){const e=this.commentPopupPositionInLayer;let A,i;if(e)[A,i]=e;else{[A,i]=this.#A.commentButtonPosition;const{width:f,height:m,x:w,y:v}=this.#A;A=w+A*f,i=v+i*m}const a=this.#A.parent.boundingClientRect,{x:l,y:c,width:h,height:d}=a;this.#A._uiManager.editComment(this.#A,l+A*h,c+i*d,{...t,parentDimensions:a})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#s}),this.#s=!1)}isDeleted(){return this.#l||this.#n===""}isEmpty(){return this.#n===null}hasBeenEdited(){return this.isDeleted()||this.#n!==this.#a}serialize(){return this.data}get data(){return{text:this.#n,richText:this.#i,date:this.#r,deleted:this.isDeleted()}}set data(t){if(t!==this.#n&&(this.#i=null),t===null){this.#n="",this.#l=!0;return}this.#n=t,this.#r=new Date,this.#l=!1}setInitialText(t,e=null){this.#a=t,this.data=t,this.#r=null,this.#i=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#n="",this.#i=null,this.#r=null,this.#A=null,this.#s=!1,this.#l=!1}}class bc{#t;#e=!1;#s=null;#A;#a;#i;#n;#r=null;#l;#o=null;#h;#u=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:A=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:l=null,signal:c}){this.#t=t,this.#s=A,this.#A=e,this.#a=i,this.#i=a,this.#n=l,this.#h=new AbortController,this.#l=AbortSignal.any([c,this.#h.signal]),t.addEventListener("touchstart",this.#d.bind(this),{passive:!1,signal:this.#l})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/cs.pixelRatio}#d(t){if(this.#A?.())return;if(t.touches.length===1){if(this.#r)return;const i=this.#r=new AbortController,a=AbortSignal.any([this.#l,i.signal]),l=this.#t,c={capture:!0,signal:a,passive:!1},h=d=>{d.pointerType==="touch"&&(this.#r?.abort(),this.#r=null)};l.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(de(d),h(d))},c),l.addEventListener("pointerup",h,c),l.addEventListener("pointercancel",h,c);return}if(!this.#u){this.#u=new AbortController;const i=AbortSignal.any([this.#l,this.#u.signal]),a=this.#t,l={signal:i,capture:!1,passive:!1};a.addEventListener("touchmove",this.#p.bind(this),l);const c=this.#g.bind(this);a.addEventListener("touchend",c,l),a.addEventListener("touchcancel",c,l),l.capture=!0,a.addEventListener("pointerdown",de,l),a.addEventListener("pointermove",de,l),a.addEventListener("pointercancel",de,l),a.addEventListener("pointerup",de,l),this.#a?.()}if(de(t),t.touches.length!==2||this.#s?.()){this.#o=null;return}let[e,A]=t.touches;e.identifier>A.identifier&&([e,A]=[A,e]),this.#o={touch0X:e.screenX,touch0Y:e.screenY,touch1X:A.screenX,touch1Y:A.screenY}}#p(t){if(!this.#o||t.touches.length!==2)return;de(t);let[e,A]=t.touches;e.identifier>A.identifier&&([e,A]=[A,e]);const{screenX:i,screenY:a}=e,{screenX:l,screenY:c}=A,h=this.#o,{touch0X:d,touch0Y:f,touch1X:m,touch1Y:w}=h,v=m-d,b=w-f,y=l-i,x=c-a,E=Math.hypot(y,x)||1,U=Math.hypot(v,b)||1;if(!this.#e&&Math.abs(U-E)<=bc.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=i,h.touch0Y=a,h.touch1X=l,h.touch1Y=c,!this.#e){this.#e=!0;return}const S=[(i+l)/2,(a+c)/2];this.#i?.(S,U,E)}#g(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#n?.()),this.#o&&(de(t),this.#o=null,this.#e=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#r?.abort(),this.#r=null}}class Bt{#t=null;#e=null;#s=null;#A=null;#a=null;#i=!1;#n=null;#r="";#l=null;#o=null;#h=null;#u=null;#d=null;#p="";#g=!1;#c=null;#f=!1;#m=!1;#w=!1;#B=null;#x=0;#b=0;#y=null;#Q=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#v=!1;#E=Bt._zIndex++;static _borderLineWidth=-1;static _colorManager=new Qf;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=Bt.prototype._resizeWithKeyboard,e=bn.TRANSLATE_SMALL,A=bn.TRANSLATE_BIG;return Et(this,"_resizerKeyboardManager",new qr([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-A,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[A,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-A]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,A]}],[["Escape","mac+Escape"],Bt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null,this.canAddComment=!0;const{rotation:e,rawDims:{pageWidth:A,pageHeight:i,pageX:a,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[A,i],this.pageTranslation=[a,l];const[c,h]=this.parentDimensions;this.x=t.x/c,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Et(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new q1({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Bt._l10n??=t,Bt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Bt._borderLineWidth!==-1)return;const A=getComputedStyle(document.documentElement);Bt._borderLineWidth=parseFloat(A.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){$t("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#v}set _isDraggable(t){this.#v=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#E}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#I(),this.#u?.remove(),this.#u=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#g?this.#g=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,A,i){const[a,l]=this.parentDimensions;[A,i]=this.screenToPageTranslation(A,i),this.x=(t+A)/a,this.y=(e+i)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[A,i]=this.parentDimensions;this.setAt(t*A,e*i,this.width*A,this.height*i),this._onTranslated()}#T([t,e],A,i){[A,i]=this.screenToPageTranslation(A,i),this.x+=A/t,this.y+=i/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#T(this.parentDimensions,t,e)}translateInPage(t,e){this.#c||=[this.x,this.y,this.width,this.height],this.#T(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#c||=[this.x,this.y,this.width,this.height];const{div:A,parentDimensions:[i,a]}=this;if(this.x+=t/i,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:w}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,w)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,d]=this.getBaseTranslation();l+=h,c+=d;const{style:f}=A;f.left=`${(100*l).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),A.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#c&&(this.#c[0]!==this.x||this.#c[1]!==this.y)}get _hasBeenResized(){return!!this.#c&&(this.#c[2]!==this.width||this.#c[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:A}=Bt,i=A/t,a=A/e;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[A,i]}=this;let{x:a,y:l,width:c,height:h}=this;if(c*=A,h*=i,a*=A,l*=i,this._mustFixPosition)switch(t){case 0:a=tA(a,0,A-c),l=tA(l,0,i-h);break;case 90:a=tA(a,0,A-h),l=tA(l,c,i);break;case 180:a=tA(a,c,A),l=tA(l,h,i);break;case 270:a=tA(a,h,A),l=tA(l,0,i-c);break}this.x=a/=A,this.y=l/=i;const[d,f]=this.getBaseTranslation();a+=d,l+=f,e.left=`${(100*a).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#U(t,e,A){switch(A){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return Bt.#U(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Bt.#U(t,e,360-this.parentRotation)}#F(t){switch(t){case 90:{const[e,A]=this.pageDimensions;return[0,-e/A,A/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,A]=this.pageDimensions;return[0,e/A,-A/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,A]}=this;return[e*t,A*t]}setDims(){const{div:{style:t},width:e,height:A}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*A).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#M(){if(this.#l)return;this.#l=document.createElement("div"),this.#l.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const A of t){const i=document.createElement("div");this.#l.append(i),i.classList.add("resizer",A),i.setAttribute("data-resizer-name",A),i.addEventListener("pointerdown",this.#D.bind(this,A),{signal:e}),i.addEventListener("contextmenu",VA,{signal:e}),i.tabIndex=-1}this.div.prepend(this.#l)}#D(t,e){e.preventDefault();const{isMac:A}=Ge.platform;if(e.button!==0||e.ctrlKey&&A)return;this.#s?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#o=[e.screenX,e.screenY];const a=new AbortController,l=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#L.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",de,{passive:!1,signal:l}),window.addEventListener("contextmenu",VA,{signal:l}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const d=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#s?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=c,this.div.style.cursor=h,this.#R()};window.addEventListener("pointerup",d,{signal:l}),window.addEventListener("blur",d,{signal:l})}#H(t,e,A,i){this.width=A,this.height=i,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#R(){if(!this.#h)return;const{savedX:t,savedY:e,savedWidth:A,savedHeight:i}=this.#h;this.#h=null;const a=this.x,l=this.y,c=this.width,h=this.height;a===t&&l===e&&c===A&&h===i||this.addCommands({cmd:this.#H.bind(this,a,l,c,h),undo:this.#H.bind(this,t,e,A,i),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#L(t,e){const[A,i]=this.parentDimensions,a=this.x,l=this.y,c=this.width,h=this.height,d=Bt.MIN_SIZE/A,f=Bt.MIN_SIZE/i,m=this.#F(this.rotation),w=(N,M)=>[m[0]*N+m[2]*M,m[1]*N+m[3]*M],v=this.#F(360-this.rotation),b=(N,M)=>[v[0]*N+v[2]*M,v[1]*N+v[3]*M];let y,x,E=!1,U=!1;switch(t){case"topLeft":E=!0,y=(N,M)=>[0,0],x=(N,M)=>[N,M];break;case"topMiddle":y=(N,M)=>[N/2,0],x=(N,M)=>[N/2,M];break;case"topRight":E=!0,y=(N,M)=>[N,0],x=(N,M)=>[0,M];break;case"middleRight":U=!0,y=(N,M)=>[N,M/2],x=(N,M)=>[0,M/2];break;case"bottomRight":E=!0,y=(N,M)=>[N,M],x=(N,M)=>[0,0];break;case"bottomMiddle":y=(N,M)=>[N/2,M],x=(N,M)=>[N/2,0];break;case"bottomLeft":E=!0,y=(N,M)=>[0,M],x=(N,M)=>[N,0];break;case"middleLeft":U=!0,y=(N,M)=>[0,M/2],x=(N,M)=>[N,M/2];break}const S=y(c,h),T=x(c,h);let _=w(...T);const D=Bt._round(a+_[0]),F=Bt._round(l+_[1]);let O=1,K=1,it,G;if(e.fromKeyboard)({deltaX:it,deltaY:G}=e);else{const{screenX:N,screenY:M}=e,[R,z]=this.#o;[it,G]=this.screenToPageTranslation(N-R,M-z),this.#o[0]=N,this.#o[1]=M}if([it,G]=b(it/A,G/i),E){const N=Math.hypot(c,h);O=K=Math.max(Math.min(Math.hypot(T[0]-S[0]-it,T[1]-S[1]-G)/N,1/c,1/h),d/c,f/h)}else U?O=tA(Math.abs(T[0]-S[0]-it),d,1)/c:K=tA(Math.abs(T[1]-S[1]-G),f,1)/h;const q=Bt._round(c*O),$=Bt._round(h*K);_=w(...x(q,$));const at=D-_[0],rt=F-_[1];this.#c||=[this.x,this.y,this.width,this.height],this.width=q,this.height=$,this.x=at,this.y=rt,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#s?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#m)return this._editToolbar;this._editToolbar=new _r(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,A]of t)await this._editToolbar.addButton(e,A);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#s?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#s||(ls.initialize(Bt._l10n),this.#s=new ls(this),this.#t&&(this.#s.data=this.#t,this.#t=null)),this.#s}get altTextData(){return this.#s?.data}set altTextData(t){this.#s&&(this.#s.data=t)}get guessedAltText(){return this.#s?.guessedText}async setGuessedAltText(t){await this.#s?.setGuessedText(t)}serializeAltText(t){return this.#s?.serialize(t)}hasAltText(){return!!this.#s&&!this.#s.isEmpty()}hasAltTextData(){return this.#s?.hasData()??!1}focusCommentButton(){this.#A?.focusButton()}addCommentButton(){return this.canAddComment?this.#A||=new Bl(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#A.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#A.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:A,deleted:i}}=this.#A;return{text:e,richText:t,date:A,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#A||=new Bl(this),this.#A.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:A}){if(!e||(this.#A||=new Bl(this),this.#A.setInitialText(t,A),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#A?.hasBeenEdited()}get hasDeletedComment(){return this.#A?.isDeleted()}get hasComment(){return!!this.#A&&!this.#A.isEmpty()&&!this.#A.isDeleted()}async editComment(t){this.#A||=new Bl(this),this.#A.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#A.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,i]=t.rect,[a]=this.pageDimensions,[l]=this.pageTranslation,c=l+a+1,h=i-100,d=c+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,h,d,i]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#A.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#j();const[e,A]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*A/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/A).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),$w(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#Q||=new bc({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#G.bind(this),onPinching:this.#S.bind(this),onPinchEnd:this.#C.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#G(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#s?.toggle(!1),this.parent.togglePointerEvents(!1)}#S(t,e,A){let a=.7*(A/e)+1-.7;if(a===1)return;const l=this.#F(this.rotation),c=(D,F)=>[l[0]*D+l[2]*F,l[1]*D+l[3]*F],[h,d]=this.parentDimensions,f=this.x,m=this.y,w=this.width,v=this.height,b=Bt.MIN_SIZE/h,y=Bt.MIN_SIZE/d;a=Math.max(Math.min(a,1/w,1/v),b/w,y/v);const x=Bt._round(w*a),E=Bt._round(v*a);if(x===w&&E===v)return;this.#c||=[f,m,w,v];const U=c(w/2,v/2),S=Bt._round(f+U[0]),T=Bt._round(m+U[1]),_=c(x/2,E/2);this.x=S-_[0],this.y=T-_[1],this.width=x,this.height=E,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#C(){this.#s?.toggle(!0),this.parent.togglePointerEvents(!0),this.#R()}pointerdown(t){const{isMac:e}=Ge.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#g=!0,this._isDraggable){this.#O(t);return}this.#N(t)}#N(t){const{isMac:e}=Ge.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#O(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let A=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),l={capture:!0,passive:!1,signal:a},c=d=>{i.abort(),this.#n=null,this.#g=!1,this._uiManager.endDragSession()||this.#N(d),A&&this._onStopDragging()};e&&(this.#x=t.clientX,this.#b=t.clientY,this.#n=t.pointerId,this.#r=t.pointerType,window.addEventListener("pointermove",d=>{A||(A=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:m,pointerId:w}=d;if(w!==this.#n){de(d);return}const[v,b]=this.screenToPageTranslation(f-this.#x,m-this.#b);this.#x=f,this.#b=m,this._uiManager.dragSelectedEditors(v,b)},l),window.addEventListener("touchmove",de,l),window.addEventListener("pointerdown",d=>{d.pointerType===this.#r&&(this.#Q||d.isPrimary)&&c(d),de(d)},l));const h=d=>{if(!this.#n||this.#n===d.pointerId){c(d);return}de(d)};window.addEventListener("pointerup",h,{signal:a}),window.addEventListener("blur",h,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#B&&clearTimeout(this.#B),this.#B=setTimeout(()=>{this.#B=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,A){t.changeParent(this),this.x=e,this.y=A,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,A=this.rotation){const i=this.parentScale,[a,l]=this.pageDimensions,[c,h]=this.pageTranslation,d=t/i,f=e/i,m=this.x*a,w=this.y*l,v=this.width*a,b=this.height*l;switch(A){case 0:return[m+d+c,l-w-f-b+h,m+d+v+c,l-w-f+h];case 90:return[m+f+c,l-w+d+h,m+f+b+c,l-w+d+v+h];case 180:return[m-d-v+c,l-w+f+h,m-d+c,l-w+f+b+h];case 270:return[m-f-b+c,l-w-d-v+h,m-f+c,l-w-d+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[A,i,a,l]=t,c=a-A,h=l-i;switch(this.rotation){case 0:return[A,e-l,c,h];case 90:return[A,e-i,h,c];case 180:return[a,e-i,c,h];case 270:return[a,e-l,h,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Bt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#A?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:A,opacity:i,deleted:a,richText:l},uid:c,pageIndex:h,creationDate:d,modificationDate:f}=this;return{id:c,pageIndex:h,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:d,modificationDate:A||f,popupRef:!a,color:e,opacity:i}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#m=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#m=!1,!0):!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#w}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:A,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:l}=window;return e<l&&i>0&&t<a&&A>0}#j(){if(this.#d||!this.div)return;this.#d=new AbortController;const t=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#j()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,A){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:A,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});i.rotation=t.rotation,i.#t=t.accessibilityData,i._isCopy=t.isCopy||!1;const[a,l]=i.pageDimensions,[c,h,d,f]=i.getRectInCurrentCoords(t.rect,l);return i.x=c/a,i.y=h/l,i.width=d/a,i.height=f/l,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#B&&(clearTimeout(this.#B),this.#B=null),this.#I(),this.removeEditToolbar(),this.#y){for(const t of this.#y.values())clearTimeout(t);this.#y=null}this.parent=null,this.#Q?.destroy(),this.#Q=null,this.#u?.remove(),this.#u=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#M(),this.#l.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[A,i,a,l]=this.getPDFRect();return[Bt._round(A+(a-A)*t),Bt._round(i+(l-i)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#A.commentPopupPositionInLayer}set commentPopupPosition(t){this.#A.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#A.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#A.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#A?.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#l.children;if(!this.#e){this.#e=Array.from(e);const l=this.#X.bind(this),c=this.#z.bind(this),h=this._uiManager._signal;for(const d of this.#e){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",l,{signal:h}),d.addEventListener("blur",c,{signal:h}),d.addEventListener("focus",this.#Y.bind(this,f),{signal:h}),d.setAttribute("data-l10n-id",Bt._l10nResizer[f])}}const A=this.#e[0];let i=0;for(const l of e){if(l===A)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(a!==i){if(a<i)for(let c=0;c<i-a;c++)this.#l.append(this.#l.firstElementChild);else if(a>i)for(let c=0;c<a-i;c++)this.#l.firstElementChild.before(this.#l.lastElementChild);let l=0;for(const c of e){const d=this.#e[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Bt._l10nResizer[d])}}this.#K(0),this.#w=!0,this.#l.firstElementChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#X(t){Bt._resizerKeyboardManager.exec(this,t)}#z(t){this.#w&&t.relatedTarget?.parentNode!==this.#l&&this.#I()}#Y(t){this.#p=this.#w?t:""}#K(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#w&&this.#L(this.#p,{deltaX:t,deltaY:e,fromKeyboard:!0})}#I(){this.#w=!1,this.#K(-1),this.#R()}_stopResizingWithKeyboard(){this.#I(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#s?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#l?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#s?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(t){this.#f=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#y||=new Map;const{action:A}=t;let i=this.#y.get(A);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(t),this.#y.delete(A),this.#y.size===0&&(this.#y=null)},Bt._telemetryTimeout),this.#y.set(A,i);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}updateFakeAnnotationElement(t){if(!this.#u&&!this.deleted){this.#u=t.addFakeAnnotation(this);return}if(this.deleted){this.#u.remove(),this.#u=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#u.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const A=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),A.before(e)}return e}resetAnnotationElement(t){const{firstElementChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class q1 extends Bt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const f0=3285377520,RA=4294901760,as=65535;class tv{constructor(t){this.h1=t?t&4294967295:f0,this.h2=t?t&4294967295:f0}update(t){let e,A;if(typeof t=="string"){e=new Uint8Array(t.length*2),A=0;for(let y=0,x=t.length;y<x;y++){const E=t.charCodeAt(y);E<=255?e[A++]=E:(e[A++]=E>>>8,e[A++]=E&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),A=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=A>>2,a=A-i*4,l=new Uint32Array(e.buffer,0,i);let c=0,h=0,d=this.h1,f=this.h2;const m=3432918353,w=461845907,v=m&as,b=w&as;for(let y=0;y<i;y++)y&1?(c=l[y],c=c*m&RA|c*v&as,c=c<<15|c>>>17,c=c*w&RA|c*b&as,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(h=l[y],h=h*m&RA|h*v&as,h=h<<15|h>>>17,h=h*w&RA|h*b&as,f^=h,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,a){case 3:c^=e[i*4+2]<<16;case 2:c^=e[i*4+1]<<8;case 1:c^=e[i*4],c=c*m&RA|c*v&as,c=c<<15|c>>>17,c=c*w&RA|c*b&as,i&1?d^=c:f^=c}this.h1=d,this.h2=f}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&RA|t*36045&as,e=e*4283543511&RA|((e<<16|t>>>16)*2950163797&RA)>>>16,t^=e>>>1,t=t*444984403&RA|t*60499&as,e=e*3301882366&RA|((e<<16|t>>>16)*3120437893&RA)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Kd=Object.freeze({map:null,hash:"",transfer:void 0});class Uf{#t=!1;#e=null;#s=null;#A=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const A=this.#A.get(t);return A===void 0?e:Object.assign(e,A)}getRawValue(t){return this.#A.get(t)}remove(t){const e=this.#A.get(t);if(e!==void 0&&(e instanceof Bt&&this.#s.delete(e.annotationElementId),this.#A.delete(t),this.#A.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const A of this.#A.values())if(A instanceof Bt)return;this.onAnnotationEditor(null)}}setValue(t,e){const A=this.#A.get(t);let i=!1;if(A!==void 0)for(const[a,l]of Object.entries(e))A[a]!==l&&(i=!0,A[a]=l);else i=!0,this.#A.set(t,e);i&&this.#a(),e instanceof Bt&&((this.#s||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#A.has(t)}get size(){return this.#A.size}#a(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ev(this)}get serializable(){if(this.#A.size===0)return Kd;const t=new Map,e=new tv,A=[],i=Object.create(null);let a=!1;for(const[l,c]of this.#A){const h=c instanceof Bt?c.serialize(!1,i):c;h&&(t.set(l,h),e.update(`${l}:${JSON.stringify(h)}`),a||=!!h.bitmap)}if(a)for(const l of t.values())l.bitmap&&A.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:A}:Kd}get editorStats(){let t=null;const e=new Map;let A=0,i=0;for(const a of this.#A.values()){if(!(a instanceof Bt)){a.popup&&(a.popup.deleted?i+=1:A+=1);continue}a.isCommentDeleted?i+=1:a.hasEditedComment&&(A+=1);const l=a.telemetryFinalData;if(!l)continue;const{type:c}=l;e.has(c)||e.set(c,Object.getPrototypeOf(a).constructor),t||=Object.create(null);const h=t[c]||=new Map;for(const[d,f]of Object.entries(l)){if(d==="type")continue;let m=h.get(d);m||(m=new Map,h.set(d,m));const w=m.get(f)??0;m.set(f,w+1)}}if((i>0||A>0)&&(t||=Object.create(null),t.comments={deleted:i,edited:A}),!t)return null;for(const[a,l]of e)t[a]=l.computeTelemetryFinalData(t[a]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const A=this.#s?.get(t);return A?(A.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#s?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#s)for(const e of this.#s.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#A.entries()}}class ev extends Uf{#t;constructor(t){super();const{map:e,hash:A,transfer:i}=t.serializable,a=structuredClone(e,i?{transfer:i}:null);this.#t={map:a,hash:A,transfer:i}}get print(){$t("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Et(this,"modifiedIds",{ids:new Set,hash:""})}}class J1{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:A}){if(!(!t||this.#t.has(t.loadedName))){if(It(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:l}=t,c=new FontFace(i,a,l);this.addNativeFontFace(c);try{await c.load(),this.#t.add(i),A?.(t)}catch{bt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}$t("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const A=t.createNativeFontFace();if(A){this.addNativeFontFace(A);try{await A.loaded}catch(i){throw bt(`Failed to load font '${A.family}': '${i}'.`),t.disableFontFace=!0,i}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(A=>{const i=this._queueLoadingCallback(A);this._prepareFontLoadEvent(t,i)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Et(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Et(this,"isSyncFontLoadingSupported",$e||Ge.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(It(!i.done,"completeRequest() cannot be called twice."),i.done=!0;A.length>0&&A[0].done;){const a=A.shift();setTimeout(a.callback,0)}}const{loadingRequests:A}=this,i={done:!1,complete:e,callback:t};return A.push(i),i}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Et(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function A(T,_){return T.charCodeAt(_)<<24|T.charCodeAt(_+1)<<16|T.charCodeAt(_+2)<<8|T.charCodeAt(_+3)&255}function i(T,_,D,F){const O=T.substring(0,_),K=T.substring(_+D);return O+F+K}let a,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const h=c.getContext("2d");let d=0;function f(T,_){if(++d>30){bt("Load test font never loaded."),_();return}if(h.font="30px "+T,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(f.bind(null,T,_))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let w=this._loadTestFont;w=i(w,976,m.length,m);const b=16,y=1482184792;let x=A(w,b);for(a=0,l=m.length-3;a<l;a+=4)x=x-y+A(m,a)|0;a<m.length&&(x=x-y+A(m+"XXX",a)|0),w=i(w,b,4,T1(x));const E=`url(data:font/opentype;base64,${btoa(w)});`,U=`@font-face {font-family:"${m}";src:${E}}`;this.insertRule(U);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const T of[t.loadedName,m]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=T,S.append(_)}this._document.body.append(S),f(m,()=>{S.remove(),e.complete()})}}class W1{#t;constructor(t,e=null,A,i){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,A&&Object.assign(this,A),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${qw(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let A=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(A+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${A}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const A=this.loadedName+"_path_"+e;let i;try{i=t.get(A)}catch(l){bt(`getPathGenerator - ignoring character: "${l}".`)}const a=Zw(i);return this.fontExtraProperties||t.delete(A),this.compiledGlyphs[e]=a}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}set disableFontFace(t){Et(this,"disableFontFace",!!t)}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}set bbox(t){Et(this,"bbox",t)}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}class ia{#t;#e;#s;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,A={};let i=0;for(const d of ia.strings){const f=e.encode(t[d]);A[d]=f,i+=4+f.length}const a=new ArrayBuffer(i),l=new Uint8Array(a),c=new DataView(a);let h=0;for(const d of ia.strings){const f=A[d],m=f.length;c.setUint32(h,m),l.set(f,h+4),h+=4+m}return It(h===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#s=new TextDecoder}#A(t){It(t<ia.strings.length,"Invalid string index");let e=0;for(let i=0;i<t;i++)e+=this.#e.getUint32(e)+4;const A=this.#e.getUint32(e);return this.#s.decode(new Uint8Array(this.#t,e+4,A))}get fontFamily(){return this.#A(0)}get fontWeight(){return this.#A(1)}get italicAngle(){return this.#A(2)}}class aa{#t;#e;#s;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,A={};let i=0;for(const w of aa.strings){const v=e.encode(t[w]);A[w]=v,i+=4+v.length}i+=4;let a,l,c=1+i;t.style&&(a=e.encode(t.style.style),l=e.encode(t.style.weight),c+=4+a.length+4+l.length);const h=new ArrayBuffer(c),d=new Uint8Array(h),f=new DataView(h);let m=0;f.setUint8(m++,t.guessFallback?1:0),f.setUint32(m,0),m+=4,i=0;for(const w of aa.strings){const v=A[w],b=v.length;i+=4+b,f.setUint32(m,b),d.set(v,m+4),m+=4+b}return f.setUint32(m-i-4,i),t.style&&(f.setUint32(m,a.length),d.set(a,m+4),m+=4+a.length,f.setUint32(m,l.length),d.set(l,m+4),m+=4+l.length),It(m<=h.byteLength,"SubstitionInfo.write: Buffer overflow"),h.transferToFixedLength(m)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#s=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#A(t){It(t<aa.strings.length,"Invalid string index");let e=5;for(let i=0;i<t;i++)e+=this.#e.getUint32(e)+4;const A=this.#e.getUint32(e);return this.#s.decode(new Uint8Array(this.#t,e+4,A))}get css(){return this.#A(0)}get loadedName(){return this.#A(1)}get baseFontName(){return this.#A(2)}get src(){return this.#A(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),A=this.#s.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const i=this.#e.getUint32(t),a=this.#s.decode(new Uint8Array(this.#t,t+4,i));return{style:A,weight:a}}}class qt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#s=this.#e+1+8;static#A=this.#s+1+48;static#a=this.#A+1+6;#i;#n;#r;constructor({data:t,extra:e}){this.#i=t,this.#n=new TextDecoder,this.#r=new DataView(this.#i),e&&Object.assign(this,e)}#l(t){It(t<qt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),A=t*2%8,i=this.#r.getUint8(e)>>A&3;return i===0?void 0:i===2}get black(){return this.#l(0)}get bold(){return this.#l(1)}get disableFontFace(){return this.#l(2)}get fontExtraProperties(){return this.#l(3)}get isInvalidPDFjsFont(){return this.#l(4)}get isType3Font(){return this.#l(5)}get italic(){return this.#l(6)}get missingFile(){return this.#l(7)}get remeasure(){return this.#l(8)}get vertical(){return this.#l(9)}#o(t){return It(t<qt.numbers.length,"Invalid number index"),this.#r.getFloat64(qt.#t+t*8)}get ascent(){return this.#o(0)}get defaultWidth(){return this.#o(1)}get descent(){return this.#o(2)}get bbox(){let t=qt.#e;if(this.#r.getUint8(t)===0)return;t+=1;const A=[];for(let i=0;i<4;i++)A.push(this.#r.getInt16(t,!0)),t+=2;return A}get fontMatrix(){let t=qt.#s;if(this.#r.getUint8(t)===0)return;t+=1;const A=[];for(let i=0;i<6;i++)A.push(this.#r.getFloat64(t,!0)),t+=8;return A}get defaultVMetrics(){let t=qt.#A;if(this.#r.getUint8(t)===0)return;t+=1;const A=[];for(let i=0;i<3;i++)A.push(this.#r.getInt16(t,!0)),t+=2;return A}#h(t){It(t<qt.strings.length,"Invalid string index");let e=qt.#a+4;for(let a=0;a<t;a++)e+=this.#r.getUint32(e)+4;const A=this.#r.getUint32(e),i=new Uint8Array(A);return i.set(new Uint8Array(this.#i,e+4,A)),this.#n.decode(i)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let t=qt.#a;const e=this.#r.getUint32(t);t+=4+e;const A=this.#r.getUint32(t);t+=4+A;const i=this.#r.getUint32(t);t+=4+i;const a=this.#r.getUint32(t);if(a!==0)return new Uint8Array(this.#i,t+4,a)}clearData(){let t=qt.#a;const e=this.#r.getUint32(t);t+=4+e;const A=this.#r.getUint32(t);t+=4+A;const i=this.#r.getUint32(t);t+=4+i;const a=this.#r.getUint32(t);new Uint8Array(this.#i,t+4,a).fill(0),this.#r.setUint32(t,0)}get cssFontInfo(){let t=qt.#a;const e=this.#r.getUint32(t);t+=4+e;const A=this.#r.getUint32(t);t+=4+A;const i=this.#r.getUint32(t);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(this.#i,t+4,i)),new ia(a.buffer)}get systemFontInfo(){let t=qt.#a;const e=this.#r.getUint32(t);t+=4+e;const A=this.#r.getUint32(t);if(A===0)return null;const i=new Uint8Array(A);return i.set(new Uint8Array(this.#i,t+4,A)),new aa(i.buffer)}static write(t){const e=t.systemFontInfo?aa.write(t.systemFontInfo):null,A=t.cssFontInfo?ia.write(t.cssFontInfo):null,i=new TextEncoder,a={};let l=0;for(const y of qt.strings)a[y]=i.encode(t[y]),l+=4+a[y].length;const c=qt.#a+4+l+4+(e?e.byteLength:0)+4+(A?A.byteLength:0)+4+(t.data?t.data.length:0),h=new ArrayBuffer(c),d=new Uint8Array(h),f=new DataView(h);let m=0;const w=qt.bools.length;let v=0,b=0;for(let y=0;y<w;y++){const x=t[qt.bools[y]];v|=(x===void 0?0:x?2:1)<<b,b+=2,(b===8||y===w-1)&&(f.setUint8(m++,v),v=0,b=0)}It(m===qt.#t,"FontInfo.write: Boolean properties offset mismatch");for(const y of qt.numbers)f.setFloat64(m,t[y]),m+=8;if(It(m===qt.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){f.setUint8(m++,4);for(const y of t.bbox)f.setInt16(m,y,!0),m+=2}else f.setUint8(m++,0),m+=8;if(It(m===qt.#s,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){f.setUint8(m++,6);for(const y of t.fontMatrix)f.setFloat64(m,y,!0),m+=8}else f.setUint8(m++,0),m+=48;if(It(m===qt.#A,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){f.setUint8(m++,1);for(const y of t.defaultVMetrics)f.setInt16(m,y,!0),m+=2}else f.setUint8(m++,0),m+=6;It(m===qt.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(qt.#a,0),m+=4;for(const y of qt.strings){const x=a[y],E=x.length;f.setUint32(m,E),d.set(x,m+4),m+=4+E}if(f.setUint32(qt.#a,m-qt.#a-4),!e)f.setUint32(m,0),m+=4;else{const y=e.byteLength;f.setUint32(m,y),It(m+4+y<=h.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(e),m+4),m+=4+y}if(!A)f.setUint32(m,0),m+=4;else{const y=A.byteLength;f.setUint32(m,y),It(m+4+y<=h.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(A),m+4),m+=4+y}return t.data===void 0?(f.setUint32(m,0),m+=4):(f.setUint32(m,t.data.length),d.set(t.data,m+4),m+=4+t.data.length),It(m<=h.byteLength,"FontInfo.write: Buffer overflow"),h.transferToFixedLength(m)}}class De{static#t=0;static#e=1;static#s=2;static#A=3;static#a=4;static#i=8;static#n=12;static#r=16;constructor(t){this.buffer=t,this.view=new DataView(t),this.data=new Uint8Array(t)}static write(t){let e,A=null,i=[],a=[],l=[],c=[],h=null,d=null;switch(t[0]){case"RadialAxial":e=t[1]==="axial"?1:2,A=t[2],l=t[3],e===1?i.push(...t[4],...t[5]):i.push(t[4][0],t[4][1],t[6],t[5][0],t[5][1],t[7]);break;case"Mesh":e=3,h=t[1],i=t[2],a=t[3],c=t[4]||[],A=t[6],d=t[7];break;default:throw new Error(`Unsupported pattern type: ${t[0]}`)}const f=Math.floor(i.length/2),m=Math.floor(a.length/3),w=l.length,v=c.length;let b=0;for(const _ of c)b+=1,b=Math.ceil(b/4)*4,b+=4+_.coords.length*4,b+=4+_.colors.length*4,_.verticesPerRow!==void 0&&(b+=4);const y=20+f*8+m*3+w*8+(A?16:0)+(d?3:0)+b,x=new ArrayBuffer(y),E=new DataView(x),U=new Uint8Array(x);E.setUint8(De.#t,e),E.setUint8(De.#e,A?1:0),E.setUint8(De.#s,d?1:0),E.setUint8(De.#A,h),E.setUint32(De.#a,f,!0),E.setUint32(De.#i,m,!0),E.setUint32(De.#n,w,!0),E.setUint32(De.#r,v,!0);let S=20;new Float32Array(x,S,f*2).set(i),S+=f*8,U.set(a,S),S+=m*3;for(const[_,D]of l)E.setFloat32(S,_,!0),S+=4,E.setUint32(S,parseInt(D.slice(1),16),!0),S+=4;if(A)for(const _ of A)E.setFloat32(S,_,!0),S+=4;d&&(U.set(d,S),S+=3);for(let _=0;_<c.length;_++){const D=c[_];E.setUint8(S,D.type),S+=1,S=Math.ceil(S/4)*4,E.setUint32(S,D.coords.length,!0),S+=4,new Int32Array(x,S,D.coords.length).set(D.coords),S+=D.coords.length*4,E.setUint32(S,D.colors.length,!0),S+=4,new Int32Array(x,S,D.colors.length).set(D.colors),S+=D.colors.length*4,D.verticesPerRow!==void 0&&(E.setUint32(S,D.verticesPerRow,!0),S+=4)}return x}getIR(){const t=this.view,e=this.data[De.#t],A=!!this.data[De.#e],i=!!this.data[De.#s],a=t.getUint32(De.#a,!0),l=t.getUint32(De.#i,!0),c=t.getUint32(De.#n,!0),h=t.getUint32(De.#r,!0);let d=20;const f=new Float32Array(this.buffer,d,a*2);d+=a*8;const m=new Uint8Array(this.buffer,d,l*3);d+=l*3;const w=[];for(let x=0;x<c;++x){const E=t.getFloat32(d,!0);d+=4;const U=t.getUint32(d,!0);d+=4,w.push([E,`#${U.toString(16).padStart(6,"0")}`])}let v=null;if(A){v=[];for(let x=0;x<4;++x)v.push(t.getFloat32(d,!0)),d+=4}let b=null;i&&(b=new Uint8Array(this.buffer,d,3),d+=3);const y=[];for(let x=0;x<h;++x){const E=t.getUint8(d);d+=1,d=Math.ceil(d/4)*4;const U=t.getUint32(d,!0);d+=4;const S=new Int32Array(this.buffer,d,U);d+=U*4;const T=t.getUint32(d,!0);d+=4;const _=new Int32Array(this.buffer,d,T);d+=T*4;const D={type:E,coords:S,colors:_};E===Md.LATTICE&&(D.verticesPerRow=t.getUint32(d,!0),d+=4),y.push(D)}if(e===1)return["RadialAxial","axial",v,w,Array.from(f.slice(0,2)),Array.from(f.slice(2,4)),null,null];if(e===2)return["RadialAxial","radial",v,w,[f[0],f[1]],[f[3],f[4]],f[2],f[5]];if(e===3){const x=this.data[De.#A];let E=null;if(f.length>0){let U=f[0],S=f[0],T=f[1],_=f[1];for(let D=0;D<f.length;D+=2){const F=f[D],O=f[D+1];U=U>F?F:U,T=T>O?O:T,S=S<F?F:S,_=_<O?O:_}E=[U,T,S,_]}return["Mesh",x,f,m,y,E,v,b]}throw new Error(`Unsupported pattern kind: ${e}`)}}function Z1(o){if(o instanceof URL)return o.href;if(typeof o=="string"){if($e)return o;const t=URL.parse(o,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function $1(o){if($e&&typeof Buffer<"u"&&o instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength)return o;if(typeof o=="string")return Vr(o);if(o instanceof ArrayBuffer||ArrayBuffer.isView(o)||typeof o=="object"&&!isNaN(o?.length))return new Uint8Array(o);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function wl(o){if(typeof o!="string")return null;if(o.endsWith("/"))return o;throw new Error(`Invalid factory url: "${o}" must include trailing slash.`)}const Pd=o=>typeof o=="object"&&Number.isInteger(o?.num)&&o.num>=0&&Number.isInteger(o?.gen)&&o.gen>=0,tE=o=>typeof o=="object"&&typeof o?.name=="string",eE=L1.bind(null,Pd,tE);class AE{#t=new Map;#e=Promise.resolve();postMessage(t,e){const A={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[i]of this.#t)i.call(this,A)})}addEventListener(t,e,A=null){let i=null;if(A?.signal instanceof AbortSignal){const{signal:a}=A;if(a.aborted){bt("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);i=()=>a.removeEventListener("abort",l),a.addEventListener("abort",l)}this.#t.set(e,i)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const vl={DATA:1,ERROR:2},be={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function g0(){}function cA(o){if(o instanceof Cn||o instanceof Rd||o instanceof r0||o instanceof ic||o instanceof sd)return o;switch(o instanceof Error||typeof o=="object"&&o!==null||$t('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),o.name){case"AbortException":return new Cn(o.message);case"InvalidPDFException":return new Rd(o.message);case"PasswordException":return new r0(o.message,o.code);case"ResponseException":return new ic(o.message,o.status,o.missing);case"UnknownErrorException":return new sd(o.message,o.details)}return new sd(o.message,o.toString())}class yr{#t=new AbortController;constructor(t,e,A){this.sourceName=t,this.targetName=e,this.comObj=A,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),A.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#A(t);return}if(t.callback){const A=t.callbackId,i=this.callbackCapabilities[A];if(!i)throw new Error(`Cannot resolve callback ${A}`);if(delete this.callbackCapabilities[A],t.callback===vl.DATA)i.resolve(t.data);else if(t.callback===vl.ERROR)i.reject(cA(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const A=this.sourceName,i=t.sourceName,a=this.comObj;Promise.try(e,t.data).then(function(l){a.postMessage({sourceName:A,targetName:i,callback:vl.DATA,callbackId:t.callbackId,data:l})},function(l){a.postMessage({sourceName:A,targetName:i,callback:vl.ERROR,callbackId:t.callbackId,reason:cA(l)})});return}if(t.streamId){this.#s(t);return}e(t.data)}on(t,e){const A=this.actionHandler;if(A[t])throw new Error(`There is already an actionName called "${t}"`);A[t]=e}send(t,e,A){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},A)}sendWithPromise(t,e,A){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},A)}catch(l){a.reject(l)}return a.promise}sendWithStream(t,e,A,i){const a=this.streamId++,l=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[a]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:c,action:t,streamId:a,data:e,desiredSize:d.desiredSize},i),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[a].pullCall=f,h.postMessage({sourceName:l,targetName:c,stream:be.PULL,streamId:a,desiredSize:d.desiredSize}),f.promise},cancel:d=>{It(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[a].cancelCall=f,this.streamControllers[a].isClosed=!0,h.postMessage({sourceName:l,targetName:c,stream:be.CANCEL,streamId:a,reason:cA(d)}),f.promise}},A)}#s(t){const e=t.streamId,A=this.sourceName,i=t.sourceName,a=this.comObj,l=this,c=this.actionHandler[t.action],h={enqueue(d,f=1,m){if(this.isCancelled)return;const w=this.desiredSize;this.desiredSize-=f,w>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:A,targetName:i,stream:be.ENQUEUE,streamId:e,chunk:d},m)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:A,targetName:i,stream:be.CLOSE,streamId:e}),delete l.streamSinks[e])},error(d){It(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:A,targetName:i,stream:be.ERROR,streamId:e,reason:cA(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(c,t.data,h).then(function(){a.postMessage({sourceName:A,targetName:i,stream:be.START_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:A,targetName:i,stream:be.START_COMPLETE,streamId:e,reason:cA(d)})})}#A(t){const e=t.streamId,A=this.sourceName,i=t.sourceName,a=this.comObj,l=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case be.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(cA(t.reason));break;case be.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(cA(t.reason));break;case be.PULL:if(!c){a.postMessage({sourceName:A,targetName:i,stream:be.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||g0).then(function(){a.postMessage({sourceName:A,targetName:i,stream:be.PULL_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:A,targetName:i,stream:be.PULL_COMPLETE,streamId:e,reason:cA(d)})});break;case be.ENQUEUE:if(It(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case be.CLOSE:if(It(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,e);break;case be.ERROR:It(l,"error should have stream controller"),l.controller.error(cA(t.reason)),this.#a(l,e);break;case be.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(cA(t.reason)),this.#a(l,e);break;case be.CANCEL:if(!c)break;const h=cA(t.reason);Promise.try(c.onCancel||g0,h).then(function(){a.postMessage({sourceName:A,targetName:i,stream:be.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:A,targetName:i,stream:be.CANCEL_COMPLETE,streamId:e,reason:cA(d)})}),c.sinkCapability.reject(h),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class Av{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const A=this._createCanvas(t,e);return{canvas:A,context:A.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,A){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||A<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=A}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){$t("Abstract method `_createCanvas` called.")}}class sE extends Av{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const A=this._document.createElement("canvas");return A.width=t,A.height=e,A}}class sv{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(A=>({cMapData:A,isCompressed:this.isCompressed})).catch(A=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){$t("Abstract method `_fetch` called.")}}class p0 extends sv{async _fetch(t){const e=await zr(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Vr(e)}}class nv{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,A,i,a){return"none"}destroy(t=!1){}}class nE extends nv{#t;#e;#s;#A;#a;#i;#n=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#A=t,this.#a=e}get#r(){return this.#e||=new Map}get#l(){return this.#i||=new Map}get#o(){if(!this.#s){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const A=this.#a.createElementNS(Hs,"svg");A.setAttribute("width",0),A.setAttribute("height",0),this.#s=this.#a.createElementNS(Hs,"defs"),t.append(A),A.append(this.#s),this.#a.body.append(t)}return this.#s}#h(t){if(t.length===1){const h=t[0],d=new Array(256);for(let m=0;m<256;m++)d[m]=h[m]/255;const f=d.join(",");return[f,f,f]}const[e,A,i]=t,a=new Array(256),l=new Array(256),c=new Array(256);for(let h=0;h<256;h++)a[h]=e[h]/255,l[h]=A[h]/255,c[h]=i[h]/255;return[a.join(","),l.join(","),c.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(Cc(e)?bt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=zw(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#r.get(t);if(e)return e;const[A,i,a]=this.#h(t),l=t.length===1?A:`${A}${i}${a}`;if(e=this.#r.get(l),e)return this.#r.set(t,e),e;const c=`g_${this.#A}_transfer_map_${this.#n++}`,h=this.#u(c);this.#r.set(t,h),this.#r.set(l,h);const d=this.#g(c);return this.#f(A,i,a,d),h}addHCMFilter(t,e){const A=`${t}-${e}`,i="base";let a=this.#l.get(i);if(a?.key===A||(a?(a.filter?.remove(),a.key=A,a.url="none",a.filter=null):(a={key:A,url:"none",filter:null},this.#l.set(i,a)),!t||!e))return a.url;const l=this.#w(t);t=gt.makeHexColor(...l);const c=this.#w(e);if(e=gt.makeHexColor(...c),this.#o.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return a.url;const h=new Array(256);for(let v=0;v<=255;v++){const b=v/255;h[v]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=h.join(","),f=`g_${this.#A}_hcm_filter`,m=a.filter=this.#g(f);this.#f(d,d,d,m),this.#p(m);const w=(v,b)=>{const y=l[v]/255,x=c[v]/255,E=new Array(b+1);for(let U=0;U<=b;U++)E[U]=y+U/b*(x-y);return E.join(",")};return this.#f(w(0,5),w(1,5),w(2,5),m),a.url=this.#u(f),a.url}addAlphaFilter(t){let e=this.#r.get(t);if(e)return e;const[A]=this.#h([t]),i=`alpha_${A}`;if(e=this.#r.get(i),e)return this.#r.set(t,e),e;const a=`g_${this.#A}_alpha_map_${this.#n++}`,l=this.#u(a);this.#r.set(t,l),this.#r.set(i,l);const c=this.#g(a);return this.#m(A,c),l}addLuminosityFilter(t){let e=this.#r.get(t||"luminosity");if(e)return e;let A,i;if(t?([A]=this.#h([t]),i=`luminosity_${A}`):i="luminosity",e=this.#r.get(i),e)return this.#r.set(t,e),e;const a=`g_${this.#A}_luminosity_map_${this.#n++}`,l=this.#u(a);this.#r.set(t,l),this.#r.set(i,l);const c=this.#g(a);return this.#d(c),t&&this.#m(A,c),l}addHighlightHCMFilter(t,e,A,i,a){const l=`${e}-${A}-${i}-${a}`;let c=this.#l.get(t);if(c?.key===l||(c?(c.filter?.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},this.#l.set(t,c)),!e||!A))return c.url;const[h,d]=[e,A].map(this.#w.bind(this));let f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),m=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[w,v]=[i,a].map(this.#w.bind(this));m<f&&([f,m,w,v]=[m,f,v,w]),this.#o.style.color="";const b=(E,U,S)=>{const T=new Array(256),_=(m-f)/S,D=E/255,F=(U-E)/(255*S);let O=0;for(let K=0;K<=S;K++){const it=Math.round(f+K*_),G=D+K*F;for(let q=O;q<=it;q++)T[q]=G;O=it+1}for(let K=O;K<256;K++)T[K]=T[O-1];return T.join(",")},y=`g_${this.#A}_hcm_${t}_filter`,x=c.filter=this.#g(y);return this.#p(x),this.#f(b(w[0],v[0],5),b(w[1],v[1],5),b(w[2],v[2],5),x),c.url=this.#u(y),c.url}destroy(t=!1){t&&this.#i?.size||(this.#s?.parentNode.parentNode.remove(),this.#s=null,this.#e?.clear(),this.#e=null,this.#i?.clear(),this.#i=null,this.#n=0)}#d(t){const e=this.#a.createElementNS(Hs,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(Hs,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#g(t){const e=this.#a.createElementNS(Hs,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#o.append(e),e}#c(t,e,A){const i=this.#a.createElementNS(Hs,e);i.setAttribute("type","discrete"),i.setAttribute("tableValues",A),t.append(i)}#f(t,e,A,i){const a=this.#a.createElementNS(Hs,"feComponentTransfer");i.append(a),this.#c(a,"feFuncR",t),this.#c(a,"feFuncG",e),this.#c(a,"feFuncB",A)}#m(t,e){const A=this.#a.createElementNS(Hs,"feComponentTransfer");e.append(A),this.#c(A,"feFuncA",t)}#w(t){return this.#o.style.color=t,Yr(getComputedStyle(this.#o).getPropertyValue("color"))}}class iv{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(A=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){$t("Abstract method `_fetch` called.")}}class m0 extends iv{async _fetch(t){const e=await zr(t,"arraybuffer");return new Uint8Array(e)}}class av{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(A=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){$t("Abstract method `_fetch` called.")}}class B0 extends av{async _fetch(t){const e=await zr(t,"arraybuffer");return new Uint8Array(e)}}$e&&bt("Please use the `legacy` build in Node.js environments.");async function Ff(o){const e=await process.getBuiltinModule("fs").promises.readFile(o);return new Uint8Array(e)}class iE extends nv{}class aE extends Av{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class rE extends sv{async _fetch(t){return Ff(t)}}class oE extends iv{async _fetch(t){return Ff(t)}}class lE extends av{async _fetch(t){return Ff(t)}}const Ki="__forcedDependency",{floor:w0,ceil:v0}=Math;function yl(o,t,e,A,i,a){o[t*4+0]=Math.min(o[t*4+0],e),o[t*4+1]=Math.min(o[t*4+1],A),o[t*4+2]=Math.max(o[t*4+2],i),o[t*4+3]=Math.max(o[t*4+3],a)}const Gd=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class cE{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===Gd}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const Cl=(o,t)=>{if(!o)return;let e=o.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},o.set(t,e)),e};class uE{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[Ki]:[]};#s=new Map;#A=[];#a=[];#i=[[1,0,0,1,0,0]];#n=[-1/0,-1/0,1/0,1/0];#r=new Float64Array([1/0,1/0,-1/0,-1/0]);#l=-1;#o=new Set;#h=new Map;#u=new Map;#d;#p;#g;#c;#f;constructor(t,e,A=!1){this.#d=t.width,this.#p=t.height,this.#m(e),A&&(this.#f=new Map)}growOperationsCount(t){t>=this.#c.length&&this.#m(t,this.#c)}#m(t,e){const A=new ArrayBuffer(t*4);this.#g=new Uint8ClampedArray(A),this.#c=new Uint32Array(A),e&&e.length>0?(this.#c.set(e),this.#c.fill(Gd,e.length)):this.#c.fill(Gd)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[Ki]:{__proto__:this.#e[Ki]}},this.#n={__proto__:this.#n},this.#A.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#n=Object.getPrototypeOf(this.#n);const A=this.#A.pop();return A!==void 0&&(Cl(this.#f,t)?.dependencies.add(A),this.#c[t]=this.#c[A]),this}recordOpenMarker(t){return this.#A.push(t),this}getOpenMarker(){return this.#A.length===0?null:this.#A.at(-1)}recordCloseMarker(t){const e=this.#A.pop();return e!==void 0&&(Cl(this.#f,t)?.dependencies.add(e),this.#c[t]=this.#c[e]),this}beginMarkedContent(t){return this.#a.push(t),this}endMarkedContent(t){const e=this.#a.pop();return e!==void 0&&(Cl(this.#f,t)?.dependencies.add(e),this.#c[t]=this.#c[e]),this}pushBaseTransform(t){return this.#i.push(gt.multiplyByDOMMatrix(this.#i.at(-1),t.getTransform())),this}popBaseTransform(){return this.#i.length>1&&this.#i.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#s.set(t,e),this}recordSimpleDataFromNamed(t,e,A){this.#t[t]=this.#s.get(e)??A}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Ki,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#o)this.recordFutureForcedDependency(Ki,t);return this}resetBBox(t){return this.#l!==t&&(this.#l=t,this.#r[0]=1/0,this.#r[1]=1/0,this.#r[2]=-1/0,this.#r[3]=-1/0),this}recordClipBox(t,e,A,i,a,l){const c=gt.multiplyByDOMMatrix(this.#i.at(-1),e.getTransform()),h=[1/0,1/0,-1/0,-1/0];gt.axialAlignedBoundingBox([A,a,i,l],c,h);const d=gt.intersect(this.#n,h);return d?(this.#n[0]=d[0],this.#n[1]=d[1],this.#n[2]=d[2],this.#n[3]=d[3]):(this.#n[0]=this.#n[1]=1/0,this.#n[2]=this.#n[3]=-1/0),this}recordBBox(t,e,A,i,a,l){const c=this.#n;if(c[0]===1/0)return this;const h=gt.multiplyByDOMMatrix(this.#i.at(-1),e.getTransform());if(c[0]===-1/0)return gt.axialAlignedBoundingBox([A,a,i,l],h,this.#r),this;const d=[1/0,1/0,-1/0,-1/0];return gt.axialAlignedBoundingBox([A,a,i,l],h,d),this.#r[0]=Math.min(this.#r[0],Math.max(d[0],c[0])),this.#r[1]=Math.min(this.#r[1],Math.max(d[1],c[1])),this.#r[2]=Math.max(this.#r[2],Math.min(d[2],c[2])),this.#r[3]=Math.max(this.#r[3],Math.min(d[3],c[3])),this}recordCharacterBBox(t,e,A,i=1,a=0,l=0,c){const h=A.bbox;let d,f;if(h&&(d=h[2]!==h[0]&&h[3]!==h[1]&&this.#u.get(A),d!==!1&&(f=[0,0,0,0],gt.axialAlignedBoundingBox(h,A.fontMatrix,f),(i!==1||a!==0||l!==0)&&gt.scaleMinMax([i,0,0,-i,a,l],f),d)))return this.recordBBox(t,e,f[0],f[2],f[1],f[3]);if(!c)return this.recordFullPageBBox(t);const m=c();return h&&f&&d===void 0&&(d=f[0]<=a-m.actualBoundingBoxLeft&&f[2]>=a+m.actualBoundingBoxRight&&f[1]<=l-m.actualBoundingBoxAscent&&f[3]>=l+m.actualBoundingBoxDescent,this.#u.set(A,d),d)?this.recordBBox(t,e,f[0],f[2],f[1],f[3]):this.recordBBox(t,e,a-m.actualBoundingBoxLeft,a+m.actualBoundingBoxRight,l-m.actualBoundingBoxAscent,l+m.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#r[0]=Math.max(0,this.#n[0]),this.#r[1]=Math.max(0,this.#n[1]),this.#r[2]=Math.min(this.#d,this.#n[2]),this.#r[3]=Math.min(this.#p,this.#n[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const A=this.#o,i=this.#t,a=this.#e;for(const l of e)l in this.#t?A.add(i[l]):l in a&&a[l].forEach(A.add,A);return this}recordNamedDependency(t,e){return this.#s.has(e)&&this.#o.add(this.#s.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[Ki]),this.#f){const A=Cl(this.#f,t),{dependencies:i}=A;this.#o.forEach(i.add,i),this.#A.forEach(i.add,i),this.#a.forEach(i.add,i),i.delete(t),A.isRenderingOperation=!0}if(this.#l===t){const A=w0(this.#r[0]*256/this.#d),i=w0(this.#r[1]*256/this.#p),a=v0(this.#r[2]*256/this.#d),l=v0(this.#r[3]*256/this.#p);yl(this.#g,t,A,i,a,l);for(const c of this.#o)c!==t&&yl(this.#g,c,A,i,a,l);for(const c of this.#A)c!==t&&yl(this.#g,c,A,i,a,l);for(const c of this.#a)c!==t&&yl(this.#g,c,A,i,a,l);e||(this.#o.clear(),this.#l=-1)}return this}recordShowTextOperation(t,e=!1){const A=Array.from(this.#o);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const i of A)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#l===t&&(this.#l=-1,this.#n[0]=Math.max(this.#n[0],this.#r[0]),this.#n[1]=Math.max(this.#n[1],this.#r[1]),this.#n[2]=Math.min(this.#n[2],this.#r[2]),this.#n[3]=Math.min(this.#n[3],this.#r[3]),e||this.#o.clear()),this}_takePendingDependencies(){const t=this.#o;return this.#o=new Set,t}_extractOperation(t){const e=this.#h.get(t);return this.#h.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#o.add(e)}take(){return this.#u.clear(),new cE(this.#c,this.#g)}takeDebugMetadata(){return this.#f}}class ac{#t;#e;#s;#A=0;#a=0;constructor(t,e,A){if(t instanceof ac&&t.#s===!!A)return t;this.#t=t,this.#e=e,this.#s=!!A}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#a++,this.#t.save(this.#e),this}restore(t){return this.#a>0&&(this.#t.restore(this.#e),this.#a--),this}recordOpenMarker(t){return this.#A++,this}getOpenMarker(){return this.#A>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#A--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,A){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#s||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,A,i,a,l){return this.#s||this.#t.recordClipBox(this.#e,e,A,i,a,l),this}recordBBox(t,e,A,i,a,l){return this.#s||this.#t.recordBBox(this.#e,e,A,i,a,l),this}recordCharacterBBox(t,e,A,i,a,l,c){return this.#s||this.#t.recordCharacterBBox(this.#e,e,A,i,a,l,c),this}recordFullPageBBox(t){return this.#s||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#s||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const OA={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ke={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Vd(o,t){if(!t)return;const e=t[2]-t[0],A=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],e,A),o.clip(i)}class Tf{isModifyingCurrentTransform(){return!1}getPattern(){$t("Abstract method `getPattern` called.")}}class hE extends Tf{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const A of this._colorStops)e.addColorStop(A[0],A[1]);return e}getPattern(t,e,A,i){let a;if(i===Ke.STROKE||i===Ke.FILL){const l=e.current.getClippedPathBoundingBox(i,oe(t))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,h),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-l[0],-l[1]),A=gt.transform(A,[1,0,0,1,l[0],l[1]]),f.transform(...e.baseTransform),this.matrix&&f.transform(...this.matrix),Vd(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),a=t.createPattern(d.canvas,"no-repeat");const m=new DOMMatrix(A);a.setTransform(m)}else Vd(t,this._bbox),a=this._createGradient(t);return a}}function ad(o,t,e,A,i,a,l,c){const h=t.coords,d=t.colors,f=o.data,m=o.width*4;let w;h[e+1]>h[A+1]&&(w=e,e=A,A=w,w=a,a=l,l=w),h[A+1]>h[i+1]&&(w=A,A=i,i=w,w=l,l=c,c=w),h[e+1]>h[A+1]&&(w=e,e=A,A=w,w=a,a=l,l=w);const v=(h[e]+t.offsetX)*t.scaleX,b=(h[e+1]+t.offsetY)*t.scaleY,y=(h[A]+t.offsetX)*t.scaleX,x=(h[A+1]+t.offsetY)*t.scaleY,E=(h[i]+t.offsetX)*t.scaleX,U=(h[i+1]+t.offsetY)*t.scaleY;if(b>=U)return;const S=d[a],T=d[a+1],_=d[a+2],D=d[l],F=d[l+1],O=d[l+2],K=d[c],it=d[c+1],G=d[c+2],q=Math.round(b),$=Math.round(U);let at,rt,N,M,R,z,st,H;for(let j=q;j<=$;j++){if(j<x){const lt=j<b?0:(b-j)/(b-x);at=v-(v-y)*lt,rt=S-(S-D)*lt,N=T-(T-F)*lt,M=_-(_-O)*lt}else{let lt;j>U?lt=1:x===U?lt=0:lt=(x-j)/(x-U),at=y-(y-E)*lt,rt=D-(D-K)*lt,N=F-(F-it)*lt,M=O-(O-G)*lt}let W;j<b?W=0:j>U?W=1:W=(b-j)/(b-U),R=v-(v-E)*W,z=S-(S-K)*W,st=T-(T-it)*W,H=_-(_-G)*W;const tt=Math.round(Math.min(at,R)),nt=Math.round(Math.max(at,R));let ot=m*j+tt*4;for(let lt=tt;lt<=nt;lt++)W=(at-lt)/(at-R),W<0?W=0:W>1&&(W=1),f[ot++]=rt-(rt-z)*W|0,f[ot++]=N-(N-st)*W|0,f[ot++]=M-(M-H)*W|0,f[ot++]=255}}function dE(o,t,e){const A=t.coords,i=t.colors;let a,l;switch(t.type){case Md.LATTICE:const c=t.verticesPerRow,h=Math.floor(A.length/c)-1,d=c-1;for(a=0;a<h;a++){let f=a*c;for(let m=0;m<d;m++,f++)ad(o,e,A[f],A[f+1],A[f+c],i[f],i[f+1],i[f+c]),ad(o,e,A[f+c+1],A[f+1],A[f+c],i[f+c+1],i[f+1],i[f+c])}break;case Md.TRIANGLES:for(a=0,l=A.length;a<l;a+=3)ad(o,e,A[a],A[a+1],A[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class fE extends Tf{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,A){const c=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-h,m=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),w=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),v=d/m,b=f/w,y={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-h,scaleX:1/v,scaleY:1/b},x=m+4,E=w+4,U=A.getCanvas("mesh",x,E),S=U.context,T=S.createImageData(m,w);if(e){const D=T.data;for(let F=0,O=D.length;F<O;F+=4)D[F]=e[0],D[F+1]=e[1],D[F+2]=e[2],D[F+3]=255}for(const D of this._figures)dE(T,D,y);return S.putImageData(T,2,2),{canvas:U.canvas,offsetX:c-2*v,offsetY:h-2*b,scaleX:v,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(t,e,A,i){Vd(t,this._bbox);const a=new Float32Array(2);if(i===Ke.SHADING)gt.singularValueDecompose2dScale(oe(t),a);else if(this.matrix){gt.singularValueDecompose2dScale(this.matrix,a);const[c,h]=a;gt.singularValueDecompose2dScale(e.baseTransform,a),a[0]*=c,a[1]*=h}else gt.singularValueDecompose2dScale(e.baseTransform,a);const l=this._createMeshCanvas(a,i===Ke.SHADING?null:this._background,e.cachedCanvases);return i!==Ke.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class gE extends Tf{getPattern(){return"hotpink"}}function pE(o){switch(o[0]){case"RadialAxial":return new hE(o);case"Mesh":return new fE(o);case"Dummy":return new gE}throw new Error(`Unknown IR type: ${o[0]}`)}const y0={COLORED:1,UNCOLORED:2};class _f{static MAX_PATTERN_SIZE=3e3;constructor(t,e,A,i){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=A,this.baseTransform=i}createPatternCanvas(t,e){const{bbox:A,operatorList:i,paintType:a,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),yc("TilingType: "+l);const m=A[0],w=A[1],v=A[2],b=A[3],y=v-m,x=b-w,E=new Float32Array(2);gt.singularValueDecompose2dScale(this.matrix,E);const[U,S]=E;gt.singularValueDecompose2dScale(this.baseTransform,E);const T=U*E[0],_=S*E[1];let D=y,F=x,O=!1,K=!1;const it=Math.ceil(d*T),G=Math.ceil(f*_),q=Math.ceil(y*T),$=Math.ceil(x*_);it>=q?D=d:O=!0,G>=$?F=f:K=!0;const at=this.getSizeAndScale(D,this.ctx.canvas.width,T),rt=this.getSizeAndScale(F,this.ctx.canvas.height,_),N=t.cachedCanvases.getCanvas("pattern",at.size,rt.size),M=N.context,R=h.createCanvasGraphics(M,e);if(R.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(R,a,c),M.translate(-at.scale*m,-rt.scale*w),R.transform(0,at.scale,0,0,rt.scale,0,0),M.save(),R.dependencyTracker?.save(),this.clipBbox(R,m,w,v,b),R.baseTransform=oe(R.ctx),R.executeOperatorList(i),R.endDrawing(),R.dependencyTracker?.restore(),M.restore(),O||K){const z=N.canvas;O&&(D=d),K&&(F=f);const st=this.getSizeAndScale(D,this.ctx.canvas.width,T),H=this.getSizeAndScale(F,this.ctx.canvas.height,_),j=st.size,W=H.size,tt=t.cachedCanvases.getCanvas("pattern-workaround",j,W),nt=tt.context,ot=O?Math.floor(y/d):0,lt=K?Math.floor(x/f):0;for(let St=0;St<=ot;St++)for(let wt=0;wt<=lt;wt++)nt.drawImage(z,j*St,W*wt,j,W,0,0,j,W);return{canvas:tt.canvas,scaleX:st.scale,scaleY:H.scale,offsetX:m,offsetY:w}}return{canvas:N.canvas,scaleX:at.scale,scaleY:rt.scale,offsetX:m,offsetY:w}}getSizeAndScale(t,e,A){const i=Math.max(_f.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*A);return a>=i?a=i:A=a/t,{scale:A,size:a}}clipBbox(t,e,A,i,a){const l=i-e,c=a-A;t.ctx.rect(e,A,l,c),gt.axialAlignedBoundingBox([e,A,i,a],oe(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,A){const i=t.ctx,a=t.current;switch(e){case y0.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;i.fillStyle=a.fillColor=l,i.strokeStyle=a.strokeColor=c;break;case y0.UNCOLORED:i.fillStyle=i.strokeStyle=A,a.fillColor=a.strokeColor=A;break;default:throw new F1(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,A,i,a){let l=A;i!==Ke.SHADING&&(l=gt.transform(l,e.baseTransform),this.matrix&&(l=gt.transform(l,this.matrix)));const c=this.createPatternCanvas(e,a);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const d=t.createPattern(c.canvas,"repeat");return d.setTransform(h),d}}function mE({src:o,srcPos:t=0,dest:e,width:A,height:i,nonBlackColor:a=4294967295,inverseDecode:l=!1}){const c=Ge.isLittleEndian?4278190080:255,[h,d]=l?[a,c]:[c,a],f=A>>3,m=A&7,w=o.length;e=new Uint32Array(e.buffer);let v=0;for(let b=0;b<i;b++){for(const x=t+f;t<x;t++){const E=t<w?o[t]:255;e[v++]=E&128?d:h,e[v++]=E&64?d:h,e[v++]=E&32?d:h,e[v++]=E&16?d:h,e[v++]=E&8?d:h,e[v++]=E&4?d:h,e[v++]=E&2?d:h,e[v++]=E&1?d:h}if(m===0)continue;const y=t<w?o[t++]:255;for(let x=0;x<m;x++)e[v++]=y&1<<7-x?d:h}return{srcPos:t,destPos:v}}const C0=16,b0=100,BE=15,E0=10,uA=16,rd=new DOMMatrix,SA=new Float32Array(2),Aa=new Float32Array([1/0,1/0,-1/0,-1/0]);function wE(o,t){if(o._removeMirroring)throw new Error("Context is already forwarding operations.");o.__originalSave=o.save,o.__originalRestore=o.restore,o.__originalRotate=o.rotate,o.__originalScale=o.scale,o.__originalTranslate=o.translate,o.__originalTransform=o.transform,o.__originalSetTransform=o.setTransform,o.__originalResetTransform=o.resetTransform,o.__originalClip=o.clip,o.__originalMoveTo=o.moveTo,o.__originalLineTo=o.lineTo,o.__originalBezierCurveTo=o.bezierCurveTo,o.__originalRect=o.rect,o.__originalClosePath=o.closePath,o.__originalBeginPath=o.beginPath,o._removeMirroring=()=>{o.save=o.__originalSave,o.restore=o.__originalRestore,o.rotate=o.__originalRotate,o.scale=o.__originalScale,o.translate=o.__originalTranslate,o.transform=o.__originalTransform,o.setTransform=o.__originalSetTransform,o.resetTransform=o.__originalResetTransform,o.clip=o.__originalClip,o.moveTo=o.__originalMoveTo,o.lineTo=o.__originalLineTo,o.bezierCurveTo=o.__originalBezierCurveTo,o.rect=o.__originalRect,o.closePath=o.__originalClosePath,o.beginPath=o.__originalBeginPath,delete o._removeMirroring},o.save=function(){t.save(),this.__originalSave()},o.restore=function(){t.restore(),this.__originalRestore()},o.translate=function(e,A){t.translate(e,A),this.__originalTranslate(e,A)},o.scale=function(e,A){t.scale(e,A),this.__originalScale(e,A)},o.transform=function(e,A,i,a,l,c){t.transform(e,A,i,a,l,c),this.__originalTransform(e,A,i,a,l,c)},o.setTransform=function(e,A,i,a,l,c){t.setTransform(e,A,i,a,l,c),this.__originalSetTransform(e,A,i,a,l,c)},o.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},o.rotate=function(e){t.rotate(e),this.__originalRotate(e)},o.clip=function(e){t.clip(e),this.__originalClip(e)},o.moveTo=function(e,A){t.moveTo(e,A),this.__originalMoveTo(e,A)},o.lineTo=function(e,A){t.lineTo(e,A),this.__originalLineTo(e,A)},o.bezierCurveTo=function(e,A,i,a,l,c){t.bezierCurveTo(e,A,i,a,l,c),this.__originalBezierCurveTo(e,A,i,a,l,c)},o.rect=function(e,A,i,a){t.rect(e,A,i,a),this.__originalRect(e,A,i,a)},o.closePath=function(){t.closePath(),this.__originalClosePath()},o.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class vE{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,A){let i;return this.cache[t]!==void 0?(i=this.cache[t],this.canvasFactory.reset(i,e,A)):(i=this.canvasFactory.create(e,A),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function bl(o,t,e,A,i,a,l,c,h,d){const[f,m,w,v,b,y]=oe(o);if(m===0&&w===0){const U=l*f+b,S=Math.round(U),T=c*v+y,_=Math.round(T),D=(l+h)*f+b,F=Math.abs(Math.round(D)-S)||1,O=(c+d)*v+y,K=Math.abs(Math.round(O)-_)||1;return o.setTransform(Math.sign(f),0,0,Math.sign(v),S,_),o.drawImage(t,e,A,i,a,0,0,F,K),o.setTransform(f,m,w,v,b,y),[F,K]}if(f===0&&v===0){const U=c*w+b,S=Math.round(U),T=l*m+y,_=Math.round(T),D=(c+d)*w+b,F=Math.abs(Math.round(D)-S)||1,O=(l+h)*m+y,K=Math.abs(Math.round(O)-_)||1;return o.setTransform(0,Math.sign(m),Math.sign(w),0,S,_),o.drawImage(t,e,A,i,a,0,0,K,F),o.setTransform(f,m,w,v,b,y),[K,F]}o.drawImage(t,e,A,i,a,l,c,h,d);const x=Math.hypot(f,m),E=Math.hypot(w,v);return[x*h,E*d]}class x0{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Id;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Oe.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,A){A?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Aa.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Ke.FILL,e=null){const A=this.minMax.slice();if(t===Ke.STROKE){e||$t("Stroke bounding box must include transform."),gt.singularValueDecompose2dScale(e,SA);const i=SA[0]*this.lineWidth/2,a=SA[1]*this.lineWidth/2;A[0]-=i,A[1]-=a,A[2]+=i,A[3]+=a}return A}updateClipFromPath(){const t=gt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Aa,0)}getClippedPathBoundingBox(t=Ke.FILL,e=null){return gt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function S0(o,t){if(t instanceof ImageData){o.putImageData(t,0,0);return}const e=t.height,A=t.width,i=e%uA,a=(e-i)/uA,l=i===0?a:a+1,c=o.createImageData(A,uA);let h=0,d;const f=t.data,m=c.data;let w,v,b,y;if(t.kind===Wl.GRAYSCALE_1BPP){const x=f.byteLength,E=new Uint32Array(m.buffer,0,m.byteLength>>2),U=E.length,S=A+7>>3,T=4294967295,_=Ge.isLittleEndian?4278190080:255;for(w=0;w<l;w++){for(b=w<a?uA:i,d=0,v=0;v<b;v++){const D=x-h;let F=0;const O=D>S?A:D*8-7,K=O&-8;let it=0,G=0;for(;F<K;F+=8)G=f[h++],E[d++]=G&128?T:_,E[d++]=G&64?T:_,E[d++]=G&32?T:_,E[d++]=G&16?T:_,E[d++]=G&8?T:_,E[d++]=G&4?T:_,E[d++]=G&2?T:_,E[d++]=G&1?T:_;for(;F<O;F++)it===0&&(G=f[h++],it=128),E[d++]=G&it?T:_,it>>=1}for(;d<U;)E[d++]=0;o.putImageData(c,0,w*uA)}}else if(t.kind===Wl.RGBA_32BPP){for(v=0,y=A*uA*4,w=0;w<a;w++)m.set(f.subarray(h,h+y)),h+=y,o.putImageData(c,0,v),v+=uA;w<l&&(y=A*i*4,m.set(f.subarray(h,h+y)),o.putImageData(c,0,v))}else if(t.kind===Wl.RGB_24BPP)for(b=uA,y=A*b,w=0;w<l;w++){for(w>=a&&(b=i,y=A*b),d=0,v=y;v--;)m[d++]=f[h++],m[d++]=f[h++],m[d++]=f[h++],m[d++]=255;o.putImageData(c,0,w*uA)}else throw new Error(`bad image kind: ${t.kind}`)}function Q0(o,t){if(t.bitmap){o.drawImage(t.bitmap,0,0);return}const e=t.height,A=t.width,i=e%uA,a=(e-i)/uA,l=i===0?a:a+1,c=o.createImageData(A,uA);let h=0;const d=t.data,f=c.data;for(let m=0;m<l;m++){const w=m<a?uA:i;({srcPos:h}=mE({src:d,srcPos:h,dest:f,width:A,height:w,nonBlackColor:0})),o.putImageData(c,0,m*uA)}}function ur(o,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const A of e)o[A]!==void 0&&(t[A]=o[A]);o.setLineDash!==void 0&&(t.setLineDash(o.getLineDash()),t.lineDashOffset=o.lineDashOffset)}function El(o){o.strokeStyle=o.fillStyle="#000000",o.fillRule="nonzero",o.globalAlpha=1,o.lineWidth=1,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=10,o.globalCompositeOperation="source-over",o.font="10px sans-serif",o.setLineDash!==void 0&&(o.setLineDash([]),o.lineDashOffset=0);const{filter:t}=o;t!=="none"&&t!==""&&(o.filter="none")}function U0(o,t){if(t)return!0;gt.singularValueDecompose2dScale(o,SA);const e=Math.fround(cs.pixelRatio*ua.PDF_TO_CSS_UNITS);return SA[0]<=e&&SA[1]<=e}const yE=["butt","round","square"],CE=["miter","round","bevel"],bE={},F0={};class ra{constructor(t,e,A,i,a,{optionalContentConfig:l,markedContentStack:c=null},h,d,f){this.ctx=t,this.current=new x0(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=A,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new vE(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(t,e,A=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):A}beginDrawing({transform:t,viewport:e,transparency:A=!1,background:i=null}){const a=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,l),this.ctx.fillStyle=c,A){const h=this.cachedCanvases.getCanvas("transparent",a,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...oe(this.compositeCtx))}this.ctx.save(),El(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=oe(this.ctx)}executeOperatorList(t,e,A,i,a){const l=t.argsArray,c=t.fnArray;let h=e||0;const d=l.length;if(d===h)return h;const f=d-h>E0&&typeof A=="function",m=f?Date.now()+BE:0;let w=0;const v=this.commonObjs,b=this.objs;let y,x;for(;;){if(i!==void 0&&h===i.nextBreakPoint)return i.breakIt(h,A),h;if(!a||a(h))if(y=c[h],x=l[h]??null,y!==Rr.dependency)x===null?this[y](h):this[y](h,...x);else for(const E of x){this.dependencyTracker?.recordNamedData(E,h);const U=E.startsWith("g_")?v:b;if(!U.has(E))return U.get(E,A),h}if(h++,h===d)return h;if(f&&++w>E0){if(Date.now()>m)return A(),h;w=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const A=t.width??t.displayWidth,i=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),c=A,h=i,d="prescale1",f,m;for(;a>2&&c>1||l>2&&h>1;){let w=c,v=h;a>2&&c>1&&(w=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/w),l>2&&h>1&&(v=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/v),f=this.cachedCanvases.getCanvas(d,w,v),m=f.context,m.clearRect(0,0,w,v),m.drawImage(t,0,0,c,h,0,0,w,v),t=f.canvas,c=w,h=v,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:h}}_createMaskCanvas(t,e){const A=this.ctx,{width:i,height:a}=e,l=this.current.fillColor,c=this.current.patternFill,h=oe(A);let d,f,m,w;if((e.bitmap||e.data)&&e.count>1){const it=e.bitmap||e.data.buffer;f=JSON.stringify(c?h:[h.slice(0,4),l]),d=this._cachedBitmapsMap.get(it),d||(d=new Map,this._cachedBitmapsMap.set(it,d));const G=d.get(f);if(G&&!c){const q=Math.round(Math.min(h[0],h[2])+h[4]),$=Math.round(Math.min(h[1],h[3])+h[5]);return this.dependencyTracker?.recordDependencies(t,OA.transformAndFill),{canvas:G,offsetX:q,offsetY:$}}m=G}m||(w=this.cachedCanvases.getCanvas("maskCanvas",i,a),Q0(w.context,e));let v=gt.transform(h,[1/i,0,0,-1/a,0,0]);v=gt.transform(v,[1,0,0,1,0,-a]);const b=Aa.slice();gt.axialAlignedBoundingBox([0,0,i,a],v,b);const[y,x,E,U]=b,S=Math.round(E-y)||1,T=Math.round(U-x)||1,_=this.cachedCanvases.getCanvas("fillCanvas",S,T),D=_.context,F=y,O=x;D.translate(-F,-O),D.transform(...v),m||(m=this._scaleImage(w.canvas,is(D)),m=m.img,d&&c&&d.set(f,m)),D.imageSmoothingEnabled=U0(oe(D),e.interpolate),bl(D,m,0,0,m.width,m.height,0,0,i,a),D.globalCompositeOperation="source-in";const K=gt.transform(is(D),[1,0,0,1,-F,-O]);return D.fillStyle=c?l.getPattern(A,this,K,Ke.FILL,t):l,D.fillRect(0,0,i,a),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,_.canvas)),this.dependencyTracker?.recordDependencies(t,OA.transformAndFill),{canvas:_.canvas,offsetX:Math.round(F),offsetY:Math.round(O)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=yE[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=CE[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,A){this.dependencyTracker?.recordSimpleData("dash",t);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=A)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[A,i]of e)switch(A){case"LW":this.setLineWidth(t,i);break;case"LC":this.setLineCap(t,i);break;case"LJ":this.setLineJoin(t,i);break;case"ML":this.setMiterLimit(t,i);break;case"D":this.setDash(t,i[0],i[1]);break;case"RI":this.setRenderingIntent(t,i);break;case"FL":this.setFlatness(t,i);break;case"Font":this.setFont(t,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,A=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,e,A);this.suspendedCtx=this.ctx;const l=this.ctx=a.context;l.setTransform(this.suspendedCtx.getTransform()),ur(this.suspendedCtx,l),wE(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ur(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,A=this.suspendedCtx;this.composeSMask(A,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,A,i){const a=i[0],l=i[1],c=i[2]-a,h=i[3]-l;c===0||h===0||(this.genericComposeSMask(e.context,A,c,h,e.subtype,e.backdrop,e.transferMap,a,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(A.canvas,0,0),t.restore())}genericComposeSMask(t,e,A,i,a,l,c,h,d,f,m){let w=t.canvas,v=h-f,b=d-m;if(l)if(v<0||b<0||v+A>w.width||b+i>w.height){const x=this.cachedCanvases.getCanvas("maskExtension",A,i),E=x.context;E.drawImage(w,-v,-b),E.globalCompositeOperation="destination-atop",E.fillStyle=l,E.fillRect(0,0,A,i),E.globalCompositeOperation="source-over",w=x.canvas,v=b=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(v,b,A,i),t.clip(x),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(v,b,A,i),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const y=new Path2D;y.rect(h,d,A,i),e.clip(y),e.globalCompositeOperation="destination-in",e.drawImage(w,v,b,A,i,h,d,A,i),e.restore()}save(t){this.inSMaskMode&&ur(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&ur(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,A,i,a,l,c){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,A,i,a,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,A,i){let[a]=A;if(!i){a||=A[0]=new Path2D,this[e](t,a);return}if(this.dependencyTracker!==null){const l=e===Rr.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,i[0]-l,i[2]+l,i[1]-l,i[3]+l).recordDependencies(t,["transform"])}a instanceof Path2D||(a=A[0]=Zw(a)),gt.axialAlignedBoundingBox(i,oe(this.ctx),this.current.minMax),this[e](t,a),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,A=!0){const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const l=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,is(i),Ke.STROKE,t),l){const c=new Path2D;c.addPath(e,i.getTransform().invertSelf().multiplySelf(l)),e=c}this.rescaleAndStroke(e,!1),i.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,OA.stroke),A&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Ke.STROKE,oe(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,A=!0){const i=this.ctx,a=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const d=a.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(t),i.save(),i.fillStyle=a.getPattern(i,this,is(i),Ke.FILL,t),d){const f=new Path2D;f.addPath(e,i.getTransform().invertSelf().multiplySelf(d)),e=f}c=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(i.fill(e,"evenodd"),this.pendingEOFill=!1):i.fill(e)),this.dependencyTracker?.recordDependencies(t,OA.fill),c&&(i.restore(),this.dependencyTracker?.restore(t)),A&&this.consumePath(t,e,h)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,OA.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=bE}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=F0}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,A=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;e!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",t),i.recordCloseMarker(t)}if(e!==void 0){const i=new Path2D,a=A.getTransform().invertSelf();for(const{transform:l,x:c,y:h,fontSize:d,path:f}of e)f&&i.addPath(f,new DOMMatrix(l).preMultiplySelf(a).translate(c,h).scale(d,-d));A.clip(i)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,A){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const i=this.commonObjs.get(e),a=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(a.fontMatrix=i.fontMatrix||Id,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&bt("Invalid font matrix for font "+e),A<0?(A=-A,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=A,i.isType3Font)return;const l=i.loadedName||"sans-serif",c=i.systemFontInfo?.css||`"${l}", ${i.fallbackName}`;let h="normal";i.black?h="900":i.bold&&(h="bold");const d=i.italic?"italic":"normal";let f=A;A<C0?f=C0:A>b0&&(f=b0),this.current.fontSizeScale=A/f,this.ctx.font=`${d} ${h} ${f}px ${c}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,A){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=A}setLeadingMoveText(t,e,A){this.setLeading(t,-A),this.moveText(t,e,A)}setTextMatrix(t,e){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",t);const{current:A}=this;A.textMatrix=e,A.textMatrixScale=Math.hypot(e[0],e[1]),A.x=A.lineX=0,A.y=A.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#s(t,e,A){const i=new Path2D;return i.addPath(t,new DOMMatrix(A).invertSelf().multiplySelf(e)),i}paintChar(t,e,A,i,a,l){const c=this.ctx,h=this.current,d=h.font,f=h.textRenderingMode,m=h.fontSize/h.fontSizeScale,w=f&Oe.FILL_STROKE_MASK,v=!!(f&Oe.ADD_TO_PATH_FLAG),b=h.patternFill&&!d.missingFile,y=h.patternStroke&&!d.missingFile;let x;if((d.disableFontFace||v||b||y)&&!d.missingFile&&(x=d.getPathGenerator(this.commonObjs,e)),x&&(d.disableFontFace||b||y)){c.save(),c.translate(A,i),c.scale(m,-m),this.dependencyTracker?.recordCharacterBBox(t,c,d);let E;if(w===Oe.FILL||w===Oe.FILL_STROKE)if(a){E=c.getTransform(),c.setTransform(...a);const U=this.#s(x,E,a);c.fill(U)}else c.fill(x);if(w===Oe.STROKE||w===Oe.FILL_STROKE)if(l){E||=c.getTransform(),c.setTransform(...l);const{a:U,b:S,c:T,d:_}=E,D=gt.inverseTransform(l),F=gt.transform([U,S,T,_,0,0],D);gt.singularValueDecompose2dScale(F,SA),c.lineWidth*=Math.max(SA[0],SA[1])/m,c.stroke(this.#s(x,E,l))}else c.lineWidth/=m,c.stroke(x);c.restore()}else(w===Oe.FILL||w===Oe.FILL_STROKE)&&(c.fillText(e,A,i),this.dependencyTracker?.recordCharacterBBox(t,c,d,m,A,i,()=>c.measureText(e))),(w===Oe.STROKE||w===Oe.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,c,d,m,A,i,()=>c.measureText(e)).recordDependencies(t,OA.stroke),c.strokeText(e,A,i));v&&((this.pendingTextPaths||=[]).push({transform:oe(c),x:A,y:i,fontSize:m,path:x}),this.dependencyTracker?.recordCharacterBBox(t,c,d,m,A,i))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let A=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){A=!0;break}return Et(this,"isFontSubpixelAAEnabled",A)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,OA.showText).resetBBox(t),this.current.textRenderingMode&Oe.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const A=this.current,i=A.font;if(i.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const a=A.fontSize;if(a===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,c=A.fontSizeScale,h=A.charSpacing,d=A.wordSpacing,f=A.fontDirection,m=A.textHScale*f,w=e.length,v=i.vertical,b=v?1:-1,y=i.defaultVMetrics,x=a*A.fontMatrix[0],E=A.textRenderingMode===Oe.FILL&&!i.disableFontFace&&!A.patternFill;l.save(),A.textMatrix&&l.transform(...A.textMatrix),l.translate(A.x,A.y+A.textRise),f>0?l.scale(m,-1):l.scale(m,1);let U,S;if(A.patternFill){l.save();const O=A.fillColor.getPattern(l,this,is(l),Ke.FILL,t);U=oe(l),l.restore(),l.fillStyle=O}if(A.patternStroke){l.save();const O=A.strokeColor.getPattern(l,this,is(l),Ke.STROKE,t);S=oe(l),l.restore(),l.strokeStyle=O}let T=A.lineWidth;const _=A.textMatrixScale;if(_===0||T===0){const O=A.textRenderingMode&Oe.FILL_STROKE_MASK;(O===Oe.STROKE||O===Oe.FILL_STROKE)&&(T=this.getSinglePixelWidth())}else T/=_;if(c!==1&&(l.scale(c,c),T/=c),l.lineWidth=T,i.isInvalidPDFjsFont){const O=[];let K=0;for(const G of e)O.push(G.unicode),K+=G.width;const it=O.join("");if(l.fillText(it,0,0),this.dependencyTracker!==null){const G=l.measureText(it);this.dependencyTracker.recordBBox(t,this.ctx,-G.actualBoundingBoxLeft,G.actualBoundingBoxRight,-G.actualBoundingBoxAscent,G.actualBoundingBoxDescent).recordShowTextOperation(t)}A.x+=K*x*m,l.restore(),this.compose();return}let D=0,F;for(F=0;F<w;++F){const O=e[F];if(typeof O=="number"){D+=b*O*a/1e3;continue}let K=!1;const it=(O.isSpace?d:0)+h,G=O.fontChar,q=O.accent;let $,at,rt=O.width;if(v){const R=O.vmetric||y,z=-(O.vmetric?R[1]:rt*.5)*x,st=R[2]*x;rt=R?-R[0]:rt,$=z/c,at=(D+st)/c}else $=D/c,at=0;let N;if(i.remeasure&&rt>0){N=l.measureText(G);const R=N.width*1e3/a*c;if(rt<R&&this.isFontSubpixelAAEnabled){const z=rt/R;K=!0,l.save(),l.scale(z,1),$/=z}else rt!==R&&($+=(rt-R)/2e3*a/c)}if(this.contentVisible&&(O.isInFont||i.missingFile)){if(E&&!q)l.fillText(G,$,at),this.dependencyTracker?.recordCharacterBBox(t,l,N?{bbox:null}:i,a/c,$,at,()=>N??l.measureText(G));else if(this.paintChar(t,G,$,at,U,S),q){const R=$+a*q.offset.x/c,z=at-a*q.offset.y/c;this.paintChar(t,q.fontChar,R,z,U,S)}}const M=v?rt*x-it*f:rt*x+it*f;D+=M,K&&l.restore()}v?A.y-=D:A.x+=D*m,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const A=this.ctx,i=this.current,a=i.font,l=i.fontSize,c=i.fontDirection,h=a.vertical?1:-1,d=i.charSpacing,f=i.wordSpacing,m=i.textHScale*c,w=i.fontMatrix||Id,v=e.length,b=i.textRenderingMode===Oe.INVISIBLE;let y,x,E,U;if(b||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,A.save(),i.textMatrix&&A.transform(...i.textMatrix),A.translate(i.x,i.y+i.textRise),A.scale(m,c);const S=this.dependencyTracker;for(this.dependencyTracker=S?new ac(S,t):null,y=0;y<v;++y){if(x=e[y],typeof x=="number"){U=h*x*l/1e3,this.ctx.translate(U,0),i.x+=U*m;continue}const T=(x.isSpace?f:0)+d,_=a.charProcOperatorList[x.operatorListId];_?this.contentVisible&&(this.save(),A.scale(l,l),A.transform(...w),this.executeOperatorList(_),this.restore()):bt(`Type3 character "${x.operatorListId}" is not available.`);const D=[x.width,0];gt.applyTransform(D,w),E=D[0]*l+T,A.translate(E,0),i.x+=E*m}A.restore(),S&&(this.dependencyTracker=S)}setCharWidth(t,e,A){}setCharWidthAndBounds(t,e,A,i,a,l,c){const h=new Path2D;h.rect(i,a,l-i,c-a),this.ctx.clip(h),this.dependencyTracker?.recordBBox(t,this.ctx,i,l,a,c).recordClipBox(t,this.ctx,i,l,a,c),this.endPath(t)}getColorN_Pattern(t,e){let A;if(e[0]==="TilingPattern"){const i=this.baseTransform||oe(this.ctx),a={createCanvasGraphics:(l,c)=>new ra(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new ac(this.dependencyTracker,c,!0):null)};A=new _f(e,this.ctx,a,i)}else A=this._getPattern(t,e[1],e[2]);return A}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,A=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=pE(this.getObject(t,e)),this.cachedPatterns.set(e,i)),A&&(i.matrix=A),i}shadingFill(t,e){if(!this.contentVisible)return;const A=this.ctx;this.save(t);const i=this._getPattern(t,e);A.fillStyle=i.getPattern(A,this,is(A),Ke.SHADING,t);const a=is(A);if(a){const{width:l,height:c}=A.canvas,h=Aa.slice();gt.axialAlignedBoundingBox([0,0,l,c],a,h);const[d,f,m,w]=h;this.ctx.fillRect(d,f,m-d,w-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,OA.transform).recordDependencies(t,OA.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){$t("Should not call beginInlineImage")}beginImageData(){$t("Should not call beginImageData")}paintFormXObjectBegin(t,e,A){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=oe(this.ctx),A)){gt.axialAlignedBoundingBox(A,this.baseTransform,this.current.minMax);const[i,a,l,c]=A,h=new Path2D;h.rect(i,a,l-i,c-a),this.ctx.clip(h),this.dependencyTracker?.recordClipBox(t,this.ctx,i,l,a,c),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const A=this.ctx;e.isolated||yc("TODO: Support non-isolated groups."),e.knockout&&bt("Knockout groups not supported.");const i=oe(A);if(e.matrix&&A.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let a=Aa.slice();gt.axialAlignedBoundingBox(e.bbox,oe(A),a);const l=[0,0,A.canvas.width,A.canvas.height];a=gt.intersect(a,l)||[0,0,0,0];const c=Math.floor(a[0]),h=Math.floor(a[1]),d=Math.max(Math.ceil(a[2])-c,1),f=Math.max(Math.ceil(a[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,f]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const w=this.cachedCanvases.getCanvas(m,d,f),v=w.context;v.translate(-c,-h),v.transform(...i);let b=new Path2D;const[y,x,E,U]=e.bbox;if(b.rect(y,x,E-y,U-x),e.matrix){const S=new Path2D;S.addPath(b,new DOMMatrix(e.matrix)),b=S}v.clip(b),e.smask&&this.smaskStack.push({canvas:w.canvas,context:v,offsetX:c,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(A.setTransform(1,0,0,1,0,0),A.translate(c,h),A.save()),ur(A,v),this.ctx=v,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(A),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(A),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const A=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=oe(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...a);const l=Aa.slice();gt.axialAlignedBoundingBox([0,0,A.canvas.width,A.canvas.height],a,l),this.ctx.drawImage(A.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,A,i,a,l){if(this.#t(),El(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),A){const c=A[2]-A[0],h=A[3]-A[1];if(l&&this.annotationCanvasMap){i=i.slice(),i[4]-=A[0],i[5]-=A[1],A=A.slice(),A[0]=A[1]=0,A[2]=c,A[3]=h,gt.singularValueDecompose2dScale(oe(this.ctx),SA);const{viewportScale:d}=this,f=Math.ceil(c*this.outputScaleX*d),m=Math.ceil(h*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,m);const{canvas:w,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,w),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(SA[0],0,0,-SA[1],0,h*SA[1]),El(this.ctx)}else{El(this.ctx),this.endPath(t);const d=new Path2D;d.rect(A[0],A[1],c,h),this.ctx.clip(d)}}this.current=new x0(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...i),this.transform(t,...a)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const A=e.count;e=this.getObject(t,e.data,e),e.count=A;const i=this.ctx,a=this._createMaskCanvas(t,e),l=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(l,a.offsetX,a.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,a.offsetX,a.offsetX+l.width,a.offsetY,a.offsetY+l.height).recordOperation(t),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,A,i=0,a=0,l,c){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const h=this.ctx;h.save();const d=oe(h);h.transform(A,i,a,l,0,0);const f=this._createMaskCanvas(t,e);h.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]),this.dependencyTracker?.resetBBox(t);for(let m=0,w=c.length;m<w;m+=2){const v=gt.transform(d,[A,i,a,l,c[m],c[m+1]]);h.drawImage(f.canvas,v[4],v[5]),this.dependencyTracker?.recordBBox(t,this.ctx,v[4],v[4]+f.canvas.width,v[5],v[5]+f.canvas.height)}h.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const A=this.ctx,i=this.current.fillColor,a=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,OA.transformAndFill);for(const l of e){const{data:c,width:h,height:d,transform:f}=l,m=this.cachedCanvases.getCanvas("maskCanvas",h,d),w=m.context;w.save();const v=this.getObject(t,c,l);Q0(w,v),w.globalCompositeOperation="source-in",w.fillStyle=a?i.getPattern(w,this,is(A),Ke.FILL,t):i,w.fillRect(0,0,h,d),w.restore(),A.save(),A.transform(...f),A.scale(1,-1),bl(A,m.canvas,0,0,h,d,0,-1,1,1),this.dependencyTracker?.recordBBox(t,A,0,h,0,d),A.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const A=this.getObject(t,e);if(!A){bt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,A)}paintImageXObjectRepeat(t,e,A,i,a){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){bt("Dependent image isn't ready yet");return}const c=l.width,h=l.height,d=[];for(let f=0,m=a.length;f<m;f+=2)d.push({transform:[A,0,0,i,a[f],a[f+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(t,l,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:A,height:i}=t,a=this.cachedCanvases.getCanvas("inlineImage",A,i),l=a.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",a.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const A=e.width,i=e.height,a=this.ctx;this.save(t);const{filter:l}=a;l!=="none"&&l!==""&&(a.filter="none"),a.scale(1/A,-1/i);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",A,i).context;S0(f,e),c=this.applyTransferMapsToCanvas(f)}const h=this._scaleImage(c,is(a));a.imageSmoothingEnabled=U0(oe(a),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,a,0,A,-i,0).recordDependencies(t,OA.imageXObject).recordOperation(t),bl(a,h.img,0,0,h.paintWidth,h.paintHeight,0,-i,A,i),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,A){if(!this.contentVisible)return;const i=this.ctx;let a;if(e.bitmap)a=e.bitmap;else{const l=e.width,c=e.height,d=this.cachedCanvases.getCanvas("inlineImage",l,c).context;S0(d,e),a=this.applyTransferMapsToCanvas(d)}this.dependencyTracker?.resetBBox(t);for(const l of A)i.save(),i.transform(...l.transform),i.scale(1,-1),bl(i,a,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,OA.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,A){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,A){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(A)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,A){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(A);const a=this.ctx;this.pendingClip?(i||(this.pendingClip===F0?a.clip(e,"evenodd"):a.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=oe(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),A=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(A,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:A,c:i,d:a}=this.ctx.getTransform();let l,c;if(A===0&&i===0){const h=Math.abs(e),d=Math.abs(a);if(h===d)if(t===0)l=c=1/h;else{const f=h*t;l=c=f<1?1/f:1}else if(t===0)l=1/h,c=1/d;else{const f=h*t,m=d*t;l=f<1?1/f:1,c=m<1?1/m:1}}else{const h=Math.abs(e*a-A*i),d=Math.hypot(e,A),f=Math.hypot(i,a);if(t===0)l=f/h,c=d/h;else{const m=t*h;l=f>m?f/m:1,c=d>m?d/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:A,current:{lineWidth:i}}=this,[a,l]=this.getScaleForStroking();if(a===l){A.lineWidth=(i||1)*a,A.stroke(t);return}const c=A.getLineDash();e&&A.save(),A.scale(a,l),rd.a=1/a,rd.d=1/l;const h=new Path2D;if(h.addPath(t,rd),c.length>0){const d=Math.max(a,l);A.setLineDash(c.map(f=>f/d)),A.lineDashOffset/=d}A.lineWidth=i||1,A.stroke(h),e&&A.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const o in Rr)ra.prototype[o]!==void 0&&(ra.prototype[Rr[o]]=ra.prototype[o]);class oa{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class EE{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Wi=Symbol("INTERNAL");class xE{#t=!1;#e=!1;#s=!1;#A=!0;constructor(t,{name:e,intent:A,usage:i,rbGroups:a}){this.#t=!!(t&xA.DISPLAY),this.#e=!!(t&xA.PRINT),this.name=e,this.intent=A,this.usage=i,this.rbGroups=a}get visible(){if(this.#s)return this.#A;if(!this.#A)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,A=!1){t!==Wi&&$t("Internal method `_setVisible` called."),this.#s=A,this.#A=e}}class SE{#t=null;#e=new Map;#s=null;#A=null;constructor(t,e=xA.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#A=t.order;for(const A of t.groups)this.#e.set(A.id,new xE(e,A));if(t.baseState==="OFF")for(const A of this.#e.values())A._setVisible(Wi,!1);for(const A of t.on)this.#e.get(A)._setVisible(Wi,!0);for(const A of t.off)this.#e.get(A)._setVisible(Wi,!1);this.#s=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const A=t[0];for(let i=1;i<e;i++){const a=t[i];let l;if(Array.isArray(a))l=this.#a(a);else if(this.#e.has(a))l=this.#e.get(a).visible;else return bt(`Optional content group not found: ${a}`),!0;switch(A){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return A==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return yc("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(bt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return bt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return bt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return bt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return bt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return bt(`Unknown optional content policy ${t.policy}.`),!0}return bt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,A=!0){const i=this.#e.get(t);if(!i){bt(`Optional content group not found: ${t}`);return}if(A&&e&&i.rbGroups.length)for(const a of i.rbGroups)for(const l of a)l!==t&&this.#e.get(l)?._setVisible(Wi,!1,!0);i._setVisible(Wi,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let A;for(const i of t){switch(i){case"ON":case"OFF":case"Toggle":A=i;continue}const a=this.#e.get(i);if(a)switch(A){case"ON":this.setVisibility(i,!0,e);break;case"OFF":this.setVisibility(i,!1,e);break;case"Toggle":this.setVisibility(i,!a.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#s===null||this.getHash()===this.#s}getOrder(){return this.#e.size?this.#A?this.#A.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new tv;for(const[e,A]of this.#e)t.update(`${e}:${A.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class QE{constructor(t,{disableRange:e=!1,disableStream:A=!1}){It(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:l,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,a?.length>0){const h=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!A,this._isRangeSupported=!e,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,d)=>{this._onReceiveData({begin:h,chunk:d})}),t.addProgressListener((h,d)=>{this._onProgress({loaded:h,total:d})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const A=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(A):this._queuedChunks.push(A);else{const i=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(A),!0)});It(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){It(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new UE(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const A=new FE(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(A),A}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class UE{constructor(t,e,A=!1,i=null){this._stream=t,this._done=A||!1,this._filename=xf(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class FE{constructor(t,e,A){this._stream=t,this._begin=e,this._end=A,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function TE(o){let t=!0,e=A("filename\\*","i").exec(o);if(e){e=e[1];let f=c(e);return f=unescape(f),f=h(f),f=d(f),a(f)}if(e=l(o),e){const f=d(e);return a(f)}if(e=A("filename","i").exec(o),e){e=e[1];let f=c(e);return f=d(f),a(f)}function A(f,m){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function i(f,m){if(f){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const w=new TextDecoder(f,{fatal:!0}),v=Vr(m);m=w.decode(v),t=!1}catch{}}return m}function a(f){return t&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),t&&(f=i("iso-8859-1",f))),f}function l(f){const m=[];let w;const v=A("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(w=v.exec(f))!==null;){let[,y,x,E]=w;if(y=parseInt(y,10),y in m){if(y===0)break;continue}m[y]=[x,E]}const b=[];for(let y=0;y<m.length&&y in m;++y){let[x,E]=m[y];E=c(E),x&&(E=unescape(E),y===0&&(E=h(E))),b.push(E)}return b.join("")}function c(f){if(f.startsWith('"')){const m=f.slice(1).split('\\"');for(let w=0;w<m.length;++w){const v=m[w].indexOf('"');v!==-1&&(m[w]=m[w].slice(0,v),m.length=w+1),m[w]=m[w].replaceAll(/\\(.)/g,"$1")}f=m.join('"')}return f}function h(f){const m=f.indexOf("'");if(m===-1)return f;const w=f.slice(0,m),b=f.slice(m+1).replace(/^[^']*'/,"");return i(w,b)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,w,v,b){if(v==="q"||v==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,x){return String.fromCharCode(parseInt(x,16))}),i(w,b);try{b=atob(b)}catch{}return i(w,b)})}return""}function rv(o,t){const e=new Headers;if(!o||!t||typeof t!="object")return e;for(const A in t){const i=t[A];i!==void 0&&e.append(A,i)}return e}function Ec(o){return URL.parse(o)?.origin??null}function ov({responseHeaders:o,isHttp:t,rangeChunkSize:e,disableRange:A}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(o.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*e)||A||!t||o.get("Accept-Ranges")!=="bytes"||(o.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function lv(o){const t=o.get("Content-Disposition");if(t){let e=TE(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(xf(e))return e}return null}function Jr(o,t){return new ic(`Unexpected server response (${o}) while retrieving PDF "${t}".`,o,o===404||o===0&&t.startsWith("file:"))}function cv(o){return o===200||o===206}function uv(o,t,e){return{method:"GET",headers:o,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function hv(o){return o instanceof Uint8Array?o.buffer:o instanceof ArrayBuffer?o:(bt(`getArrayBuffer - unexpected data format: ${o}`),new Uint8Array(o).buffer)}class _E{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=rv(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return It(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new DE(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const A=new NE(this,t,e);return this._rangeRequestReaders.push(A),A}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class DE{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const A=new Headers(t.headers),i=e.url;fetch(i,uv(A,this._withCredentials,this._abortController)).then(a=>{if(t._responseOrigin=Ec(a.url),!cv(a.status))throw Jr(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const l=a.headers,{allowRangeRequests:c,suggestedLength:h}=ov({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=lv(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Cn("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:hv(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class NE{constructor(t,e,A){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${A-1}`);const l=i.url;fetch(l,uv(a,this._withCredentials,this._abortController)).then(c=>{const h=Ec(c.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!cv(c.status))throw Jr(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:hv(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const od=200,ld=206;function HE(o){const t=o.response;return typeof t!="string"?t:Vr(t).buffer}class LE{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:A}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=rv(this.isHttp,e),this.withCredentials=A||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,A=this.currXhrId++,i=this.pendingRequests[A]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,l]of this.headers)e.setRequestHeader(a,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=ld):i.expectedStatus=od,e.responseType="arraybuffer",It(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,A),e.onprogress=this.onProgress.bind(this,A),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),A}onProgress(t,e){const A=this.pendingRequests[t];A&&A.onProgress?.(e)}onStateChange(t,e){const A=this.pendingRequests[t];if(!A)return;const i=A.xhr;if(i.readyState>=2&&A.onHeadersReceived&&(A.onHeadersReceived(),delete A.onHeadersReceived),i.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],i.status===0&&this.isHttp){A.onError(i.status);return}const a=i.status||od;if(!(a===od&&A.expectedStatus===ld)&&a!==A.expectedStatus){A.onError(i.status);return}const c=HE(i);if(a===ld){const h=i.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);d?A.onDone({begin:parseInt(d[1],10),chunk:c}):(bt('Missing or invalid "Content-Range" header.'),A.onError(0))}else c?A.onDone({begin:0,chunk:c}):A.onError(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class IE{constructor(t){this._source=t,this._manager=new LE(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return It(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ME(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const A=new RE(this._manager,t,e);return A.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(A),A}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class ME{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Ec(e.responseURL);const A=e.getAllResponseHeaders(),i=new Headers(A?A.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[h,...d]=c.split(": ");return[h,d.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:l}=ov({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=lv(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Jr(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class RE{constructor(t,e,A){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:A,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Ec(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Jr(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const OE=/^[a-z][a-z0-9\-+.]+:/i;function kE(o){if(OE.test(o))return new URL(o);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(o))}class jE{constructor(t){this.source=t,this.url=kE(t.url),It(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return It(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new KE(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const A=new PE(this,t,e);return this._rangeRequestReaders.push(A),A}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class KE{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const A=process.getBuiltinModule("fs");A.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(A.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Jr(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Cn("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class PE{constructor(t,e,A){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:A-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const hr=Symbol("INITIAL_DATA");class dv{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:hr}}get(t,e=null){if(e){const i=this.#e(t);return i.promise.then(()=>e(i.data)),null}const A=this.#t[t];if(!A||A.data===hr)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return A.data}has(t){const e=this.#t[t];return!!e&&e.data!==hr}delete(t){const e=this.#t[t];return!e||e.data===hr?!1:(delete this.#t[t],!0)}resolve(t,e=null){const A=this.#e(t);A.data=e,A.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==hr&&(yield[t,e])}}}const GE=1e5,T0=30;class We{#t=Promise.withResolvers();#e=null;#s=!1;#A=!!globalThis.FontInspector?.enabled;#a=null;#i=null;#n=0;#r=0;#l=null;#o=null;#h=0;#u=0;#d=Object.create(null);#p=[];#g=null;#c=[];#f=new WeakMap;#m=null;static#w=new Map;static#B=new Map;static#x=new WeakMap;static#b=null;static#y=new Set;constructor({textContentSource:t,container:e,viewport:A}){if(t instanceof ReadableStream)this.#g=t;else if(typeof t=="object")this.#g=new ReadableStream({start(h){h.enqueue(t),h.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#o=e,this.#u=A.scale*cs.pixelRatio,this.#h=A.rotation,this.#i={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:a,pageX:l,pageY:c}=A.rawDims;this.#m=[1,0,0,-1,-l,c+a],this.#r=i,this.#n=a,We.#F(),ti(e,A),this.#t.promise.finally(()=>{We.#y.delete(this),this.#i=null,this.#d=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Ge.platform;return Et(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#l.read().then(({value:e,done:A})=>{if(A){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#d,e.styles),this.#Q(e.items),t()},this.#t.reject)};return this.#l=this.#g.getReader(),We.#y.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const A=t.scale*cs.pixelRatio,i=t.rotation;if(i!==this.#h&&(e?.(),this.#h=i,ti(this.#o,{rotation:i})),A!==this.#u){e?.(),this.#u=A;const a={div:null,properties:null,ctx:We.#T(this.#a)};for(const l of this.#c)a.properties=this.#f.get(l),a.div=l,this.#E(a)}}cancel(){const t=new Cn("TextLayer task cancelled.");this.#l?.cancel(t).catch(()=>{}),this.#l=null,this.#t.reject(t)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#p}#Q(t){if(this.#s)return;this.#i.ctx??=We.#T(this.#a);const e=this.#c,A=this.#p;for(const i of t){if(e.length>GE){bt("Ignoring additional textDivs for performance reasons."),this.#s=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const a=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),i.id&&this.#e.setAttribute("id",`${i.id}`),a.append(this.#e)}else i.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}A.push(i.str),this.#v(i)}}#v(t){const e=document.createElement("span"),A={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#c.push(e);const i=gt.transform(this.#m,t.transform);let a=Math.atan2(i[1],i[0]);const l=this.#d[t.fontName];l.vertical&&(a+=Math.PI/2);let c=this.#A&&l.fontSubstitution||l.fontFamily;c=We.fontFamilyMap.get(c)||c;const h=Math.hypot(i[2],i[3]),d=h*We.#M(c,l,this.#a);let f,m;a===0?(f=i[4],m=i[5]-d):(f=i[4]+d*Math.sin(a),m=i[5]-d*Math.cos(a));const w="calc(var(--total-scale-factor) *",v=e.style;this.#e===this.#o?(v.left=`${(100*f/this.#r).toFixed(2)}%`,v.top=`${(100*m/this.#n).toFixed(2)}%`):(v.left=`${w}${f.toFixed(2)}px)`,v.top=`${w}${m.toFixed(2)}px)`),v.fontSize=`${w}${(We.#b*h).toFixed(2)}px)`,v.fontFamily=c,A.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#A&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),a!==0&&(A.angle=a*(180/Math.PI));let b=!1;if(t.str.length>1)b=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const y=Math.abs(t.transform[0]),x=Math.abs(t.transform[3]);y!==x&&Math.max(y,x)/Math.min(y,x)>1.5&&(b=!0)}if(b&&(A.canvasWidth=l.vertical?t.height:t.width),this.#f.set(e,A),this.#i.div=e,this.#i.properties=A,this.#E(this.#i),A.hasText&&this.#e.append(e),A.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),this.#e.append(y)}}#E(t){const{div:e,properties:A,ctx:i}=t,{style:a}=e;let l="";if(We.#b>1&&(l=`scale(${1/We.#b})`),A.canvasWidth!==0&&A.hasText){const{fontFamily:c}=a,{canvasWidth:h,fontSize:d}=A;We.#U(i,d*this.#u,c);const{width:f}=i.measureText(e.textContent);f>0&&(l=`scaleX(${h*this.#u/f}) ${l}`)}A.angle!==0&&(l=`rotate(${A.angle}deg) ${l}`),l.length>0&&(a.transform=l)}static cleanup(){if(!(this.#y.size>0)){this.#w.clear();for(const{canvas:t}of this.#B.values())t.remove();this.#B.clear()}}static#T(t=null){let e=this.#B.get(t||="");if(!e){const A=document.createElement("canvas");A.className="hiddenCanvasElement",A.lang=t,document.body.append(A),e=A.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#B.set(t,e),this.#x.set(e,{size:0,family:""})}return e}static#U(t,e,A){const i=this.#x.get(t);e===i.size&&A===i.family||(t.font=`${e}px ${A}`,i.size=e,i.family=A)}static#F(){if(this.#b!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#b=t.getBoundingClientRect().height,t.remove()}static#M(t,e,A){const i=this.#w.get(t);if(i)return i;const a=this.#T(A);a.canvas.width=a.canvas.height=T0,this.#U(a,T0,t);const l=a.measureText(""),c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let d=.8;return c?d=c/(c+h):(Ge.platform.isFirefox&&bt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?d=e.ascent:e.descent&&(d=1+e.descent)),this.#w.set(t,d),d}}const VE=100;function fv(o={}){typeof o=="string"||o instanceof URL?o={url:o}:(o instanceof ArrayBuffer||ArrayBuffer.isView(o))&&(o={data:o});const t=new Df,{docId:e}=t,A=o.url?Z1(o.url):null,i=o.data?$1(o.data):null,a=o.httpHeaders||null,l=o.withCredentials===!0,c=o.password??null,h=o.range instanceof gv?o.range:null,d=Number.isInteger(o.rangeChunkSize)&&o.rangeChunkSize>0?o.rangeChunkSize:2**16;let f=o.worker instanceof kr?o.worker:null;const m=o.verbosity,w=typeof o.docBaseUrl=="string"&&!Cc(o.docBaseUrl)?o.docBaseUrl:null,v=wl(o.cMapUrl),b=o.cMapPacked!==!1,y=o.CMapReaderFactory||($e?rE:p0),x=wl(o.iccUrl),E=wl(o.standardFontDataUrl),U=o.StandardFontDataFactory||($e?oE:m0),S=wl(o.wasmUrl),T=o.WasmFactory||($e?lE:B0),_=o.stopAtErrors!==!0,D=Number.isInteger(o.maxImageSize)&&o.maxImageSize>-1?o.maxImageSize:-1,F=o.isEvalSupported!==!1,O=typeof o.isOffscreenCanvasSupported=="boolean"?o.isOffscreenCanvasSupported:!$e,K=typeof o.isImageDecoderSupported=="boolean"?o.isImageDecoderSupported:!$e&&(Ge.platform.isFirefox||!globalThis.chrome),it=Number.isInteger(o.canvasMaxAreaInBytes)?o.canvasMaxAreaInBytes:-1,G=typeof o.disableFontFace=="boolean"?o.disableFontFace:$e,q=o.fontExtraProperties===!0,$=o.enableXfa===!0,at=o.ownerDocument||globalThis.document,rt=o.disableRange===!0,N=o.disableStream===!0,M=o.disableAutoFetch===!0,R=o.pdfBug===!0,z=o.CanvasFactory||($e?aE:sE),st=o.FilterFactory||($e?iE:nE),H=o.enableHWA===!0,j=o.useWasm!==!1,W=h?h.length:o.length??NaN,tt=typeof o.useSystemFonts=="boolean"?o.useSystemFonts:!$e&&!G,nt=typeof o.useWorkerFetch=="boolean"?o.useWorkerFetch:!!(y===p0&&U===m0&&T===B0&&v&&E&&S&&vr(v,document.baseURI)&&vr(E,document.baseURI)&&vr(S,document.baseURI)),ot=null;S1(m);const lt={canvasFactory:new z({ownerDocument:at,enableHWA:H}),filterFactory:new st({docId:e,ownerDocument:at}),cMapReaderFactory:nt?null:new y({baseUrl:v,isCompressed:b}),standardFontDataFactory:nt?null:new U({baseUrl:E}),wasmFactory:nt?null:new T({baseUrl:S})};f||(f=kr.create({verbosity:m,port:oa.workerPort}),t._worker=f);const St={docId:e,apiVersion:"5.4.449",data:i,password:c,disableAutoFetch:M,rangeChunkSize:d,length:W,docBaseUrl:w,enableXfa:$,evaluatorOptions:{maxImageSize:D,disableFontFace:G,ignoreErrors:_,isEvalSupported:F,isOffscreenCanvasSupported:O,isImageDecoderSupported:K,canvasMaxAreaInBytes:it,fontExtraProperties:q,useSystemFonts:tt,useWasm:j,useWorkerFetch:nt,cMapUrl:v,iccUrl:x,standardFontDataUrl:E,wasmUrl:S}},wt={ownerDocument:at,pdfBug:R,styleElement:ot,loadingParams:{disableAutoFetch:M,enableXfa:$}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const ct=f.messageHandler.sendWithPromise("GetDocRequest",St,i?[i.buffer]:null);let Mt;if(h)Mt=new QE(h,{disableRange:rt,disableStream:N});else if(!i){if(!A)throw new Error("getDocument - no `url` parameter provided.");const Wt=vr(A)?_E:$e?jE:IE;Mt=new Wt({url:A,length:W,httpHeaders:a,withCredentials:l,rangeChunkSize:d,disableRange:rt,disableStream:N})}return ct.then(Wt=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Ye=new yr(e,Wt,f.port),ce=new YE(Ye,t,Mt,wt,lt,H);t._transport=ce,Ye.send("Ready",null)})}).catch(t._capability.reject),t}class Df{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Df.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class gv{#t=Promise.withResolvers();#e=[];#s=[];#A=[];#a=[];constructor(t,e,A=!1,i=null){this.length=t,this.initialData=e,this.progressiveDone=A,this.contentDispositionFilename=i}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#A.push(t)}addProgressiveReadListener(t){this.#s.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const A of this.#a)A(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const A of this.#A)A(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#s)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){$t("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class zE{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Et(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(t){return this._transport.extractPages(t)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class XE{#t=!1;constructor(t,e,A,i=!1){this._pageIndex=t,this._pageInfo=e,this._transport=A,this._stats=i?new l0:null,this._pdfBug=i,this.commonObjs=A.commonObjs,this.objs=new dv,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:A=0,offsetY:i=0,dontFlip:a=!1}={}){return new Xr({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:A,offsetY:i,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Et(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:A,intent:i="display",annotationMode:a=gn.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:m=null,isEditing:w=!1,recordOperations:v=!1,operationsFilter:b=null}){this._stats?.time("Overall");const y=this._transport.getRenderingIntent(i,a,m,w),{renderingIntent:x,cacheKey:E}=y;this.#t=!1,h||=this._transport.getOptionalContentConfig(x);let U=this._intentStates.get(E);U||(U=Object.create(null),this._intentStates.set(E,U)),U.streamReaderCancelTimeout&&(clearTimeout(U.streamReaderCancelTimeout),U.streamReaderCancelTimeout=null);const S=!!(x&xA.PRINT);U.displayReadyCapability||(U.displayReadyCapability=Promise.withResolvers(),U.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y));const T=!!(this._pdfBug&&globalThis.StepperManager?.enabled),_=!this.recordedBBoxes&&(v||T),D=K=>{if(U.renderTasks.delete(F),_){const it=F.gfx?.dependencyTracker.take();it&&(F.stepper&&F.stepper.setOperatorBBoxes(it,F.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=it))}S&&(this.#t=!0),this.#e(),K?(F.capability.reject(K),this._abortOperatorList({intentState:U,reason:K instanceof Error?K:new Error(K)})):F.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},F=new sa({callback:D,params:{canvas:e,canvasContext:t,dependencyTracker:_?new uE(e,U.operatorList.length,T):null,viewport:A,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:U.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:b});(U.renderTasks||=new Set).add(F);const O=F.task;return Promise.all([U.displayReadyCapability.promise,h]).then(([K,it])=>{if(this.destroyed){D();return}if(this._stats?.time("Rendering"),!(it.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");F.initializeGraphics({transparency:K,optionalContentConfig:it}),F.operatorListChanged()}).catch(D),O}getOperatorList({intent:t="display",annotationMode:e=gn.ENABLE,printAnnotationStorage:A=null,isEditing:i=!1}={}){function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(t,e,A,i,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(A=>Or.textContent(A));const e=this.streamTextContent(t);return new Promise(function(A,i){function a(){l.read().then(function({value:h,done:d}){if(d){A(c);return}c.lang??=h.lang,Object.assign(c.styles,h.styles),c.items.push(...h.items),a()},i)}const l=e.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const A of e.renderTasks)t.push(A.completed),A.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new l0),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const A=this._intentStates.get(e);A&&(this._stats?.timeEnd("Page Request"),A.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let A=0,i=t.length;A<i;A++)e.operatorList.fnArray.push(t.fnArray[A]),e.operatorList.argsArray.push(t.argsArray[A]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const A of e.renderTasks)A.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:A,modifiedIds:i}){const{map:a,transfer:l}=A,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:i},l).getReader(),d=this._intentStates.get(e);d.streamReader=h;const f=()=>{h.read().then(({value:m,done:w})=>{if(w){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,d),f())},m=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const w of d.renderTasks)w.operatorListChanged();this.#e()}if(d.displayReadyCapability)d.displayReadyCapability.reject(m);else if(d.opListReadCapability)d.opListReadCapability.reject(m);else throw m}})};f()}_abortOperatorList({intentState:t,reason:e,force:A=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!A){if(t.renderTasks.size>0)return;if(e instanceof Ef){let i=VE;e.extraDelay>0&&e.extraDelay<1e3&&(i+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},i);return}}if(t.streamReader.cancel(new Cn(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===t){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}var pn,JA,Is,qn,Bc,Jn,Wn,eA,Zl,pv,mv,Cr,ca,$l;const re=class re{constructor({name:t=null,port:e=null,verbosity:A=Q1()}={}){ss(this,eA);ss(this,pn,Promise.withResolvers());ss(this,JA,null);ss(this,Is,null);ss(this,qn,null);if(this.name=t,this.destroyed=!1,this.verbosity=A,e){if(ie(re,Wn).has(e))throw new Error("Cannot use more than one PDFWorker per port.");ie(re,Wn).set(e,this),ns(this,eA,pv).call(this,e)}else ns(this,eA,mv).call(this)}get promise(){return ie(this,pn).promise}get port(){return ie(this,Is)}get messageHandler(){return ie(this,JA)}destroy(){this.destroyed=!0,ie(this,qn)?.terminate(),lA(this,qn,null),ie(re,Wn).delete(ie(this,Is)),lA(this,Is,null),ie(this,JA)?.destroy(),lA(this,JA,null)}static create(t){const e=ie(this,Wn).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new re(t)}static get workerSrc(){if(oa.workerSrc)return oa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Et(this,"_setupFakeWorkerGlobal",(async()=>ie(this,ca,$l)?ie(this,ca,$l):(await import(this.workerSrc)).WorkerMessageHandler)())}};pn=new WeakMap,JA=new WeakMap,Is=new WeakMap,qn=new WeakMap,Bc=new WeakMap,Jn=new WeakMap,Wn=new WeakMap,eA=new WeakSet,Zl=function(){ie(this,pn).resolve(),ie(this,JA).send("configure",{verbosity:this.verbosity})},pv=function(t){lA(this,Is,t),lA(this,JA,new yr("main","worker",t)),ie(this,JA).on("ready",()=>{}),ns(this,eA,Zl).call(this)},mv=function(){if(ie(re,Jn)||ie(re,ca,$l)){ns(this,eA,Cr).call(this);return}let{workerSrc:t}=re;try{re._isSameOrigin(window.location,t)||(t=re._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),A=new yr("main","worker",e),i=()=>{a.abort(),A.destroy(),e.terminate(),this.destroyed?ie(this,pn).reject(new Error("Worker was destroyed")):ns(this,eA,Cr).call(this)},a=new AbortController;e.addEventListener("error",()=>{ie(this,qn)||i()},{signal:a.signal}),A.on("test",c=>{if(a.abort(),this.destroyed||!c){i();return}lA(this,JA,A),lA(this,Is,e),lA(this,qn,e),ns(this,eA,Zl).call(this)}),A.on("ready",c=>{if(a.abort(),this.destroyed){i();return}try{l()}catch{ns(this,eA,Cr).call(this)}});const l=()=>{const c=new Uint8Array;A.send("test",c,[c.buffer])};l();return}catch{yc("The worker has been disabled.")}ns(this,eA,Cr).call(this)},Cr=function(){ie(re,Jn)||(bt("Setting up fake worker."),lA(re,Jn,!0)),re._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){ie(this,pn).reject(new Error("Worker was destroyed"));return}const e=new AE;lA(this,Is,e);const A=`fake${zB(re,Bc)._++}`,i=new yr(A+"_worker",A,e);t.setup(i,e),lA(this,JA,new yr(A,A+"_worker",e)),ns(this,eA,Zl).call(this)}).catch(t=>{ie(this,pn).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},ca=new WeakSet,$l=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},ss(re,ca),ss(re,Bc,0),ss(re,Jn,!1),ss(re,Wn,new WeakMap),$e&&(lA(re,Jn,!0),oa.workerSrc||="./pdf.worker.mjs"),re._isSameOrigin=(t,e)=>{const A=URL.parse(t);if(!A?.origin||A.origin==="null")return!1;const i=new URL(e,A);return A.origin===i.origin},re._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},re.fromPort=t=>{if(O1("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return re.create(t)};let kr=re;class YE{#t=new Map;#e=new Map;#s=new Map;#A=new Map;#a=null;constructor(t,e,A,i,a,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new dv,this.fontLoader=new J1({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=A,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#i(t,e=null){const A=this.#t.get(t);if(A)return A;const i=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,i),i}get annotationStorage(){return Et(this,"annotationStorage",new Uf)}getRenderingIntent(t,e=gn.ENABLE,A=null,i=!1,a=!1){let l=xA.DISPLAY,c=Kd;switch(t){case"any":l=xA.ANY;break;case"display":break;case"print":l=xA.PRINT;break;default:bt(`getRenderingIntent - invalid intent: ${t}`)}const h=l&xA.PRINT&&A instanceof ev?A:this.annotationStorage;switch(e){case gn.DISABLE:l+=xA.ANNOTATIONS_DISABLE;break;case gn.ENABLE:break;case gn.ENABLE_FORMS:l+=xA.ANNOTATIONS_FORMS;break;case gn.ENABLE_STORAGE:l+=xA.ANNOTATIONS_STORAGE,c=h.serializable;break;default:bt(`getRenderingIntent - invalid annotationMode: ${e}`)}i&&(l+=xA.IS_EDITING),a&&(l+=xA.OPLIST);const{ids:d,hash:f}=h.modifiedIds,m=[l,c.hash,f];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const A of this.#e.values())t.push(A._destroy());this.#e.clear(),this.#s.clear(),this.#A.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),We.cleanup(),this._networkStream?.cancelAllRequests(new Cn("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(A,i)=>{It(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:l}){if(l){i.close();return}It(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async A=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:l}=this._fullReader;return(!i||!a)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{e.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:l}}),t.on("GetRangeReader",(A,i)=>{It(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(A.begin,A.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:l,done:c}){if(c){i.close();return}It(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{i.error(l)})},i.onCancel=l=>{a.cancel(l),i.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:A})=>{this._numPages=A.numPages,this._htmlForXfa=A.htmlForXfa,delete A.htmlForXfa,e._capability.resolve(new zE(A,this))}),t.on("DocException",A=>{e._capability.reject(cA(A))}),t.on("PasswordRequest",A=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw cA(A);const i=a=>{a instanceof Error?this.#a.reject(a):this.#a.resolve({password:a})};e.onPassword(i,A.code)}catch(i){this.#a.reject(i)}return this.#a.promise}),t.on("DataLoaded",A=>{e.onProgress?.({loaded:A.length,total:A.length}),this.downloadInfoCapability.resolve(A)}),t.on("StartRenderPage",A=>{if(this.destroyed)return;this.#e.get(A.pageIndex)._startRenderPage(A.transparency,A.cacheKey)}),t.on("commonobj",([A,i,a])=>{if(this.destroyed||this.commonObjs.has(A))return null;switch(i){case"Font":if("error"in a){const m=a.error;bt(`Error during font loading: ${m}`),this.commonObjs.resolve(A,m);break}const l=new qt(a),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(m,w)=>globalThis.FontInspector.fontAdded(m,w):null,h=new W1(l,c,a.extra,a.charProcOperatorList);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:A})).finally(()=>{!h.fontExtraProperties&&h.data&&h.clearData(),this.commonObjs.resolve(A,h)});break;case"CopyLocalImage":const{imageRef:d}=a;It(d,"The imageRef must be defined.");for(const m of this.#e.values())for(const[,w]of m.objs)if(w?.ref===d)return w.dataLen?(this.commonObjs.resolve(A,structuredClone(w)),w.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(A,a);break;case"Pattern":const f=new De(a);this.commonObjs.resolve(A,f.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),t.on("obj",([A,i,a,l])=>{if(this.destroyed)return;const c=this.#e.get(i);if(!c.objs.has(A)){if(c._intentStates.size===0){l?.bitmap?.close();return}switch(a){case"Image":case"Pattern":c.objs.resolve(A,l);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",A=>{this.destroyed||e.onProgress?.({loaded:A.loaded,total:A.total})}),t.on("FetchBinaryData",async A=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[A.type];if(!i)throw new Error(`${A.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(A)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&bt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}extractPages(t){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:t})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,A=this.#s.get(e);if(A)return A;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#A.set(a.refStr,t);const l=new XE(e,a,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#s.set(e,i),i}getPageIndex(t){return Pd(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#i("GetFieldObjects")}hasJSActions(){return this.#i("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#i("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#i("GetOptionalContentConfig").then(e=>new SE(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const A=this.messageHandler.sendWithPromise(t,null).then(i=>({info:i[0],metadata:i[1]?new EE(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:i[2]}));return this.#t.set(t,A),A}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),We.cleanup()}}cachedPageNumber(t){if(!Pd(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#A.get(e)??null}}class qE{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class sa{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:A,commonObjs:i,annotationCanvasMap:a,operatorList:l,pageIndex:c,canvasFactory:h,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:m=!1,pageColors:w=null,enableHWA:v=!1,operationsFilter:b=null}){this.callback=t,this.params=e,this.objs=A,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=h,this.filterFactory=d,this._pdfBug=m,this.pageColors=w,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new qE(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=v,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(sa.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");sa.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:A,transform:i,background:a,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new ra(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:i,viewport:A,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),sa.#e.delete(this._canvas),t||=new Ef(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),sa.#e.delete(this._canvas),this.callback())))}}const JE="5.4.449",WE="f44e5f0e6";class kA{#t=null;#e=null;#s;#A=null;#a=!1;#i=!1;#n=null;#r;#l=null;#o=null;static#h=null;static get _keyboardManager(){return Et(this,"_keyboardManager",new qr([[["Escape","mac+Escape"],kA.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],kA.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],kA.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],kA.prototype._moveToPrevious],[["Home","mac+Home"],kA.prototype._moveToBeginning],[["End","mac+End"],kA.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#i=!1,this.#n=t):this.#i=!0,this.#o=t?._uiManager||e,this.#r=this.#o._eventBus,this.#s=t?.color?.toUpperCase()||this.#o?.highlightColors.values().next().value||"#FFFF98",kA.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#n&&(t.ariaControls=`${this.#n.id}_colorpicker_dropdown`);const e=this.#o._signal;t.addEventListener("click",this.#g.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});const A=this.#e=document.createElement("span");return A.className="swatch",A.ariaHidden="true",A.style.backgroundColor=this.#s,t.append(A),t}renderMainDropdown(){const t=this.#A=this.#u();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#u(){const t=document.createElement("div"),e=this.#o._signal;t.addEventListener("contextmenu",VA,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#n&&(t.id=`${this.#n.id}_colorpicker_dropdown`);for(const[A,i]of this.#o.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=A,a.setAttribute("data-l10n-id",kA.#h[A]);const l=document.createElement("span");a.append(l),l.className="swatch",l.style.backgroundColor=i,a.ariaSelected=i===this.#s,a.addEventListener("click",this.#d.bind(this,i),{signal:e}),t.append(a)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#d(t,e){e.stopPropagation(),this.#r.dispatch("switchannotationeditorparams",{source:this,type:Lt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#g(t);return}const e=t.target.getAttribute("data-color");e&&this.#d(e,t)}_moveToNext(t){if(!this.#f){this.#g(t);return}if(t.target===this.#t){this.#A.firstElementChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#A?.firstElementChild||t.target===this.#t){this.#f&&this._hideDropdownFromKeyboard();return}this.#f||this.#g(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#f){this.#g(t);return}this.#A.firstElementChild?.focus()}_moveToEnd(t){if(!this.#f){this.#g(t);return}this.#A.lastElementChild?.focus()}#p(t){kA._keyboardManager.exec(this,t)}#g(t){if(this.#f){this.hideDropdown();return}if(this.#a=t.detail===0,this.#l||(this.#l=new AbortController,window.addEventListener("pointerdown",this.#c.bind(this),{signal:this.#o.combinedSignal(this.#l)})),this.#t.ariaExpanded="true",this.#A){this.#A.classList.remove("hidden");return}const e=this.#A=this.#u();this.#t.append(e)}#c(t){this.#A?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#A?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#l?.abort(),this.#l=null}get#f(){return this.#A&&!this.#A.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#i){if(!this.#f){this.#n?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#A)return;const e=this.#o.highlightColors.values();for(const A of this.#A.children)A.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#A?.remove(),this.#A=null}}class jr{#t=null;#e=null;#s=null;static#A=null;constructor(t){this.#e=t,this.#s=t._uiManager,jr.#A||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,color:A}=this.#e,i=this.#t=document.createElement("input");return i.type="color",i.value=A||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",jr.#A[t]),i.addEventListener("input",()=>{this.#s.updateParams(e,i.value)},{signal:this.#s._signal}),i}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function _0(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}function dr(o){return Math.max(0,Math.min(255,255*o))}class D0{static CMYK_G([t,e,A,i]){return["G",1-Math.min(1,.3*t+.59*A+.11*e+i)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=dr(t),[t,t,t]}static G_HTML([t]){const e=_0(t);return`#${e}${e}${e}`}static RGB_G([t,e,A]){return["G",.3*t+.59*e+.11*A]}static RGB_rgb(t){return t.map(dr)}static RGB_HTML(t){return`#${t.map(_0).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,A,i]){return["RGB",1-Math.min(1,t+i),1-Math.min(1,A+i),1-Math.min(1,e+i)]}static CMYK_rgb([t,e,A,i]){return[dr(1-Math.min(1,t+i)),dr(1-Math.min(1,A+i)),dr(1-Math.min(1,e+i))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,A]){const i=1-t,a=1-e,l=1-A,c=Math.min(i,a,l);return["CMYK",i,a,l,c]}}class ZE{create(t,e,A=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),A||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${e}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${e}`),i}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){$t("Abstract method `_createSVG` called.")}}class rc extends ZE{_createSVG(t){return document.createElementNS(Hs,t)}}const $E=9,ei=new WeakSet,tx=new Date().getTimezoneOffset()*60*1e3;class cd{static create(t){switch(t.data.annotationType){case Ee.LINK:return new Nf(t);case Ee.TEXT:return new Ax(t);case Ee.WIDGET:switch(t.data.fieldType){case"Tx":return new sx(t);case"Btn":return t.data.radioButton?new Bv(t):t.data.checkBox?new ix(t):new ax(t);case"Ch":return new rx(t);case"Sig":return new nx(t)}return new si(t);case Ee.POPUP:return new zd(t);case Ee.FREETEXT:return new wv(t);case Ee.LINE:return new lx(t);case Ee.SQUARE:return new cx(t);case Ee.CIRCLE:return new ux(t);case Ee.POLYLINE:return new vv(t);case Ee.CARET:return new dx(t);case Ee.INK:return new Hf(t);case Ee.POLYGON:return new hx(t);case Ee.HIGHLIGHT:return new yv(t);case Ee.UNDERLINE:return new fx(t);case Ee.SQUIGGLY:return new gx(t);case Ee.STRIKEOUT:return new px(t);case Ee.STAMP:return new Cv(t);case Ee.FILEATTACHMENT:return new mx(t);default:return new le(t)}}}class le{#t=null;#e=!1;#s=null;constructor(t,{isRenderable:e=!1,ignoreBorder:A=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,this.hasOwnCommentButton=!1,e&&(this.contentElement=this.container=this._createContainer(A)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return le._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:A,rect:i}=this.data;let a=-1/0,l=-1/0;if(e?.length>=8){for(let c=0;c<e.length;c+=8)e[c+1]>l?(l=e[c+1],a=e[c+2]):e[c+1]===l&&(a=Math.max(a,e[c+2]));return[a,l]}if(A?.length>=1){for(const c of A)for(let h=0,d=c.length;h<d;h+=2)c[h+1]>l?(l=c[h+1],a=c[h]):c[h+1]===l&&(a=Math.max(a,c[h]));if(a!==1/0)return[a,l]}return i?[i[2],i[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:A,pageHeight:i,pageX:a,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-a)/A,t[1]=100*(t[1]-l)/i,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Mr}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,A={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:A})||this.annotationStorage.setValue(`${Mr}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:A,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#s?.popup||this.popup)?.remove(),this.#s=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:A}=t;e&&this.#A(e);let i=this.#s?.popup||this.popup;!i&&A?.text&&(this._createPopup(A),i=this.#s.popup),i&&(i.updateEdited(t),A?.deleted&&(i.remove(),this.#s=null,this.popup=null))}resetEdited(){this.#t&&(this.#A(this.#t.rect),this.#s?.popup.resetEdited(),this.#t=null)}#A(t){const{container:{style:e},data:{rect:A,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:h}}}}=this;A?.splice(0,4,...t),e.left=`${100*(t[0]-c)/a}%`,e.top=`${100*(l-t[3]+h)/l}%`,i===0?(e.width=`${100*(t[2]-t[0])/a}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(i)}_createContainer(t){const{data:e,parent:{page:A,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),!(this instanceof si)&&!(this instanceof Nf)&&(a.tabIndex=0);const{style:l}=a;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof zd){const{rotation:y}=e;return!e.hasOwnCanvas&&y!==0&&this.setRotation(y,a),a}const{width:c,height:h}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const y=e.borderStyle.horizontalCornerRadius,x=e.borderStyle.verticalCornerRadius;if(y>0||x>0){const U=`calc(${y}px * var(--total-scale-factor)) / calc(${x}px * var(--total-scale-factor))`;l.borderRadius=U}else if(this instanceof Bv){const U=`calc(${c}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;l.borderRadius=U}switch(e.borderStyle.style){case Ji.SOLID:l.borderStyle="solid";break;case Ji.DASHED:l.borderStyle="dashed";break;case Ji.BEVELED:bt("Unimplemented border style: beveled");break;case Ji.INSET:bt("Unimplemented border style: inset");break;case Ji.UNDERLINE:l.borderBottomStyle="solid";break}const E=e.borderColor||null;E?(this.#e=!0,l.borderColor=gt.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):l.borderWidth=0}const d=gt.normalizeRect([e.rect[0],A.view[3]-e.rect[1]+A.view[1],e.rect[2],A.view[3]-e.rect[3]+A.view[1]]),{pageWidth:f,pageHeight:m,pageX:w,pageY:v}=i.rawDims;l.left=`${100*(d[0]-w)/f}%`,l.top=`${100*(d[1]-v)/m}%`;const{rotation:b}=e;return e.hasOwnCanvas||b===0?(l.width=`${100*c/f}%`,l.height=`${100*h/m}%`):this.setRotation(b,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:A,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:l}=this;t%180!==0&&([a,l]=[l,a]),e.style.width=`${100*a/A}%`,e.style.height=`${100*l/i}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,A,i)=>{const a=i.detail[e],l=a[0],c=a.slice(1);i.target.style[A]=D0[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[A]:D0[`${l}_rgb`](c)})};return Et(this,"_commonActions",{display:e=>{const{display:A}=e.detail,i=A%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:A===1||A===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:A}=e.detail;this.container.style.visibility=A?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:A,noView:A})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const A=e.detail.rotation;this.setRotation(A),this.annotationStorage.setValue(this.data.id,{rotation:A})}})}_dispatchEventFromSandbox(t,e){const A=this._commonActions;for(const i of Object.keys(e.detail))(t[i]||A[i])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const A=this._commonActions;for(const[i,a]of Object.entries(e)){const l=A[i];if(l){const c={detail:{[i]:a},target:t};l(c),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,A,i,a]=this.data.rect.map(y=>Math.fround(y));if(t.length===8){const[y,x,E,U]=t.subarray(2,6);if(i===y&&a===x&&e===E&&A===U)return}const{style:l}=this.container;let c;if(this.#e){const{borderColor:y,borderWidth:x}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const h=i-e,d=a-A,{svgFactory:f}=this,m=f.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const w=f.createElement("defs");m.append(w);const v=f.createElement("clipPath"),b=`clippath_${this.data.id}`;v.setAttribute("id",b),v.setAttribute("clipPathUnits","objectBoundingBox"),w.append(v);for(let y=2,x=t.length;y<x;y+=8){const E=t[y],U=t[y+1],S=t[y+2],T=t[y+3],_=f.createElement("rect"),D=(S-e)/h,F=(a-U)/d,O=(E-S)/h,K=(U-T)/d;_.setAttribute("x",D),_.setAttribute("y",F),_.setAttribute("width",O),_.setAttribute("height",K),v.append(_),c?.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${F}" width="${O}" height="${K}"/>`)}this.#e&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(m),this.container.style.clipPath=`url(#${b})`}_createPopup(t=null){const{data:e}=this;let A,i;t?(A={str:t.text},i=t.date):(A=e.contentsObj,i=e.modificationDate),this.#s=new zd({data:{color:e.color,titleObj:e.titleObj,modificationDate:i,contentsObj:A,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#s||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#s}render(){$t("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const A=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:a,id:l,exportValues:c}of i){if(a===-1||l===e)continue;const h=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${l}"]`);if(d&&!ei.has(d)){bt(`_getElementsByName - element not allowed: ${l}`);continue}A.push({id:l,exportValue:h,domElement:d})}return A}for(const i of document.getElementsByName(t)){const{exportValue:a}=i,l=i.getAttribute("data-element-id");l!==e&&ei.has(i)&&A.push({id:l,exportValue:a,domElement:i})}return A}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class ex extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&this._createPopup(t.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class Nf extends le{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,A=document.createElement("a");A.setAttribute("data-element-id",t.id);let i=!1;return t.url?(e.addLinkAttributes(A,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(A,t.action,t.overlaidText),i=!0):t.attachment?(this.#e(A,t.attachment,t.overlaidText,t.attachmentDest),i=!0):t.setOCGState?(this.#s(A,t.setOCGState,t.overlaidText),i=!0):t.dest?(this._bindLink(A,t.dest,t.overlaidText),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(A,t),i=!0),t.resetForm?(this._bindResetFormAction(A,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(A,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=A,this.container.append(A)),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,A=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),A&&(t.title=A)}_bindNamedAction(t,e,A=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),A&&(t.title=A),this.#t()}#e(t,e,A="",i=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:A&&(t.title=A),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,i),!1),this.#t()}#s(t,e,A=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),A&&(t.title=A),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const A=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(e.actions)){const a=A.get(i);a&&(t[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:i}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const A=t.onclick;if(A||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){bt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),A||(t.onclick=()=>!1);return}t.onclick=()=>{A?.();const{fields:i,refs:a,include:l}=e,c=[];if(i.length!==0||a.length!==0){const f=new Set(a);for(const m of i){const w=this._fieldObjects[m]||[];for(const{id:v}of w)f.add(v)}for(const m of Object.values(this._fieldObjects))for(const w of m)f.has(w.id)===l&&c.push(w)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const h=this.annotationStorage,d=[];for(const f of c){const{id:m}=f;switch(d.push(m),f.type){case"text":{const v=f.defaultValue||"";h.setValue(m,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;h.setValue(m,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";h.setValue(m,{value:v});break}default:continue}const w=document.querySelector(`[data-element-id="${m}"]`);if(w){if(!ei.has(w)){bt(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class Ax extends le{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(t),this.container}}class si extends le{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ge.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,A,i,a){A.includes("mouse")?t.addEventListener(A,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(A,l=>{if(A==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(A==="focus"){if(e.focused)return;e.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(l)}})})}_setEventListeners(t,e,A,i){for(const[a,l]of A)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,a,l,i),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":gt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:A}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||$E,a=t.style;let l;const c=2,h=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(d/(Ad*i))||1,m=d/f;l=Math.min(i,h(m/Ad))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(i,h(d/Ad))}a.fontSize=`calc(${l}px * var(--total-scale-factor))`,a.color=gt.makeHexColor(A[0],A[1],A[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class sx extends si{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,A,i){const a=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=A),a.setValue(l.id,{[i]:A})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let A=null;if(this.renderForms){const i=t.getValue(e,{value:this.data.fieldValue});let a=i.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=i.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(A=document.createElement("textarea"),A.textContent=c??a,this.data.doNotScroll&&(A.style.overflowY="hidden")):(A=document.createElement("input"),A.type=this.data.password?"password":"text",A.setAttribute("value",c??a),this.data.doNotScroll&&(A.style.overflowX="hidden")),this.data.hasOwnCanvas&&(A.hidden=!0),ei.add(A),this.contentElement=A,A.setAttribute("data-element-id",e),A.disabled=this.data.readOnly,A.name=this.data.fieldName,A.tabIndex=0;const{datetimeFormat:d,datetimeType:f,timeStep:m}=this.data,w=!!f&&this.enableScripting;d&&(A.title=d),this._setRequired(A,this.data.required),l&&(A.maxLength=l),A.addEventListener("input",b=>{t.setValue(e,{value:b.target.value}),this.setPropertyOnSiblings(A,"value",b.target.value,"value"),h.formattedValue=null}),A.addEventListener("resetform",b=>{const y=this.data.defaultFieldValue??"";A.value=h.userValue=y,h.formattedValue=null});let v=b=>{const{formattedValue:y}=h;y!=null&&(b.target.value=y),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){A.addEventListener("focus",y=>{if(h.focused)return;const{target:x}=y;if(w&&(x.type=f,m&&(x.step=m)),h.userValue){const E=h.userValue;if(w)if(f==="time"){const U=new Date(E),S=[U.getHours(),U.getMinutes(),U.getSeconds()];x.value=S.map(T=>T.toString().padStart(2,"0")).join(":")}else x.value=new Date(E-tx).toISOString().split(f==="date"?"T":".",1)[0];else x.value=E}h.lastCommittedValue=x.value,h.commitKey=1,this.data.actions?.Focus||(h.focused=!0)}),A.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const x={value(E){h.userValue=E.detail.value??"",w||t.setValue(e,{value:h.userValue.toString()}),E.target.value=h.userValue},formattedValue(E){const{formattedValue:U}=E.detail;h.formattedValue=U,U!=null&&E.target!==document.activeElement&&(E.target.value=U);const S={formattedValue:U};w&&(S.value=U),t.setValue(e,S)},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{const{charLimit:U}=E.detail,{target:S}=E;if(U===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",U);let T=h.userValue;!T||T.length<=U||(T=T.slice(0,U),S.value=h.userValue=T,t.setValue(e,{value:T}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(x,y)}),A.addEventListener("keydown",y=>{h.commitKey=1;let x=-1;if(y.key==="Escape"?x=0:y.key==="Enter"&&!this.data.multiLine?x=2:y.key==="Tab"&&(h.commitKey=3),x===-1)return;const{value:E}=y.target;h.lastCommittedValue!==E&&(h.lastCommittedValue=E,h.userValue=E,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:x,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const b=v;v=null,A.addEventListener("blur",y=>{if(!h.focused||!y.relatedTarget)return;this.data.actions?.Blur||(h.focused=!1);const{target:x}=y;let{value:E}=x;if(w){if(E&&f==="time"){const U=E.split(":").map(S=>parseInt(S,10));E=new Date(2e3,0,1,U[0],U[1],U[2]||0).valueOf(),x.step=""}else E.includes("T")||(E=`${E}T00:00`),E=new Date(E).valueOf();x.type="text"}h.userValue=E,h.lastCommittedValue!==E&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:h.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),b(y)}),this.data.actions?.Keystroke&&A.addEventListener("beforeinput",y=>{h.lastCommittedValue=null;const{data:x,target:E}=y,{value:U,selectionStart:S,selectionEnd:T}=E;let _=S,D=T;switch(y.inputType){case"deleteWordBackward":{const F=U.substring(0,S).match(/\w*[^\w]*$/);F&&(_-=F[0].length);break}case"deleteWordForward":{const F=U.substring(S).match(/^[^\w]*\w*/);F&&(D+=F[0].length);break}case"deleteContentBackward":S===T&&(_-=1);break;case"deleteContentForward":S===T&&(D+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:U,change:x||"",willCommit:!1,selStart:_,selEnd:D}})}),this._setEventListeners(A,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(v&&A.addEventListener("blur",v),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/l;A.classList.add("comb"),A.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else A=document.createElement("div"),A.textContent=this.data.fieldValue,A.style.verticalAlign="middle",A.style.display="table-cell",this.data.hasOwnCanvas&&(A.hidden=!0);return this._setTextStyle(A),this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.append(A),this.container}}class nx extends si{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class ix extends si{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,A=e.id;let i=t.getValue(A,{value:e.exportValue===e.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",t.setValue(A,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return ei.add(a),a.setAttribute("data-element-id",A),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=0,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,A)){const f=h&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}t.setValue(A,{value:h})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue||"Off";l.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",l=>{const c={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(A,{value:h.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Bv extends si{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,A=e.id;let i=t.getValue(A,{value:e.fieldValue===e.buttonValue}).value;if(typeof i=="string"&&(i=i!==e.buttonValue,t.setValue(A,{value:i})),i)for(const l of this._getElementsByName(e.fieldName,A))t.setValue(l.id,{value:!1});const a=document.createElement("input");if(ei.add(a),a.setAttribute("data-element-id",A),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,A))t.setValue(d.id,{value:!1});t.setValue(A,{value:h})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue;l.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;a.addEventListener("updatefromsandbox",c=>{const h={value:d=>{const f=l===d.detail.value;for(const m of this._getElementsByName(d.target.name)){const w=f&&m.id===A;m.domElement&&(m.domElement.checked=w),t.setValue(m.id,{value:w})}}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class ax extends Nf{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",A=>{this._dispatchEventFromSandbox({},A)})),t}}class rx extends si{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,A=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");ei.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const m=this.data.defaultFieldValue;for(const w of i.options)w.selected=w.value===m});for(const f of this.data.options){const m=document.createElement("option");m.textContent=f.displayValue,m.value=f.exportValue,A.value.includes(f.exportValue)&&(m.setAttribute("selected",!0),a=!1),i.append(m)}let l=null;if(a){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),l=()=>{f.remove(),i.removeEventListener("input",l),l=null},i.addEventListener("input",l)}const c=f=>{const m=f?"value":"textContent",{options:w,multiple:v}=i;return v?Array.prototype.filter.call(w,b=>b.selected).map(b=>b[m]):w.selectedIndex===-1?null:w[w.selectedIndex][m]};let h=c(!1);const d=f=>{const m=f.target.options;return Array.prototype.map.call(m,w=>({displayValue:w.textContent,exportValue:w.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const m={value(w){l?.();const v=w.detail.value,b=new Set(Array.isArray(v)?v:[v]);for(const y of i.options)y.selected=b.has(y.value);t.setValue(e,{value:c(!0)}),h=c(!1)},multipleSelection(w){i.multiple=!0},remove(w){const v=i.options,b=w.detail.remove;v[b].selected=!1,i.remove(b),v.length>0&&Array.prototype.findIndex.call(v,x=>x.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:c(!0),items:d(w)}),h=c(!1)},clear(w){for(;i.length!==0;)i.remove(0);t.setValue(e,{value:null,items:[]}),h=c(!1)},insert(w){const{index:v,displayValue:b,exportValue:y}=w.detail.insert,x=i.children[v],E=document.createElement("option");E.textContent=b,E.value=y,x?x.before(E):i.append(E),t.setValue(e,{value:c(!0),items:d(w)}),h=c(!1)},items(w){const{items:v}=w.detail;for(;i.length!==0;)i.remove(0);for(const b of v){const{displayValue:y,exportValue:x}=b,E=document.createElement("option");E.textContent=y,E.value=x,i.append(E)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(w)}),h=c(!1)},indices(w){const v=new Set(w.detail.indices);for(const b of w.target.options)b.selected=v.has(b.index);t.setValue(e,{value:c(!0)}),h=c(!1)},editable(w){w.target.disabled=!w.detail.editable}};this._dispatchEventFromSandbox(m,f)}),i.addEventListener("input",f=>{const m=c(!0),w=c(!1);t.setValue(e,{value:m}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:w,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class zd extends le{constructor(t){const{data:e,elements:A,parent:i}=t,a=!!i._commentManager;if(super(t,{isRenderable:!a&&le._hasPopupData(e)}),this.elements=A,a&&le._hasPopupData(e)){const l=this.popup=this.#t();for(const c of A)c.popup=l}else this.popup=null}#t(){return new ox({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),A=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",A.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",A.map(i=>`${ea}${i}`).join(",")),this.container}}class ox{#t=null;#e=this.#G.bind(this);#s=this.#O.bind(this);#A=this.#N.bind(this);#a=this.#C.bind(this);#i=null;#n=null;#r=null;#l=null;#o=null;#h=null;#u=null;#d=!1;#p=null;#g=null;#c=null;#f=null;#m=null;#w=null;#B=null;#x=null;#b=null;#y=null;#Q=!1;#v=null;#E=null;constructor({container:t,color:e,elements:A,titleObj:i,modificationDate:a,contentsObj:l,richText:c,parent:h,rect:d,parentRect:f,open:m,commentManager:w=null}){this.#n=t,this.#b=i,this.#r=l,this.#x=c,this.#h=h,this.#i=e,this.#B=d,this.#u=f,this.#o=A,this.#t=w,this.#v=A[0],this.#l=Od.toDateObject(a),this.trigger=A.flatMap(v=>v.getElementsToTriggerPopup()),w||(this.#T(),this.#n.hidden=!0,m&&this.#C())}#T(){if(this.#g)return;this.#g=new AbortController;const{signal:t}=this.#g;for(const e of this.trigger)e.addEventListener("click",this.#a,{signal:t}),e.addEventListener("pointerenter",this.#A,{signal:t}),e.addEventListener("pointerleave",this.#s,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#o)e.container?.addEventListener("keydown",this.#e,{signal:t})}#U(){const t=this.#o.find(e=>e.hasCommentButton);t&&(this.#m=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#f){this.#f.parentNode||this.#v.container.after(this.#f);return}if(this.#m||this.#U(),!this.#m)return;const{signal:t}=this.#g=new AbortController,e=this.#v.hasOwnCommentButton,A=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},i=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},a=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#f=this.#v.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",A,{signal:t}),l.addEventListener("pointerenter",i,{signal:t}),l.addEventListener("pointerleave",a,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#f=document.createElement("button");l.className="annotationCommentButton";const c=this.#v.container;l.style.zIndex=c.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#M(),this.#F(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",A,{signal:t}),l.addEventListener("pointerenter",i,{signal:t}),l.addEventListener("pointerleave",a,{signal:t}),c.after(l)}}#F(){if(this.#v.extraPopupElement&&!this.#v.editor)return;this.#f||this.renderCommentButton();const[t,e]=this.#m,{style:A}=this.#f;A.left=`calc(${t}%)`,A.top=`calc(${e}% - var(--comment-button-dim))`}#M(){this.#v.extraPopupElement||(this.#f||this.renderCommentButton(),this.#f.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#v.commentData;return t?this.#h._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#f?.focus()},0)}getData(){const{richText:t,color:e,opacity:A,creationDate:i,modificationDate:a}=this.#v.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:A,creationDate:i,modificationDate:a}}get elementBeforePopup(){return this.#f}get comment(){return this.#E||=this.#v.commentText,this.#E}set comment(t){t!==this.comment&&(this.#v.commentText=this.#E=t)}focus(){this.#v.container?.focus()}get parentBoundingClientRect(){return this.#v.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#f&&(this.#f.classList.toggle("selected",t),this.#f.ariaExpanded=e)}setSelectedCommentButton(t){this.#f.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#w)return this.#w;const{x:t,y:e,height:A}=this.#f.getBoundingClientRect(),{x:i,y:a,width:l,height:c}=this.#v.layer.getBoundingClientRect();return[(t-i)/l,(e+A-a)/c]}set commentPopupPosition(t){this.#w=t}hasDefaultPopupPosition(){return this.#w===null}get commentButtonPosition(){return this.#m}get commentButtonWidth(){return this.#f.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,A]=this.#w||this.commentButtonPosition.map(d=>d/100),i=this.parentBoundingClientRect,{x:a,y:l,width:c,height:h}=i;this.#t.showDialog(null,this,a+e*c,l+A*h,{...t,parentDimensions:i})}render(){if(this.#p)return;const t=this.#p=document.createElement("div");if(t.className="popup",this.#i){const A=t.style.outlineColor=gt.makeHexColor(...this.#i);t.style.backgroundColor=`color-mix(in srgb, ${A} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#b?.str){const A=document.createElement("span");A.className="title",e.append(A),{dir:A.dir,str:A.textContent}=this.#b}if(t.append(e),this.#l){const A=document.createElement("time");A.className="popupDate",A.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),A.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#l.valueOf()})),A.dateTime=this.#l.toISOString(),e.append(A)}Ww({html:this.#D||this.#r.str,dir:this.#r?.dir,className:"popupContent"},t),this.#n.append(t)}get#D(){const t=this.#x,e=this.#r;return t?.str&&(!e?.str||e.str===t.str)&&this.#x.html||null}get#H(){return this.#D?.attributes?.style?.fontSize||0}get#R(){return this.#D?.attributes?.style?.color||null}#L(t){const e=[],A={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:this.#R,fontSize:this.#H?`calc(${this.#H}px * var(--total-scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:i});return A}#G(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#d)&&this.#C()}updateEdited({rect:t,popup:e,deleted:A}){if(this.#t){A?(this.remove(),this.#E=null):e&&(e.deleted?this.remove():(this.#M(),this.#E=e.text)),t&&(this.#m=null,this.#U(),this.#F());return}if(A||e?.deleted){this.remove();return}this.#T(),this.#y||={contentsObj:this.#r,richText:this.#x},t&&(this.#c=null),e&&e.text&&(this.#x=this.#L(e.text),this.#l=Od.toDateObject(e.date),this.#r=null),this.#p?.remove(),this.#p=null}resetEdited(){this.#y&&({contentsObj:this.#r,richText:this.#x}=this.#y,this.#y=null,this.#p?.remove(),this.#p=null,this.#c=null)}remove(){if(this.#g?.abort(),this.#g=null,this.#p?.remove(),this.#p=null,this.#Q=!1,this.#d=!1,this.#f?.remove(),this.#f=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#S(){if(this.#c!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:A,pageX:i,pageY:a}}}=this.#h;let l=!!this.#u,c=l?this.#u:this.#B;for(const b of this.#o)if(!c||gt.intersect(b.data.rect,c)!==null){c=b.data.rect,l=!0;break}const h=gt.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),f=l?c[2]-c[0]+5:0,m=h[0]+f,w=h[1];this.#c=[100*(m-i)/e,100*(w-a)/A];const{style:v}=this.#n;v.left=`${this.#c[0]}%`,v.top=`${this.#c[1]}%`}#C(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#d=!this.#d,this.#d?(this.#N(),this.#n.addEventListener("click",this.#a),this.#n.addEventListener("keydown",this.#e)):(this.#O(),this.#n.removeEventListener("click",this.#a),this.#n.removeEventListener("keydown",this.#e))}#N(){this.#p||this.render(),this.isVisible?this.#d&&this.#n.classList.add("focused"):(this.#S(),this.#n.hidden=!1,this.#n.style.zIndex=parseInt(this.#n.style.zIndex)+1e3)}#O(){this.#n.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#n.hidden=!0,this.#n.style.zIndex=parseInt(this.#n.style.zIndex)-1e3)}forceHide(){this.#Q=this.isVisible,this.#Q&&(this.#n.hidden=!0)}maybeShow(){this.#t||(this.#T(),this.#Q&&(this.#p||this.#N(),this.#Q=!1,this.#n.hidden=!1))}get isVisible(){return this.#t?!1:this.#n.hidden===!1}}class wv extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=xt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=this.contentElement=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const A=document.createElement("span");A.textContent=e,t.append(A)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class lx extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:A}=this,i=this.svgFactory.create(e,A,!0),a=this.#t=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class cx extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:A}=this,i=this.svgFactory.create(e,A,!0),a=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",a/2),l.setAttribute("y",a/2),l.setAttribute("width",e-a),l.setAttribute("height",A-a),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),i.append(l),this.container.append(i),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class ux extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:A}=this,i=this.svgFactory.create(e,A,!0),a=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",A/2),l.setAttribute("rx",e/2-a/2),l.setAttribute("ry",A/2-a/2),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),i.append(l),this.container.append(i),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class vv extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:A,popupRef:i},width:a,height:l}=this;if(!e)return this.container;const c=this.svgFactory.create(a,l,!0);let h=[];for(let f=0,m=e.length;f<m;f+=2){const w=e[f]-t[0],v=t[3]-e[f+1];h.push(`${w},${v}`)}h=h.join(" ");const d=this.#t=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",h),d.setAttribute("stroke-width",A.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class hx extends vv{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class dx extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class Hf extends le{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?xt.HIGHLIGHT:xt.INK}#s(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:A,borderStyle:i,popupRef:a}}=this,{transform:l,width:c,height:h}=this.#s(e,t),d=this.svgFactory.create(c,h,!0),f=this.#t=this.svgFactory.createElement("svg:g");d.append(f),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",l);for(let m=0,w=A.length;m<w;m++){const v=this.svgFactory.createElement(this.svgElementName);this.#e.push(v),v.setAttribute("points",A[m].join(",")),f.append(v)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:A,rect:i}=t,a=this.#t;if(e>=0&&a.setAttribute("stroke-width",e||1),A)for(let l=0,c=this.#e.length;l<c;l++)this.#e[l].setAttribute("points",A[l].join(","));if(i){const{transform:l,width:c,height:h}=this.#s(this.data.rotation,i);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${h}`),a.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class yv extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=xt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const A=document.createElement("mark");A.classList.add("overlaidText"),A.textContent=t,this.container.append(A)}return this.container}}class fx extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),t){const A=document.createElement("u");A.classList.add("overlaidText"),A.textContent=t,this.container.append(A)}return this.container}}class gx extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),t){const A=document.createElement("u");A.classList.add("overlaidText"),A.textContent=t,this.container.append(A)}return this.container}}class px extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),t){const A=document.createElement("s");A.classList.add("overlaidText"),A.textContent=t,this.container.append(A)}return this.container}}class Cv extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=xt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class mx extends le{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let A;e.hasAppearance||e.fillAlpha===0?A=document.createElement("div"):(A=document.createElement("img"),A.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(A.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),A.addEventListener("dblclick",this.#e.bind(this)),this.#t=A;const{isMac:i}=Ge.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):A.classList.add("popupTriggerArea"),t.append(A),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Lf{#t=null;#e=null;#s=null;#A=new Map;#a=null;#i=null;#n=[];#r=!1;constructor({div:t,accessibilityManager:e,annotationCanvasMap:A,annotationEditorUIManager:i,page:a,viewport:l,structTreeLayer:c,commentManager:h,linkService:d,annotationStorage:f}){this.div=t,this.#t=e,this.#e=A,this.#a=c||null,this.#i=d||null,this.#s=f||new Uf,this.page=a,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=h||null}hasEditableAnnotations(){return this.#A.size>0}async render(t){const{annotations:e}=t,A=this.div;ti(A,this.viewport);const i=new Map,a=[],l={data:null,layer:A,linkService:this.#i,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new rc,annotationStorage:this.#s,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const h=c.annotationType===Ee.POPUP;if(h){const m=i.get(c.id);if(!m)continue;if(!this._commentManager){a.push(c);continue}l.elements=m}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;l.data=c;const d=cd.create(l);if(!d.isRenderable)continue;if(!h&&(this.#n.push(d),c.popupRef)){const m=i.get(c.popupRef);m?m.push(d):i.set(c.popupRef,[d])}const f=d.render();c.hidden&&(f.style.visibility="hidden"),d._isEditable&&(this.#A.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}await this.#l();for(const c of a){const h=l.elements=i.get(c.id);l.data=c;const d=cd.create(l);if(!d.isRenderable)continue;const f=d.render();d.contentElement.id=`${ea}${c.id}`,c.hidden&&(f.style.visibility="hidden"),h.at(-1).container.after(f)}this.#o()}async#l(){if(this.#n.length===0)return;this.div.replaceChildren();const t=[];if(!this.#r){this.#r=!0;for(const{contentElement:A,data:{id:i}}of this.#n){const a=A.id=`${ea}${i}`;t.push(this.#a?.getAriaAttributes(a).then(l=>{if(l)for(const[c,h]of l)A.setAttribute(c,h)}))}}this.#n.sort(({data:{rect:[A,i,a,l]}},{data:{rect:[c,h,d,f]}})=>{if(A===a&&i===l)return 1;if(c===d&&h===f)return-1;const m=l,w=i,v=(i+l)/2,b=f,y=h,x=(h+f)/2;if(v>=b&&x<=w)return-1;if(x>=m&&v<=y)return 1;const E=(A+a)/2,U=(c+d)/2;return E-U});const e=document.createDocumentFragment();for(const A of this.#n)e.append(A.container),this._commentManager?(A.extraPopupElement?.popup||A.popup)?.renderCommentButton():A.extraPopupElement&&e.append(A.extraPopupElement.render());if(this.div.append(e),await Promise.all(t),this.#t)for(const A of this.#n)this.#t.addPointerInTextLayer(A.contentElement,!1)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#i,svgFactory:new rc,parent:this};for(const A of t){A.borderStyle||=Lf._defaultBorderStyle,e.data=A;const i=cd.create(e);i.isRenderable&&(i.render(),i.contentElement.id=`${ea}${A.id}`,this.#n.push(i))}await this.#l()}update({viewport:t}){const e=this.div;this.viewport=t,ti(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,A]of this.#e){const i=t.querySelector(`[data-annotation-id="${e}"]`);if(!i)continue;A.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(A):a.classList.contains("annotationContent")?a.after(A):a.before(A):i.append(A);const l=this.#A.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,i.id,A),l._hasNoCanvas=!1):l.canvas=A)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#A.values())}getEditableAnnotation(t){return this.#A.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:A,rotation:i}=t,a=new ex({data:{id:A,rect:t.getPDFRect(),rotation:i},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#i,annotationStorage:this.#s});return a.render(),a.contentElement.id=`${ea}${A}`,a.createOrUpdatePopup(),this.#n.push(a),a}removeAnnotation(t){const e=this.#n.findIndex(i=>i.data.id===t);if(e<0)return;const[A]=this.#n.splice(e,1);this.#t?.removePointerInTextLayer(A.contentElement)}updateFakeAnnotations(t){if(t.length!==0){for(const e of t)e.updateFakeAnnotationElement(this);this.#l()}}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}static get _defaultBorderStyle(){return Et(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ji.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const xl=/\r\n?|\n/g;class Ne extends Bt{#t="";#e=`${this.id}-editor`;#s=null;#A;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Ne.prototype,e=a=>a.isEmpty(),A=bn.TRANSLATE_SMALL,i=bn.TRANSLATE_BIG;return Et(this,"_keyboardManager",new qr([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-A,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[A,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-A],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,A],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}]]))}static _type="freetext";static _editorType=xt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Ne._defaultColor||Bt._defaultLineColor,this.#A=t.fontSize||Ne._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(t,e){Bt.initialize(t,e);const A=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(A.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Lt.FREETEXT_SIZE:Ne._defaultFontSize=e;break;case Lt.FREETEXT_COLOR:Ne._defaultColor=e;break}}updateParams(t,e){switch(t){case Lt.FREETEXT_SIZE:this.#a(e);break;case Lt.FREETEXT_COLOR:this.#i(e);break}}static get defaultPropertiesToUpdate(){return[[Lt.FREETEXT_SIZE,Ne._defaultFontSize],[Lt.FREETEXT_COLOR,Ne._defaultColor||Bt._defaultLineColor]]}get propertiesToUpdate(){return[[Lt.FREETEXT_SIZE,this.#A],[Lt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new jr(this),[["colorPicker",this._colorPicker]]}get colorType(){return Lt.FREETEXT_COLOR}#a(t){const e=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#A)*this.parentScale),this.#A=i,this.#r()},A=this.#A;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,A),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#i(t){const e=i=>{this.color=i,this.onUpdatedColor()},A=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,A),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ne._internalPadding*t,-(Ne._internalPadding+this.#A)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#s=new AbortController;const t=this._uiManager.combinedSignal(this.#s);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#s?.abort(),this.#s=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#n(){const t=[];this.editorDiv.normalize();let e=null;for(const A of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&A.nodeName==="BR"||(t.push(Ne.#l(A)),e=A);return t.join(`
`)}#r(){const[t,e]=this.parentDimensions;let A;if(this.isAttachedToDOM)A=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,l=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),A=a.getBoundingClientRect(),a.remove(),a.style.display=l,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=A.width/t,this.height=A.height/e):(this.width=A.height/t,this.height=A.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#n().trimEnd();if(t===e)return;const A=i=>{if(this.#t=i,!i){this.remove();return}this.#o(),this._uiManager.rebuild(this),this.#r()};this.addCommands({cmd:()=>{A(e)},undo:()=>{A(t)},mustExec:!1}),this.#r()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ne._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:A}=this.editorDiv;if(A.fontSize=`calc(${this.#A}px * var(--total-scale-factor))`,A.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,h]=this.getInitialTranslation();[c,h]=this.pageTranslationToScreen(c,h);const[d,f]=this.pageDimensions,[m,w]=this.pageTranslation;let v,b;switch(this.rotation){case 0:v=t+(l[0]-m)/d,b=e+this.height-(l[1]-w)/f;break;case 90:v=t+(l[0]-m)/d,b=e-(l[1]-w)/f,[c,h]=[h,-c];break;case 180:v=t-this.width+(l[0]-m)/d,b=e-(l[1]-w)/f,[c,h]=[-c,-h];break;case 270:v=t+(l[0]-m-this.height*f)/d,b=e+(l[1]-w-this.width*d)/f,[c,h]=[-h,c];break}this.setAt(v*i,b*a,c,h)}else this._moveAfterPaste(t,e);this.#o(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(xl,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:A}=e;if(A.length===1&&A[0]==="text/plain")return;t.preventDefault();const i=Ne.#u(e.getData("text")||"").replaceAll(xl,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const l=a.getRangeAt(0);if(!i.includes(`
`)){l.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:h}=l,d=[],f=[];if(c.nodeType===Node.TEXT_NODE){const v=c.parentElement;if(f.push(c.nodeValue.slice(h).replaceAll(xl,"")),v!==this.editorDiv){let b=d;for(const y of this.editorDiv.childNodes){if(y===v){b=f;continue}b.push(Ne.#l(y))}}d.push(c.nodeValue.slice(0,h).replaceAll(xl,""))}else if(c===this.editorDiv){let v=d,b=0;for(const y of this.editorDiv.childNodes)b++===h&&(v=f),v.push(Ne.#l(y))}this.#t=`${d.join(`
`)}${i}${f.join(`
`)}`,this.#o();const m=new Range;let w=Math.sumPrecise(d.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const b=v.nodeValue.length;if(w<=b){m.setStart(v,w),m.setEnd(v,w);break}w-=b}a.removeAllRanges(),a.addRange(m)}#o(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#h(){return this.#t.replaceAll(""," ")}static#u(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Ne._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,A){let i=null;if(t instanceof wv){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:d,id:f,popupRef:m,richText:w,contentsObj:v,creationDate:b,modificationDate:y},textContent:x,textPosition:E,parent:{page:{pageNumber:U}}}=t;if(!x||x.length===0)return null;i=t={annotationType:xt.FREETEXT,color:Array.from(c),fontSize:l,value:x.join(`
`),position:E,pageIndex:U-1,rect:h.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:m,comment:v?.str||null,richText:w,creationDate:b,modificationDate:y}}const a=await super.deserialize(t,e,A);return a.#A=t.fontSize,a.color=gt.makeHexColor(...t.color),a.#t=Ne.#u(t.value),a._initialData=i,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Bt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),A=Object.assign(super.serialize(t),{color:e,fontSize:this.#A,value:this.#h()});return this.addComment(A),t?(A.isCopy=!0,A):this.annotationElementId&&!this.#d(A)?null:(A.id=this.annotationElementId,A)}#d(t){const{value:e,fontSize:A,color:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==A||t.color.some((l,c)=>l!==i[c])||t.pageIndex!==a}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:A}=e;A.fontSize=`calc(${this.#A}px * var(--total-scale-factor))`,A.color=this.color,e.replaceChildren();for(const i of this.#t.split(`
`)){const a=document.createElement("div");a.append(i?document.createTextNode(i):document.createElement("br")),e.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class dt{static PRECISION=1e-4;toSVGPath(){$t("Abstract method `toSVGPath` must be implemented.")}get box(){$t("Abstract getter `box` must be implemented.")}serialize(t,e){$t("Abstract method `serialize` must be implemented.")}static _rescale(t,e,A,i,a,l){l||=new Float32Array(t.length);for(let c=0,h=t.length;c<h;c+=2)l[c]=e+t[c]*i,l[c+1]=A+t[c+1]*a;return l}static _rescaleAndSwap(t,e,A,i,a,l){l||=new Float32Array(t.length);for(let c=0,h=t.length;c<h;c+=2)l[c]=e+t[c+1]*i,l[c+1]=A+t[c]*a;return l}static _translate(t,e,A,i){i||=new Float32Array(t.length);for(let a=0,l=t.length;a<l;a+=2)i[a]=e+t[a],i[a+1]=A+t[a+1];return i}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,A,i,a){switch(a){case 90:return[1-e/A,t/i];case 180:return[1-t/A,1-e/i];case 270:return[e/A,1-t/i];default:return[t/A,e/i]}}static _normalizePagePoint(t,e,A){switch(A){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,A,i,a,l){return[(t+5*A)/6,(e+5*i)/6,(5*A+a)/6,(5*i+l)/6,(A+a)/2,(i+l)/2]}}class Xn{#t;#e=[];#s;#A;#a=[];#i=new Float32Array(18);#n;#r;#l;#o;#h;#u;#d=[];static#p=8;static#g=2;static#c=Xn.#p+Xn.#g;constructor({x:t,y:e},A,i,a,l,c=0){this.#t=A,this.#u=a*i,this.#A=l,this.#i.set([NaN,NaN,NaN,NaN,t,e],6),this.#s=c,this.#o=Xn.#p*i,this.#l=Xn.#c*i,this.#h=i,this.#d.push(t,e)}isEmpty(){return isNaN(this.#i[8])}#f(){const t=this.#i.subarray(4,6),e=this.#i.subarray(16,18),[A,i,a,l]=this.#t;return[(this.#n+(t[0]-e[0])/2-A)/a,(this.#r+(t[1]-e[1])/2-i)/l,(this.#n+(e[0]-t[0])/2-A)/a,(this.#r+(e[1]-t[1])/2-i)/l]}add({x:t,y:e}){this.#n=t,this.#r=e;const[A,i,a,l]=this.#t;let[c,h,d,f]=this.#i.subarray(8,12);const m=t-d,w=e-f,v=Math.hypot(m,w);if(v<this.#l)return!1;const b=v-this.#o,y=b/v,x=y*m,E=y*w;let U=c,S=h;c=d,h=f,d+=x,f+=E,this.#d?.push(t,e);const T=-E/b,_=x/b,D=T*this.#u,F=_*this.#u;return this.#i.set(this.#i.subarray(2,8),0),this.#i.set([d+D,f+F],4),this.#i.set(this.#i.subarray(14,18),12),this.#i.set([d-D,f-F],16),isNaN(this.#i[6])?(this.#a.length===0&&(this.#i.set([c+D,h+F],2),this.#a.push(NaN,NaN,NaN,NaN,(c+D-A)/a,(h+F-i)/l),this.#i.set([c-D,h-F],14),this.#e.push(NaN,NaN,NaN,NaN,(c-D-A)/a,(h-F-i)/l)),this.#i.set([U,S,c,h,d,f],6),!this.isEmpty()):(this.#i.set([U,S,c,h,d,f],6),Math.abs(Math.atan2(S-h,U-c)-Math.atan2(E,x))<Math.PI/2?([c,h,d,f]=this.#i.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((c+d)/2-A)/a,((h+f)/2-i)/l),[c,h,U,S]=this.#i.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((U+c)/2-A)/a,((S+h)/2-i)/l),!0):([U,S,c,h,d,f]=this.#i.subarray(0,6),this.#a.push(((U+5*c)/6-A)/a,((S+5*h)/6-i)/l,((5*c+d)/6-A)/a,((5*h+f)/6-i)/l,((c+d)/2-A)/a,((h+f)/2-i)/l),[d,f,c,h,U,S]=this.#i.subarray(12,18),this.#e.push(((U+5*c)/6-A)/a,((S+5*h)/6-i)/l,((5*c+d)/6-A)/a,((5*h+f)/6-i)/l,((c+d)/2-A)/a,((h+f)/2-i)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#i[6])&&!this.isEmpty())return this.#m();const A=[];A.push(`M${t[4]} ${t[5]}`);for(let i=6;i<t.length;i+=6)isNaN(t[i])?A.push(`L${t[i+4]} ${t[i+5]}`):A.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);this.#B(A);for(let i=e.length-6;i>=6;i-=6)isNaN(e[i])?A.push(`L${e[i+4]} ${e[i+5]}`):A.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);return this.#w(A),A.join(" ")}#m(){const[t,e,A,i]=this.#t,[a,l,c,h]=this.#f();return`M${(this.#i[2]-t)/A} ${(this.#i[3]-e)/i} L${(this.#i[4]-t)/A} ${(this.#i[5]-e)/i} L${a} ${l} L${c} ${h} L${(this.#i[16]-t)/A} ${(this.#i[17]-e)/i} L${(this.#i[14]-t)/A} ${(this.#i[15]-e)/i} Z`}#w(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#B(t){const[e,A,i,a]=this.#t,l=this.#i.subarray(4,6),c=this.#i.subarray(16,18),[h,d,f,m]=this.#f();t.push(`L${(l[0]-e)/i} ${(l[1]-A)/a} L${h} ${d} L${f} ${m} L${(c[0]-e)/i} ${(c[1]-A)/a}`)}newFreeDrawOutline(t,e,A,i,a,l){return new bv(t,e,A,i,a,l)}getOutlines(){const t=this.#a,e=this.#e,A=this.#i,[i,a,l,c]=this.#t,h=new Float32Array((this.#d?.length??0)+2);for(let m=0,w=h.length-2;m<w;m+=2)h[m]=(this.#d[m]-i)/l,h[m+1]=(this.#d[m+1]-a)/c;if(h[h.length-2]=(this.#n-i)/l,h[h.length-1]=(this.#r-a)/c,isNaN(A[6])&&!this.isEmpty())return this.#x(h);const d=new Float32Array(this.#a.length+24+this.#e.length);let f=t.length;for(let m=0;m<f;m+=2){if(isNaN(t[m])){d[m]=d[m+1]=NaN;continue}d[m]=t[m],d[m+1]=t[m+1]}f=this.#y(d,f);for(let m=e.length-6;m>=6;m-=6)for(let w=0;w<6;w+=2){if(isNaN(e[m+w])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=e[m+w],d[f+1]=e[m+w+1],f+=2}return this.#b(d,f),this.newFreeDrawOutline(d,h,this.#t,this.#h,this.#s,this.#A)}#x(t){const e=this.#i,[A,i,a,l]=this.#t,[c,h,d,f]=this.#f(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(e[2]-A)/a,(e[3]-i)/l,NaN,NaN,NaN,NaN,(e[4]-A)/a,(e[5]-i)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(e[16]-A)/a,(e[17]-i)/l,NaN,NaN,NaN,NaN,(e[14]-A)/a,(e[15]-i)/l],0),this.newFreeDrawOutline(m,t,this.#t,this.#h,this.#s,this.#A)}#b(t,e){const A=this.#e;return t.set([NaN,NaN,NaN,NaN,A[4],A[5]],e),e+=6}#y(t,e){const A=this.#i.subarray(4,6),i=this.#i.subarray(16,18),[a,l,c,h]=this.#t,[d,f,m,w]=this.#f();return t.set([NaN,NaN,NaN,NaN,(A[0]-a)/c,(A[1]-l)/h,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,m,w,NaN,NaN,NaN,NaN,(i[0]-a)/c,(i[1]-l)/h],e),e+=24}}class bv extends dt{#t;#e=new Float32Array(4);#s;#A;#a;#i;#n;constructor(t,e,A,i,a,l){super(),this.#n=t,this.#a=e,this.#t=A,this.#i=i,this.#s=a,this.#A=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#r(l);const[c,h,d,f]=this.#e;for(let m=0,w=t.length;m<w;m+=2)t[m]=(t[m]-c)/d,t[m+1]=(t[m+1]-h)/f;for(let m=0,w=e.length;m<w;m+=2)e[m]=(e[m]-c)/d,e[m+1]=(e[m+1]-h)/f}toSVGPath(){const t=[`M${this.#n[4]} ${this.#n[5]}`];for(let e=6,A=this.#n.length;e<A;e+=6){if(isNaN(this.#n[e])){t.push(`L${this.#n[e+4]} ${this.#n[e+5]}`);continue}t.push(`C${this.#n[e]} ${this.#n[e+1]} ${this.#n[e+2]} ${this.#n[e+3]} ${this.#n[e+4]} ${this.#n[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,A,i],a){const l=A-t,c=i-e;let h,d;switch(a){case 0:h=dt._rescale(this.#n,t,i,l,-c),d=dt._rescale(this.#a,t,i,l,-c);break;case 90:h=dt._rescaleAndSwap(this.#n,t,e,l,c),d=dt._rescaleAndSwap(this.#a,t,e,l,c);break;case 180:h=dt._rescale(this.#n,A,e,-l,c),d=dt._rescale(this.#a,A,e,-l,c);break;case 270:h=dt._rescaleAndSwap(this.#n,A,i,-l,-c),d=dt._rescaleAndSwap(this.#a,A,i,-l,-c);break}return{outline:Array.from(h),points:[Array.from(d)]}}#r(t){const e=this.#n;let A=e[4],i=e[5];const a=[A,i,A,i];let l=A,c=i,h=A,d=i;const f=t?Math.max:Math.min,m=new Float32Array(4);for(let v=6,b=e.length;v<b;v+=6){const y=e[v+4],x=e[v+5];isNaN(e[v])?(gt.pointBoundingBox(y,x,a),c>x?(l=y,c=x):c===x&&(l=f(l,y)),d<x?(h=y,d=x):d===x&&(h=f(h,y))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,gt.bezierBoundingBox(A,i,...e.slice(v,v+6),m),gt.rectBoundingBox(m[0],m[1],m[2],m[3],a),c>m[1]?(l=m[0],c=m[1]):c===m[1]&&(l=f(l,m[0])),d<m[3]?(h=m[2],d=m[3]):d===m[3]&&(h=f(h,m[2]))),A=y,i=x}const w=this.#e;w[0]=a[0]-this.#s,w[1]=a[1]-this.#s,w[2]=a[2]-a[0]+2*this.#s,w[3]=a[3]-a[1]+2*this.#s,this.firstPoint=[l,c],this.lastPoint=[h,d]}get box(){return this.#e}newOutliner(t,e,A,i,a,l=0){return new Xn(t,e,A,i,a,l)}getNewOutline(t,e){const[A,i,a,l]=this.#e,[c,h,d,f]=this.#t,m=a*d,w=l*f,v=A*d+c,b=i*f+h,y=this.newOutliner({x:this.#a[0]*m+v,y:this.#a[1]*w+b},this.#t,this.#i,t,this.#A,e??this.#s);for(let x=2;x<this.#a.length;x+=2)y.add({x:this.#a[x]*m+v,y:this.#a[x+1]*w+b});return y.getOutlines()}}class Xd{#t;#e;#s;#A=[];#a=[];constructor(t,e=0,A=0,i=!0){const a=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:y,y:x,width:E,height:U}of t){const S=Math.floor((y-e)/l)*l,T=Math.ceil((y+E+e)/l)*l,_=Math.floor((x-e)/l)*l,D=Math.ceil((x+U+e)/l)*l,F=[S,_,D,!0],O=[T,_,D,!1];this.#A.push(F,O),gt.rectBoundingBox(S,_,T,D,a)}const c=a[2]-a[0]+2*A,h=a[3]-a[1]+2*A,d=a[0]-A,f=a[1]-A;let m=i?-1/0:1/0,w=1/0;const v=this.#A.at(i?-1:-2),b=[v[0],v[2]];for(const y of this.#A){const[x,E,U,S]=y;!S&&i?E<w?(w=E,m=x):E===w&&(m=Math.max(m,x)):S&&!i&&(E<w?(w=E,m=x):E===w&&(m=Math.min(m,x))),y[0]=(x-d)/c,y[1]=(E-f)/h,y[2]=(U-f)/h}this.#t=new Float32Array([d,f,c,h]),this.#e=[m,w],this.#s=b}getOutlines(){this.#A.sort((e,A)=>e[0]-A[0]||e[1]-A[1]||e[2]-A[2]);const t=[];for(const e of this.#A)e[3]?(t.push(...this.#o(e)),this.#r(e)):(this.#l(e),t.push(...this.#o(e)));return this.#i(t)}#i(t){const e=[],A=new Set;for(const l of t){const[c,h,d]=l;e.push([c,h,l],[c,d,l])}e.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=e.length;l<c;l+=2){const h=e[l][2],d=e[l+1][2];h.push(d),d.push(h),A.add(h),A.add(d)}const i=[];let a;for(;A.size>0;){const l=A.values().next().value;let[c,h,d,f,m]=l;A.delete(l);let w=c,v=h;for(a=[c,d],i.push(a);;){let b;if(A.has(f))b=f;else if(A.has(m))b=m;else break;A.delete(b),[c,h,d,f,m]=b,w!==c&&(a.push(w,v,c,v===h?h:d),w=c),v=v===h?d:h}a.push(w,v)}return new Bx(i,this.#t,this.#e,this.#s)}#n(t){const e=this.#a;let A=0,i=e.length-1;for(;A<=i;){const a=A+i>>1,l=e[a][0];if(l===t)return a;l<t?A=a+1:i=a-1}return i+1}#r([,t,e]){const A=this.#n(t);this.#a.splice(A,0,[t,e])}#l([,t,e]){const A=this.#n(t);for(let i=A;i<this.#a.length;i++){const[a,l]=this.#a[i];if(a!==t)break;if(a===t&&l===e){this.#a.splice(i,1);return}}for(let i=A-1;i>=0;i--){const[a,l]=this.#a[i];if(a!==t)break;if(a===t&&l===e){this.#a.splice(i,1);return}}}#o(t){const[e,A,i]=t,a=[[e,A,i]],l=this.#n(i);for(let c=0;c<l;c++){const[h,d]=this.#a[c];for(let f=0,m=a.length;f<m;f++){const[,w,v]=a[f];if(!(d<=w||v<=h)){if(w>=h){if(v>d)a[f][1]=d;else{if(m===1)return[];a.splice(f,1),f--,m--}continue}a[f][2]=h,v>d&&a.push([e,d,v])}}}return a}}class Bx extends dt{#t;#e;constructor(t,e,A,i){super(),this.#e=t,this.#t=e,this.firstPoint=A,this.lastPoint=i}toSVGPath(){const t=[];for(const e of this.#e){let[A,i]=e;t.push(`M${A} ${i}`);for(let a=2;a<e.length;a+=2){const l=e[a],c=e[a+1];l===A?(t.push(`V${c}`),i=c):c===i&&(t.push(`H${l}`),A=l)}t.push("Z")}return t.join(" ")}serialize([t,e,A,i],a){const l=[],c=A-t,h=i-e;for(const d of this.#e){const f=new Array(d.length);for(let m=0;m<d.length;m+=2)f[m]=t+d[m]*c,f[m+1]=i-d[m+1]*h;l.push(f)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Yd extends Xn{newFreeDrawOutline(t,e,A,i,a,l){return new wx(t,e,A,i,a,l)}}class wx extends bv{newOutliner(t,e,A,i,a,l=0){return new Yd(t,e,A,i,a,l)}}class me extends Bt{#t=null;#e=0;#s;#A=null;#a=null;#i=null;#n=null;#r=0;#l=null;#o=null;#h=null;#u=!1;#d=null;#p=null;#g=null;#c="";#f;#m="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=xt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=me.prototype;return Et(this,"_keyboardManager",new qr([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||me._defaultColor,this.#f=t.thickness||me._defaultThickness,this.opacity=t.opacity||me._defaultOpacity,this.#s=t.boxes||null,this.#m=t.methodOfCreation||"",this.#c=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#B(t),this.#v()):this.#s&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#n=t.focusNode,this.#r=t.focusOffset,this.#w(),this.#v(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#f,methodOfCreation:this.#m}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#w(){const t=new Xd(this.#s,.001);this.#o=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#o.box;const e=new Xd(this.#s,.0025,.001,this._uiManager.direction==="ltr");this.#i=e.getOutlines();const{firstPoint:A}=this.#o;this.#d=[(A[0]-this.x)/this.width,(A[1]-this.y)/this.height];const{lastPoint:i}=this.#i;this.#p=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#B({highlightOutlines:t,highlightId:e,clipPathId:A}){this.#o=t;const i=1.5;if(this.#i=t.getNewOutline(this.#f/2+i,.0025),e>=0)this.#h=e,this.#A=A,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:me.#E(this.#o.box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:me.#E(this.#i.box,m),path:{d:this.#i.toSVGPath()}})}const[a,l,c,h]=t.box;switch(this.rotation){case 0:this.x=a,this.y=l,this.width=c,this.height=h;break;case 90:{const[m,w]=this.parentDimensions;this.x=l,this.y=1-a,this.width=c*w/m,this.height=h*m/w;break}case 180:this.x=1-a,this.y=1-l,this.width=c,this.height=h;break;case 270:{const[m,w]=this.parentDimensions;this.x=1-l,this.y=a,this.width=c*w/m,this.height=h*m/w;break}}const{firstPoint:d}=t;this.#d=[(d[0]-a)/c,(d[1]-l)/h];const{lastPoint:f}=this.#i;this.#p=[(f[0]-a)/c,(f[1]-l)/h]}static initialize(t,e){Bt.initialize(t,e),me._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Lt.HIGHLIGHT_COLOR:me._defaultColor=e;break;case Lt.HIGHLIGHT_THICKNESS:me._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#p}get commentButtonPosition(){return this.#d}updateParams(t,e){switch(t){case Lt.HIGHLIGHT_COLOR:this.#x(e);break;case Lt.HIGHLIGHT_THICKNESS:this.#b(e);break}}static get defaultPropertiesToUpdate(){return[[Lt.HIGHLIGHT_COLOR,me._defaultColor],[Lt.HIGHLIGHT_THICKNESS,me._defaultThickness]]}get propertiesToUpdate(){return[[Lt.HIGHLIGHT_COLOR,this.color||me._defaultColor],[Lt.HIGHLIGHT_THICKNESS,this.#f||me._defaultThickness],[Lt.HIGHLIGHT_FREE,this.#u]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#x(t){const e=(a,l)=>{this.color=a,this.opacity=l,this.onUpdatedColor()},A=this.color,i=this.opacity;this.addCommands({cmd:e.bind(this,t,me._defaultOpacity),undo:e.bind(this,A,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#b(t){const e=this.#f,A=i=>{this.#f=i,this.#y(i)};this.addCommands({cmd:A.bind(this,t),undo:A.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new kA({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#F())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#F())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#Q(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#v(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#Q():t&&(this.#v(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#y(t){this.#u&&(this.#B({highlightOutlines:this.#o.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())}#Q(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#v(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#A}=t.drawLayer.draw({bbox:this.#o.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#u},path:{d:this.#o.toSVGPath()}},!1,!0),this.#g=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},this.#u),this.#l&&(this.#l.style.clipPath=this.#A))}static#E([t,e,A,i],a){switch(a){case 90:return[1-e-i,t,i,A];case 180:return[1-t-A,1-e-i,A,i];case 270:return[e,1-t-A,i,A]}return[t,e,A,i]}rotate(t){const{drawLayer:e}=this.parent;let A;this.#u?(t=(t-this.rotation+360)%360,A=me.#E(this.#o.box,t)):A=me.#E([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#h,{bbox:A,root:{"data-main-rotation":t}}),e.updateProperties(this.#g,{bbox:me.#E(this.#i.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#c&&(t.setAttribute("aria-label",this.#c),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#T.bind(this),{signal:this._uiManager._signal});const e=this.#l=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#A,this.setDims(),$w(this,this.#l,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#T(t){me._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#U(!0);break;case 1:case 3:this.#U(!1);break}}#U(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#n,this.#r)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#u||this.#U(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!t}}))}#F(){return this.#u?this.rotation:0}#M(){if(this.#u)return null;const[t,e]=this.pageDimensions,[A,i]=this.pageTranslation,a=this.#s,l=new Float32Array(a.length*8);let c=0;for(const{x:h,y:d,width:f,height:m}of a){const w=h*t+A,v=(1-d)*e+i;l[c]=l[c+4]=w,l[c+1]=l[c+3]=v,l[c+2]=l[c+6]=w+f*t,l[c+5]=l[c+7]=v-m*e,c+=8}return l}#D(t){return this.#o.serialize(t,this.#F())}static startHighlighting(t,e,{target:A,x:i,y:a}){const{x:l,y:c,width:h,height:d}=A.getBoundingClientRect(),f=new AbortController,m=t.combinedSignal(f),w=v=>{f.abort(),this.#R(t,v)};window.addEventListener("blur",w,{signal:m}),window.addEventListener("pointerup",w,{signal:m}),window.addEventListener("pointerdown",de,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",VA,{signal:m}),A.addEventListener("pointermove",this.#H.bind(this,t),{signal:m}),this._freeHighlight=new Yd({x:i,y:a},[l,c,h,d],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#H(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#R(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,A){let i=null;if(t instanceof yv){const{data:{quadPoints:b,rect:y,rotation:x,id:E,color:U,opacity:S,popupRef:T,richText:_,contentsObj:D,creationDate:F,modificationDate:O},parent:{page:{pageNumber:K}}}=t;i=t={annotationType:xt.HIGHLIGHT,color:Array.from(U),opacity:S,quadPoints:b,boxes:null,pageIndex:K-1,rect:y.slice(0),rotation:x,annotationElementId:E,id:E,deleted:!1,popupRef:T,richText:_,comment:D?.str||null,creationDate:F,modificationDate:O}}else if(t instanceof Hf){const{data:{inkLists:b,rect:y,rotation:x,id:E,color:U,borderStyle:{rawWidth:S},popupRef:T,richText:_,contentsObj:D,creationDate:F,modificationDate:O},parent:{page:{pageNumber:K}}}=t;i=t={annotationType:xt.HIGHLIGHT,color:Array.from(U),thickness:S,inkLists:b,boxes:null,pageIndex:K-1,rect:y.slice(0),rotation:x,annotationElementId:E,id:E,deleted:!1,popupRef:T,richText:_,comment:D?.str||null,creationDate:F,modificationDate:O}}const{color:a,quadPoints:l,inkLists:c,opacity:h}=t,d=await super.deserialize(t,e,A);d.color=gt.makeHexColor(...a),d.opacity=h||1,c&&(d.#f=t.thickness),d._initialData=i,t.comment&&d.setCommentData(t);const[f,m]=d.pageDimensions,[w,v]=d.pageTranslation;if(l){const b=d.#s=[];for(let y=0;y<l.length;y+=8)b.push({x:(l[y]-w)/f,y:1-(l[y+1]-v)/m,width:(l[y+2]-l[y])/f,height:(l[y+1]-l[y+5])/m});d.#w(),d.#v(),d.rotate(d.rotation)}else if(c){d.#u=!0;const b=c[0],y={x:b[0]-w,y:m-(b[1]-v)},x=new Yd(y,[0,0,f,m],1,d.#f/2,!0,.001);for(let S=0,T=b.length;S<T;S+=2)y.x=b[S]-w,y.y=m-(b[S+1]-v),x.add(y);const{id:E,clipPathId:U}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:x.toSVGPath()}},!0,!0);d.#B({highlightOutlines:x.getOutlines(),highlightId:E,clipPathId:U}),d.#v(),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=Bt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),A=super.serialize(t);return Object.assign(A,{color:e,opacity:this.opacity,thickness:this.#f,quadPoints:this.#M(),outlines:this.#D(A.rect)}),this.addComment(A),this.annotationElementId&&!this.#L(A)?null:(A.id=this.annotationElementId,A)}#L(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((A,i)=>A!==e[i])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class Ev{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,A]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,A)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){$t("Not implemented")}}class jt extends Bt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#s=null;static#A=null;static#a=null;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#i(t),this.#l())}#i({drawOutlines:t,drawId:e,drawingOptions:A}){this.#t=t,this._drawingOptions||=A,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#n(t,this.parent),this.#u(t.box)}#n(t,e){const{id:A}=e.drawLayer.draw(jt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return A}static _mergeSVGProperties(t,e){const A=new Set(Object.keys(t));for(const[i,a]of Object.entries(e))A.has(i)?Object.assign(t[i],a):t[i]=a;return t}static getDefaultDrawingOptions(t){$t("Not implemented")}static get typesMap(){$t("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const A=this.typesMap.get(t);A&&this._defaultDrawingOptions.updateProperty(A,e),this._currentParent&&(jt.#s.updateProperty(A,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const A=this.constructor.typesMap.get(t);A&&this._updateProperty(t,A,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[A,i]of this.typesMap)t.push([A,e[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[A,i]of this.constructor.typesMap)t.push([A,e[i]]);return t}_updateProperty(t,e,A){const i=this._drawingOptions,a=i[e],l=c=>{i.updateProperty(e,c);const h=this.#t.updateProperty(e,c);h&&this.#u(h),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,A),undo:l.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,jt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#h()),{bbox:this.#d()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,jt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#h()),{bbox:this.#d()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#d()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,jt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#d()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#r(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#l(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#r()):t&&(this._uiManager.addShouldRescale(this),this.#l(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#r(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#l(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#n(this.#t,t)}}#o([t,e,A,i]){const{parentDimensions:[a,l],rotation:c}=this;switch(c){case 90:return[e,1-t,A*(l/a),i*(a/l)];case 180:return[1-t,1-e,A,i];case 270:return[1-e,t,A*(l/a),i*(a/l)];default:return[t,e,A,i]}}#h(){const{x:t,y:e,width:A,height:i,parentDimensions:[a,l],rotation:c}=this;switch(c){case 90:return[1-e,t,A*(a/l),i*(l/a)];case 180:return[1-t,1-e,A,i];case 270:return[e,1-t,A*(a/l),i*(l/a)];default:return[t,e,A,i]}}#u(t){[this.x,this.y,this.width,this.height]=this.#o(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#d(){const{x:t,y:e,width:A,height:i,rotation:a,parentRotation:l,parentDimensions:[c,h]}=this;switch((a*4+l)/90){case 1:return[1-e-i,t,i,A];case 2:return[1-t-A,1-e-i,A,i];case 3:return[e,1-t-A,i,A];case 4:return[t,e-A*(c/h),i*(h/c),A*(c/h)];case 5:return[1-e,t,A*(c/h),i*(h/c)];case 6:return[1-t-i*(h/c),1-e,i*(h/c),A*(c/h)];case 7:return[e-A*(c/h),1-t-i*(h/c),A*(c/h),i*(h/c)];case 8:return[t-A,e-i,A,i];case 9:return[1-e,t-A,i,A];case 10:return[1-t,1-e,A,i];case 11:return[e-i,1-t,i,A];case 12:return[t-i*(h/c),e,i*(h/c),A*(c/h)];case 13:return[1-e-A*(c/h),t-i*(h/c),A*(c/h),i*(h/c)];case 14:return[1-t,1-e-A*(c/h),i*(h/c),A*(c/h)];case 15:return[e,1-t,A*(c/h),i*(h/c)];default:return[t,e,A,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,jt._mergeSVGProperties({bbox:this.#d()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const A=super.render();A.classList.add("draw");const i=document.createElement("div");return A.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),A}static createDrawerInstance(t,e,A,i,a){$t("Not implemented")}static startDrawing(t,e,A,i){const{target:a,offsetX:l,offsetY:c,pointerId:h,pointerType:d}=i;if(Kt.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:f}}=t,{width:m,height:w}=a.getBoundingClientRect(),v=jt.#A=new AbortController,b=t.combinedSignal(v);if(Kt.setPointer(d,h),window.addEventListener("pointerup",y=>{Kt.isSamePointerIdOrRemove(y.pointerId)&&this._endDraw(y)},{signal:b}),window.addEventListener("pointercancel",y=>{Kt.isSamePointerIdOrRemove(y.pointerId)&&this._currentParent.endDrawingSession()},{signal:b}),window.addEventListener("pointerdown",y=>{Kt.isSamePointerType(y.pointerType)&&(Kt.initializeAndAddPointerId(y.pointerId),jt.#s.isCancellable()&&(jt.#s.removeLastElement(),jt.#s.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",VA,{signal:b}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),a.addEventListener("touchmove",y=>{Kt.isSameTimeStamp(y.timeStamp)&&de(y)},{signal:b}),t.toggleDrawing(),e._editorUndoBar?.hide(),jt.#s){t.drawLayer.updateProperties(this._currentDrawId,jt.#s.startNew(l,c,m,w,f));return}e.updateUIForDefaultProperties(this),jt.#s=this.createDrawerInstance(l,c,m,w,f),jt.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(jt.#a.toSVGProperties(),jt.#s.defaultSVGProperties),!0,!1)}static _drawMove(t){if(Kt.isSameTimeStamp(t.timeStamp),!jt.#s)return;const{offsetX:e,offsetY:A,pointerId:i}=t;if(Kt.isSamePointerId(i)){if(Kt.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,jt.#s.add(e,A)),Kt.setTimeStamp(t.timeStamp),de(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,jt.#s=null,jt.#a=null,Kt.clearPointerType(),Kt.clearTimeStamp()),jt.#A&&(jt.#A.abort(),jt.#A=null,Kt.clearPointerIds())}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,jt.#s.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const A=jt.#s,i=this._currentDrawId,a=A.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(i,A.setLastElement(a))},undo:()=>{e.drawLayer.updateProperties(i,A.removeLastElement())},mustExec:!1,type:Lt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Lt.DRAW_STEP),!jt.#s.isEmpty()){const{pageDimensions:[A,i],scale:a}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:jt.#s.getOutlines(A*a,i*a,a,this._INNER_MARGIN),drawingOptions:jt.#a,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,A,i,a,l){$t("Not implemented")}static async deserialize(t,e,A){const{rawDims:{pageWidth:i,pageHeight:a,pageX:l,pageY:c}}=e.viewport,h=this.deserializeDraw(l,c,i,a,this._INNER_MARGIN,t),d=await super.deserialize(t,e,A);return d.createDrawingOptions(t),d.#i({drawOutlines:h}),d.#l(),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[e,A]=this.pageTranslation,[i,a]=this.pageDimensions;return this.#t.serialize([e,A,i,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class vx{#t=new Float64Array(6);#e;#s;#A;#a;#i;#n="";#r=0;#l=new Wr;#o;#h;constructor(t,e,A,i,a,l){this.#o=A,this.#h=i,this.#A=a,this.#a=l,[t,e]=this.#u(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#i=[t,e],this.#s=[{line:c,points:this.#i}],this.#t.set(c,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#u(t,e){return dt._normalizePoint(t,e,this.#o,this.#h,this.#A)}isEmpty(){return!this.#s||this.#s.length===0}isCancellable(){return this.#i.length<=10}add(t,e){[t,e]=this.#u(t,e);const[A,i,a,l]=this.#t.subarray(2,6),c=t-a,h=e-l;return Math.hypot(this.#o*c,this.#h*h)<=2?null:(this.#i.push(t,e),isNaN(A)?(this.#t.set([a,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([A,i,a,l,t,e],0),this.#e.push(...dt.createBezierPoints(A,i,a,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const A=this.add(t,e);return A||(this.#i.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,A,i,a){this.#o=A,this.#h=i,this.#A=a,[t,e]=this.#u(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#i=[t,e];const c=this.#s.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#s.push({line:l,points:this.#i}),this.#t.set(l,0),this.#r=0,this.toSVGPath(),null}getLastElement(){return this.#s.at(-1)}setLastElement(t){return this.#s?(this.#s.push(t),this.#e=t.line,this.#i=t.points,this.#r=0,{path:{d:this.toSVGPath()}}):this.#l.setLastElement(t)}removeLastElement(){if(!this.#s)return this.#l.removeLastElement();this.#s.pop(),this.#n="";for(let t=0,e=this.#s.length;t<e;t++){const{line:A,points:i}=this.#s[t];this.#e=A,this.#i=i,this.#r=0,this.toSVGPath()}return{path:{d:this.#n}}}toSVGPath(){const t=dt.svgRound(this.#e[4]),e=dt.svgRound(this.#e[5]);if(this.#i.length===2)return this.#n=`${this.#n} M ${t} ${e} Z`,this.#n;if(this.#i.length<=6){const i=this.#n.lastIndexOf("M");this.#n=`${this.#n.slice(0,i)} M ${t} ${e}`,this.#r=6}if(this.#i.length===4){const i=dt.svgRound(this.#e[10]),a=dt.svgRound(this.#e[11]);return this.#n=`${this.#n} L ${i} ${a}`,this.#r=12,this.#n}const A=[];this.#r===0&&(A.push(`M ${t} ${e}`),this.#r=6);for(let i=this.#r,a=this.#e.length;i<a;i+=6){const[l,c,h,d,f,m]=this.#e.slice(i,i+6).map(dt.svgRound);A.push(`C${l} ${c} ${h} ${d} ${f} ${m}`)}return this.#n+=A.join(" "),this.#r=this.#e.length,this.#n}getOutlines(t,e,A,i){const a=this.#s.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#l.build(this.#s,t,e,A,this.#A,this.#a,i),this.#t=null,this.#e=null,this.#s=null,this.#n=null,this.#l}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Wr extends dt{#t;#e=0;#s;#A;#a;#i;#n;#r;#l;build(t,e,A,i,a,l,c){this.#a=e,this.#i=A,this.#n=i,this.#r=a,this.#l=l,this.#s=c??0,this.#A=t,this.#u()}get thickness(){return this.#l}setLastElement(t){return this.#A.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#A.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#A){if(t.push(`M${dt.svgRound(e[4])} ${dt.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${dt.svgRound(e[10])} ${dt.svgRound(e[11])}`);continue}for(let A=6,i=e.length;A<i;A+=6){const[a,l,c,h,d,f]=e.subarray(A,A+6).map(dt.svgRound);t.push(`C${a} ${l} ${c} ${h} ${d} ${f}`)}}return t.join("")}serialize([t,e,A,i],a){const l=[],c=[],[h,d,f,m]=this.#h();let w,v,b,y,x,E,U,S,T;switch(this.#r){case 0:T=dt._rescale,w=t,v=e+i,b=A,y=-i,x=t+h*A,E=e+(1-d-m)*i,U=t+(h+f)*A,S=e+(1-d)*i;break;case 90:T=dt._rescaleAndSwap,w=t,v=e,b=A,y=i,x=t+d*A,E=e+h*i,U=t+(d+m)*A,S=e+(h+f)*i;break;case 180:T=dt._rescale,w=t+A,v=e,b=-A,y=i,x=t+(1-h-f)*A,E=e+d*i,U=t+(1-h)*A,S=e+(d+m)*i;break;case 270:T=dt._rescaleAndSwap,w=t+A,v=e+i,b=-A,y=-i,x=t+(1-d-m)*A,E=e+(1-h-f)*i,U=t+(1-d)*A,S=e+(1-h)*i;break}for(const{line:_,points:D}of this.#A)l.push(T(_,w,v,b,y,a?new Array(_.length):null)),c.push(T(D,w,v,b,y,a?new Array(D.length):null));return{lines:l,points:c,rect:[x,E,U,S]}}static deserialize(t,e,A,i,a,{paths:{lines:l,points:c},rotation:h,thickness:d}){const f=[];let m,w,v,b,y;switch(h){case 0:y=dt._rescale,m=-t/A,w=e/i+1,v=1/A,b=-1/i;break;case 90:y=dt._rescaleAndSwap,m=-e/i,w=-t/A,v=1/i,b=1/A;break;case 180:y=dt._rescale,m=t/A+1,w=-e/i,v=-1/A,b=1/i;break;case 270:y=dt._rescaleAndSwap,m=e/i+1,w=t/A+1,v=-1/i,b=-1/A;break}if(!l){l=[];for(const E of c){const U=E.length;if(U===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(U===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const S=new Float32Array(3*(U-2));l.push(S);let[T,_,D,F]=E.subarray(0,4);S.set([NaN,NaN,NaN,NaN,T,_],0);for(let O=4;O<U;O+=2){const K=E[O],it=E[O+1];S.set(dt.createBezierPoints(T,_,D,F,K,it),(O-2)*3),[T,_,D,F]=[D,F,K,it]}}}for(let E=0,U=l.length;E<U;E++)f.push({line:y(l[E].map(S=>S??NaN),m,w,v,b),points:y(c[E].map(S=>S??NaN),m,w,v,b)});const x=new this.prototype.constructor;return x.build(f,A,i,1,h,d,a),x}#o(t=this.#l){const e=this.#s+t/2*this.#n;return this.#r%180===0?[e/this.#a,e/this.#i]:[e/this.#i,e/this.#a]}#h(){const[t,e,A,i]=this.#t,[a,l]=this.#o(0);return[t+a,e+l,A-2*a,i-2*l]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#A){if(i.length<=12){for(let c=4,h=i.length;c<h;c+=6)gt.pointBoundingBox(i[c],i[c+1],t);continue}let a=i[4],l=i[5];for(let c=6,h=i.length;c<h;c+=6){const[d,f,m,w,v,b]=i.subarray(c,c+6);gt.bezierBoundingBox(a,l,d,f,m,w,v,b,t),a=v,l=b}}const[e,A]=this.#o();t[0]=tA(t[0]-e,0,1),t[1]=tA(t[1]-A,0,1),t[2]=tA(t[2]+e,0,1),t[3]=tA(t[3]+A,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#d(e):null}#d(t){const[e,A]=this.#o();this.#l=t;const[i,a]=this.#o(),[l,c]=[i-e,a-A],h=this.#t;return h[0]-=l,h[1]-=c,h[2]+=2*l,h[3]+=2*c,h}updateParentDimensions([t,e],A){const[i,a]=this.#o();this.#a=t,this.#i=e,this.#n=A;const[l,c]=this.#o(),h=l-i,d=c-a,f=this.#t;return f[0]-=h,f[1]-=d,f[2]+=2*h,f[3]+=2*d,f}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(dt.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let A=0,i=0,a=0,l=0,c=0,h=0;switch(this.#e){case 90:i=e/t,a=-t/e,c=t;break;case 180:A=-1,l=-1,c=t,h=e;break;case 270:i=-e/t,a=t/e,h=e;break;default:return""}return`matrix(${A} ${i} ${a} ${l} ${dt.svgRound(c)} ${dt.svgRound(h)})`}getPathResizingSVGProperties([t,e,A,i]){const[a,l]=this.#o(),[c,h,d,f]=this.#t;if(Math.abs(d-a)<=dt.PRECISION||Math.abs(f-l)<=dt.PRECISION){const y=t+A/2-(c+d/2),x=e+i/2-(h+f/2);return{path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(e)}`,transform:`${this.rotationTransform} translate(${y} ${x})`}}}const m=(A-2*a)/(d-2*a),w=(i-2*l)/(f-2*l),v=d/A,b=f/i;return{path:{"transform-origin":`${dt.svgRound(c)} ${dt.svgRound(h)}`,transform:`${this.rotationTransform} scale(${v} ${b}) translate(${dt.svgRound(a)} ${dt.svgRound(l)}) scale(${m} ${w}) translate(${dt.svgRound(-a)} ${dt.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,A,i]){const[a,l]=this.#o(),c=this.#t,[h,d,f,m]=c;if(c[0]=t,c[1]=e,c[2]=A,c[3]=i,Math.abs(f-a)<=dt.PRECISION||Math.abs(m-l)<=dt.PRECISION){const x=t+A/2-(h+f/2),E=e+i/2-(d+m/2);for(const{line:U,points:S}of this.#A)dt._translate(U,x,E,U),dt._translate(S,x,E,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const w=(A-2*a)/(f-2*a),v=(i-2*l)/(m-2*l),b=-w*(h+a)+t+a,y=-v*(d+l)+e+l;if(w!==1||v!==1||b!==0||y!==0)for(const{line:x,points:E}of this.#A)dt._rescale(x,b,y,w,v,x),dt._rescale(E,b,y,w,v,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],A){const[i,a]=A,l=this.#t,c=t-l[0],h=e-l[1];if(this.#a===i&&this.#i===a)for(const{line:d,points:f}of this.#A)dt._translate(d,c,h,d),dt._translate(f,c,h,f);else{const d=this.#a/i,f=this.#i/a;this.#a=i,this.#i=a;for(const{line:m,points:w}of this.#A)dt._rescale(m,c,h,d,f,m),dt._rescale(w,c,h,d,f,w);l[2]*=d,l[3]*=f}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${dt.svgRound(t[0])} ${dt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class xc extends Ev{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Bt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new xc(this._viewParameters);return t.updateAll(this),t}}class If extends jt{static _type="ink";static _editorType=xt.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Bt.initialize(t,e),this._defaultDrawingOptions=new xc(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Et(this,"typesMap",new Map([[Lt.INK_THICKNESS,"stroke-width"],[Lt.INK_COLOR,"stroke"],[Lt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,A,i,a){return new vx(t,e,A,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,A,i,a,l){return Wr.deserialize(t,e,A,i,a,l)}static async deserialize(t,e,A){let i=null;if(t instanceof Hf){const{data:{inkLists:l,rect:c,rotation:h,id:d,color:f,opacity:m,borderStyle:{rawWidth:w},popupRef:v,richText:b,contentsObj:y,creationDate:x,modificationDate:E},parent:{page:{pageNumber:U}}}=t;i=t={annotationType:xt.INK,color:Array.from(f),thickness:w,opacity:m,paths:{points:l},boxes:null,pageIndex:U-1,rect:c.slice(0),rotation:h,annotationElementId:d,id:d,deleted:!1,popupRef:v,richText:b,comment:y?.str||null,creationDate:x,modificationDate:E}}const a=await super.deserialize(t,e,A);return a._initialData=i,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||=new jr(this),[["colorPicker",this._colorPicker]]}get colorType(){return Lt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:A}=this;e.updateSVGProperty("stroke-width"),A.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:A}){this._drawingOptions=If.getDefaultDrawingOptions({stroke:gt.makeHexColor(...t),"stroke-width":e,"stroke-opacity":A})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:A}=this.serializeDraw(t),{_drawingOptions:{stroke:i,"stroke-opacity":a,"stroke-width":l}}=this,c=Object.assign(super.serialize(t),{color:Bt._colorManager.convert(i),opacity:a,thickness:l,paths:{lines:e,points:A}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!this.#t(c)?null:(c.id=this.annotationElementId,c)}#t(t){const{color:e,thickness:A,opacity:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==e[c])||t.thickness!==A||t.opacity!==i||t.pageIndex!==a}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:A}=this.serializeDraw(!1);return t.updateEdited({rect:A,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class qd extends Wr{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Sl=8,fr=3;class Zi{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,A,i){return A-=t,i-=e,A===0?i>0?0:4:A===1?i+6:2-i}static#s=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#A(t,e,A,i,a,l,c){const h=this.#e(A,i,a,l);for(let d=0;d<8;d++){const f=(-d+h-c+16)%8,m=this.#s[2*f],w=this.#s[2*f+1];if(t[(A+m)*e+(i+w)]!==0)return f}return-1}static#a(t,e,A,i,a,l,c){const h=this.#e(A,i,a,l);for(let d=0;d<8;d++){const f=(d+h+c+16)%8,m=this.#s[2*f],w=this.#s[2*f+1];if(t[(A+m)*e+(i+w)]!==0)return f}return-1}static#i(t,e,A,i){const a=t.length,l=new Int32Array(a);for(let f=0;f<a;f++)l[f]=t[f]<=i?1:0;for(let f=1;f<A-1;f++)l[f*e]=l[f*e+e-1]=0;for(let f=0;f<e;f++)l[f]=l[e*A-1-f]=0;let c=1,h;const d=[];for(let f=1;f<A-1;f++){h=1;for(let m=1;m<e-1;m++){const w=f*e+m,v=l[w];if(v===0)continue;let b=f,y=m;if(v===1&&l[w-1]===0)c+=1,y-=1;else if(v>=1&&l[w+1]===0)c+=1,y+=1,v>1&&(h=v);else{v!==1&&(h=Math.abs(v));continue}const x=[m,f],E=y===m+1,U={isHole:E,points:x,id:c,parent:0};d.push(U);let S;for(const G of d)if(G.id===h){S=G;break}S?S.isHole?U.parent=E?S.parent:h:U.parent=E?h:S.parent:U.parent=E?h:0;const T=this.#A(l,e,f,m,b,y,0);if(T===-1){l[w]=-c,l[w]!==1&&(h=Math.abs(l[w]));continue}let _=this.#s[2*T],D=this.#s[2*T+1];const F=f+_,O=m+D;b=F,y=O;let K=f,it=m;for(;;){const G=this.#a(l,e,K,it,b,y,1);_=this.#s[2*G],D=this.#s[2*G+1];const q=K+_,$=it+D;x.push($,q);const at=K*e+it;if(l[at+1]===0?l[at]=-c:l[at]===1&&(l[at]=c),q===f&&$===m&&K===F&&it===O){l[w]!==1&&(h=Math.abs(l[w]));break}else b=K,y=it,K=q,it=$}}}return d}static#n(t,e,A,i){if(A-e<=4){for(let F=e;F<A-2;F+=2)i.push(t[F],t[F+1]);return}const a=t[e],l=t[e+1],c=t[A-4]-a,h=t[A-3]-l,d=Math.hypot(c,h),f=c/d,m=h/d,w=f*l-m*a,v=h/c,b=1/d,y=Math.atan(v),x=Math.cos(y),E=Math.sin(y),U=b*(Math.abs(x)+Math.abs(E)),S=b*(1-U+U**2),T=Math.max(Math.atan(Math.abs(E+x)*S),Math.atan(Math.abs(E-x)*S));let _=0,D=e;for(let F=e+2;F<A-2;F+=2){const O=Math.abs(w-f*t[F+1]+m*t[F]);O>_&&(D=F,_=O)}_>(d*T)**2?(this.#n(t,e,D+2,i),this.#n(t,D,A,i)):i.push(a,l)}static#r(t){const e=[],A=t.length;return this.#n(t,0,A,e),e.push(t[A-2],t[A-1]),e.length<=4?null:e}static#l(t,e,A,i,a,l){const c=new Float32Array(l**2),h=-2*i**2,d=l>>1;for(let y=0;y<l;y++){const x=(y-d)**2;for(let E=0;E<l;E++)c[y*l+E]=Math.exp((x+(E-d)**2)/h)}const f=new Float32Array(256),m=-2*a**2;for(let y=0;y<256;y++)f[y]=Math.exp(y**2/m);const w=t.length,v=new Uint8Array(w),b=new Uint32Array(256);for(let y=0;y<A;y++)for(let x=0;x<e;x++){const E=y*e+x,U=t[E];let S=0,T=0;for(let D=0;D<l;D++){const F=y+D-d;if(!(F<0||F>=A))for(let O=0;O<l;O++){const K=x+O-d;if(K<0||K>=e)continue;const it=t[F*e+K],G=c[D*l+O]*f[Math.abs(it-U)];S+=it*G,T+=G}}const _=v[E]=Math.round(S/T);b[_]++}return[v,b]}static#o(t){const e=new Uint32Array(256);for(const A of t)e[A]++;return e}static#h(t){const e=t.length,A=new Uint8ClampedArray(e>>2);let i=-1/0,a=1/0;for(let c=0,h=A.length;c<h;c++){const d=A[c]=t[c<<2];i=Math.max(i,d),a=Math.min(a,d)}const l=255/(i-a);for(let c=0,h=A.length;c<h;c++)A[c]=(A[c]-a)*l;return A}static#u(t){let e,A=-1/0,i=-1/0;const a=t.findIndex(h=>h!==0);let l=a,c=a;for(e=a;e<256;e++){const h=t[e];h>A&&(e-l>i&&(i=e-l,c=e-1),A=h,l=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#d(t){const e=t,{width:A,height:i}=t,{maxDim:a}=this.#t;let l=A,c=i;if(A>a||i>a){let w=A,v=i,b=Math.log2(Math.max(A,i)/a);const y=Math.floor(b);b=b===y?y-1:y;for(let E=0;E<b;E++){l=Math.ceil(w/2),c=Math.ceil(v/2);const U=new OffscreenCanvas(l,c);U.getContext("2d").drawImage(t,0,0,w,v,0,0,l,c),w=l,v=c,t!==e&&t.close(),t=U.transferToImageBitmap()}const x=Math.min(a/l,a/c);l=Math.round(l*x),c=Math.round(c*x)}const d=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,l,c),d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,l,c);const f=d.getImageData(0,0,l,c).data;return[this.#h(f),l,c]}static extractContoursFromText(t,{fontFamily:e,fontStyle:A,fontWeight:i},a,l,c,h){let d=new OffscreenCanvas(1,1),f=d.getContext("2d",{alpha:!1});const m=200,w=f.font=`${A} ${i} ${m}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:b,actualBoundingBoxAscent:y,actualBoundingBoxDescent:x,fontBoundingBoxAscent:E,fontBoundingBoxDescent:U,width:S}=f.measureText(t),T=1.5,_=Math.ceil(Math.max(Math.abs(v)+Math.abs(b)||0,S)*T),D=Math.ceil(Math.max(Math.abs(y)+Math.abs(x)||m,Math.abs(E)+Math.abs(U)||m)*T);d=new OffscreenCanvas(_,D),f=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=w,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,_,D),f.fillStyle="black",f.fillText(t,_*(T-1)/2,D*(3-T)/2);const F=this.#h(f.getImageData(0,0,_,D).data),O=this.#o(F),K=this.#u(O),it=this.#i(F,_,D,K);return this.processDrawnLines({lines:{curves:it,width:_,height:D},pageWidth:a,pageHeight:l,rotation:c,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,A,i,a){const[l,c,h]=this.#d(t),[d,f]=this.#l(l,c,h,Math.hypot(c,h)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),m=this.#u(f),w=this.#i(d,c,h,m);return this.processDrawnLines({lines:{curves:w,width:c,height:h},pageWidth:e,pageHeight:A,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:A,rotation:i,innerMargin:a,mustSmooth:l,areContours:c}){i%180!==0&&([e,A]=[A,e]);const{curves:h,width:d,height:f}=t,m=t.thickness??0,w=[],v=Math.min(e/d,A/f),b=v/e,y=v/A,x=[];for(const{points:U}of h){const S=l?this.#r(U):U;if(!S)continue;x.push(S);const T=S.length,_=new Float32Array(T),D=new Float32Array(3*(T===2?2:T-2));if(w.push({line:D,points:_}),T===2){_[0]=S[0]*b,_[1]=S[1]*y,D.set([NaN,NaN,NaN,NaN,_[0],_[1]],0);continue}let[F,O,K,it]=S;F*=b,O*=y,K*=b,it*=y,_.set([F,O,K,it],0),D.set([NaN,NaN,NaN,NaN,F,O],0);for(let G=4;G<T;G+=2){const q=_[G]=S[G]*b,$=_[G+1]=S[G+1]*y;D.set(dt.createBezierPoints(F,O,K,it,q,$),(G-2)*3),[F,O,K,it]=[K,it,q,$]}}if(w.length===0)return null;const E=c?new qd:new Wr;return E.build(w,e,A,1,i,c?0:m,a),{outline:E,newCurves:x,areContours:c,thickness:m,width:d,height:f}}static async compressSignature({outlines:t,areContours:e,thickness:A,width:i,height:a}){let l=1/0,c=-1/0,h=0;for(const S of t){h+=S.length;for(let T=2,_=S.length;T<_;T++){const D=S[T]-S[T-2];l=Math.min(l,D),c=Math.max(c,D)}}let d;l>=-128&&c<=127?d=Int8Array:l>=-32768&&c<=32767?d=Int16Array:d=Int32Array;const f=t.length,m=Sl+fr*f,w=new Uint32Array(m);let v=0;w[v++]=m*Uint32Array.BYTES_PER_ELEMENT+(h-2*f)*d.BYTES_PER_ELEMENT,w[v++]=0,w[v++]=i,w[v++]=a,w[v++]=e?0:1,w[v++]=Math.max(0,Math.floor(A??0)),w[v++]=f,w[v++]=d.BYTES_PER_ELEMENT;for(const S of t)w[v++]=S.length-2,w[v++]=S[0],w[v++]=S[1];const b=new CompressionStream("deflate-raw"),y=b.writable.getWriter();await y.ready,y.write(w);const x=d.prototype.constructor;for(const S of t){const T=new x(S.length-2);for(let _=2,D=S.length;_<D;_++)T[_-2]=S[_]-S[_-2];y.write(T)}y.close();const E=await new Response(b.readable).arrayBuffer(),U=new Uint8Array(E);return qw(U)}static async decompressSignature(t){try{const e=I1(t),{readable:A,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(e).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let l=null,c=0;for await(const S of A)l||=new Uint8Array(new Uint32Array(S.buffer,0,4)[0]),l.set(S,c),c+=S.length;const h=new Uint32Array(l.buffer,0,l.length>>2),d=h[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const f=h[2],m=h[3],w=h[4]===0,v=h[5],b=h[6],y=h[7],x=[],E=(Sl+fr*b)*Uint32Array.BYTES_PER_ELEMENT;let U;switch(y){case Int8Array.BYTES_PER_ELEMENT:U=new Int8Array(l.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:U=new Int16Array(l.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:U=new Int32Array(l.buffer,E);break}c=0;for(let S=0;S<b;S++){const T=h[fr*S+Sl],_=new Float32Array(T+2);x.push(_);for(let D=0;D<fr-1;D++)_[D]=h[fr*S+Sl+D+1];for(let D=0;D<T;D++)_[D+2]=_[D]+U[c++]}return{areContours:w,thickness:v,outlines:x,width:f,height:m}}catch(e){return bt(`decompressSignature: ${e}`),null}}}class Mf extends Ev{constructor(){super(),super.updateProperties({fill:Bt._defaultLineColor,"stroke-width":0})}clone(){const t=new Mf;return t.updateAll(this),t}}class Rf extends xc{constructor(t){super(t),super.updateProperties({stroke:Bt._defaultLineColor,"stroke-width":1})}clone(){const t=new Rf(this._viewParameters);return t.updateAll(this),t}}class os extends jt{#t=!1;#e=null;#s=null;#A=null;static _type="signature";static _editorType=xt.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#s=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Bt.initialize(t,e),this._defaultDrawingOptions=new Mf,this._defaultDrawnSignatureOptions=new Rf(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Et(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:A}=this;if(A&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#s){const{lines:i,mustSmooth:a,areContours:l,description:c,uuid:h,heightInPage:d}=this.#s,{rawDims:{pageWidth:f,pageHeight:m},rotation:w}=this.parent.viewport,v=Zi.processDrawnLines({lines:i,pageWidth:f,pageHeight:m,rotation:w,innerMargin:os._INNER_MARGIN,mustSmooth:a,areContours:l});this.addSignature(v,d,c,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return A&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#A=t,this.addEditToolbar()}getUuid(){return this.#A}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:A,width:i,height:a}=this.#s,l=Math.max(i,a),c=Zi.processDrawnLines({lines:{curves:t.map(h=>({points:h})),thickness:A,width:i,height:a},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,A,i){const{x:a,y:l}=this,{outline:c}=this.#s=t;this.#t=c instanceof qd,this.description=A;let h;this.#t?h=os.getDefaultDrawingOptions():(h=os._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:h});const[,d]=this.pageDimensions;let f=e/d;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=a,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!A}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:A},rotation:i}=this.parent.viewport;return Zi.process(t,e,A,i,os._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:A,pageHeight:i},rotation:a}=this.parent.viewport;return Zi.extractContoursFromText(t,e,A,i,a,os._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:A},rotation:i}=this.parent.viewport;return Zi.processDrawnLines({lines:t,pageWidth:e,pageHeight:A,rotation:i,innerMargin:os._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=os.getDefaultDrawingOptions():(this._drawingOptions=os._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:A}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":i}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:i});return this.addComment(a),t?(a.paths={lines:e,points:A},a.uuid=this.#A,a.isCopy=!0):a.lines=e,this.#e&&(a.accessibilityData={type:"Figure",alt:this.#e}),a}static deserializeDraw(t,e,A,i,a,l){return l.areContours?qd.deserialize(t,e,A,i,a,l):Wr.deserialize(t,e,A,i,a,l)}static async deserialize(t,e,A){const i=await super.deserialize(t,e,A);return i.#t=t.areContours,i.description=t.accessibilityData?.alt||"",i.#A=t.uuid,i}}class yx extends Bt{#t=null;#e=null;#s=null;#A=null;#a=null;#i="";#n=null;#r=!1;#l=null;#o=!1;#h=!1;static _type="stamp";static _editorType=xt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#A=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Bt.initialize(t,e)}static isHandlingMimeForPasting(t){return kd.includes(t)}static paste(t,e){e.pasteEditor({mode:xt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#u(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#o=t.isSvg),t.file&&(this.#i=t.file.name),this.#g()}#d(){if(this.#s=null,this._uiManager.enableWaiting(!1),!!this.#n){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:A}=this._uiManager;if(!A)throw new Error("No ML.");if(!await A.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await A.guess({name:"altText",request:{data:i,width:a,height:l,channels:i.length/(a*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const h=c.output;return await this.setGuessedAltText(h),e&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}#p(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(A=>this.#u(A,!0)).finally(()=>this.#d());return}if(this.#A){const A=this.#A;this.#A=null,this._uiManager.enableWaiting(!0),this.#s=this._uiManager.imageManager.getFromUrl(A).then(i=>this.#u(i)).finally(()=>this.#d());return}if(this.#a){const A=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#s=this._uiManager.imageManager.getFromFile(A).then(i=>this.#u(i)).finally(()=>this.#d());return}const t=document.createElement("input");t.type="file",t.accept=kd.join(",");const e=this._uiManager._signal;this.#s=new Promise(A=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(i)}A()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),A()},{signal:e})}).finally(()=>this.#d()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#n?.remove(),this.#n=null,this.#l&&(clearTimeout(this.#l),this.#l=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#p();return}super.rebuild(),this.div!==null&&(this.#e&&this.#n===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#s||this.#t||this.#A||this.#a||this.#e||this.#r)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#r||(this.#t?this.#g():this.#p()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:A,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),A&&this._uiManager.imageManager.isValidId(A)&&(this.#e=A,i&&(this.#t=i),this.#r=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#l!==null&&clearTimeout(this.#l);const t=200;this.#l=setTimeout(()=>{this.#l=null,this.#f()},t)}#g(){const{div:t}=this;let{width:e,height:A}=this.#t;const[i,a]=this.pageDimensions,l=.75;if(this.width)e=this.width*i,A=this.height*a;else if(e>l*i||A>l*a){const h=Math.min(l*i/e,l*a/A);e*=h,A*=h}this._uiManager.enableWaiting(!1);const c=this.#n=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=e/i,this.height=A/a,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#f(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#i&&this.div.setAttribute("aria-description",this.#i),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,A=!1){t||(t=224);const{width:i,height:a}=this.#t,l=new cs;let c=this.#t,h=i,d=a,f=null;if(e){if(i>e||a>e){const D=Math.min(e/i,e/a);h=Math.floor(i*D),d=Math.floor(a*D)}f=document.createElement("canvas");const w=f.width=Math.ceil(h*l.sx),v=f.height=Math.ceil(d*l.sy);this.#o||(c=this.#c(w,v));const b=f.getContext("2d");b.filter=this._uiManager.hcmFilter;let y="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":K1.isDarkMode&&(y="#8f8f9d",x="#42414d");const E=15,U=E*l.sx,S=E*l.sy,T=new OffscreenCanvas(U*2,S*2),_=T.getContext("2d");_.fillStyle=y,_.fillRect(0,0,U*2,S*2),_.fillStyle=x,_.fillRect(0,0,U,S),_.fillRect(U,S,U,S),b.fillStyle=b.createPattern(T,"repeat"),b.fillRect(0,0,w,v),b.drawImage(c,0,0,c.width,c.height,0,0,w,v)}let m=null;if(A){let w,v;if(l.symmetric&&c.width<t&&c.height<t)w=c.width,v=c.height;else if(c=this.#t,i>t||a>t){const x=Math.min(t/i,t/a);w=Math.floor(i*x),v=Math.floor(a*x),this.#o||(c=this.#c(w,v))}const y=new OffscreenCanvas(w,v).getContext("2d",{willReadFrequently:!0});y.drawImage(c,0,0,c.width,c.height,0,0,w,v),m={width:w,height:v,data:y.getImageData(0,0,w,v).data}}return{canvas:f,width:h,height:d,imageData:m}}#c(t,e){const{width:A,height:i}=this.#t;let a=A,l=i,c=this.#t;for(;a>2*t||l>2*e;){const h=a,d=l;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const f=new OffscreenCanvas(a,l);f.getContext("2d").drawImage(c,0,0,h,d,0,0,a,l),c=f.transferToImageBitmap()}return c}#f(){const[t,e]=this.parentDimensions,{width:A,height:i}=this,a=new cs,l=Math.ceil(A*t*a.sx),c=Math.ceil(i*e*a.sy),h=this.#n;if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const d=this.#o?this.#t:this.#c(l,c),f=h.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(d,0,0,d.width,d.height,0,0,l,c)}#m(t){if(t){if(this.#o){const i=this._uiManager.imageManager.getSvgUrl(this.#e);if(i)return i}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#o){const[e,A]=this.pageDimensions,i=Math.round(this.width*e*ua.PDF_TO_CSS_UNITS),a=Math.round(this.height*A*ua.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(i,a);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,i,a),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,A){let i=null,a=!1;if(t instanceof Cv){const{data:{rect:y,rotation:x,id:E,structParent:U,popupRef:S,richText:T,contentsObj:_,creationDate:D,modificationDate:F},container:O,parent:{page:{pageNumber:K}},canvas:it}=t;let G,q;it?(delete t.canvas,{id:G,bitmap:q}=A.imageManager.getFromCanvas(O.id,it),it.remove()):(a=!0,t._hasNoCanvas=!0);const $=(await e._structTree.getAriaAttributes(`${ea}${E}`))?.get("aria-label")||"";i=t={annotationType:xt.STAMP,bitmapId:G,bitmap:q,pageIndex:K-1,rect:y.slice(0),rotation:x,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:$},isSvg:!1,structParent:U,popupRef:S,richText:T,comment:_?.str||null,creationDate:D,modificationDate:F}}const l=await super.deserialize(t,e,A),{rect:c,bitmap:h,bitmapUrl:d,bitmapId:f,isSvg:m,accessibilityData:w}=t;a?(A.addMissingCanvas(t.id,l),l.#r=!0):f&&A.imageManager.isValidId(f)?(l.#e=f,h&&(l.#t=h)):l.#A=d,l.#o=m;const[v,b]=l.pageDimensions;return l.width=(c[2]-c[0])/v,l.height=(c[3]-c[1])/b,w&&(l.altTextData=w),l._initialData=i,t.comment&&l.setCommentData(t),l.#h=!!i,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const A=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#o});if(this.addComment(A),t)return A.bitmapUrl=this.#m(!0),A.accessibilityData=this.serializeAltText(!0),A.isCopy=!0,A;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(A.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=this.#w(A);return c.isSame?null:(c.isSameAltText?delete A.accessibilityData:A.accessibilityData.structParent=this._initialData.structParent??-1,A.id=this.annotationElementId,delete A.bitmapId,A)}if(e===null)return A;e.stamps||=new Map;const l=this.#o?(A.rect[2]-A.rect[0])*(A.rect[3]-A.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:A}),A.bitmap=this.#m(!1);else if(this.#o){const c=e.stamps.get(this.#e);l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=this.#m(!1))}return A}#w(t){const{pageIndex:e,accessibilityData:{altText:A}}=this._initialData,i=t.pageIndex===e,a=(t.accessibilityData?.alt||"")===A;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&a,isSameAltText:a}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Ls{#t;#e=!1;#s=null;#A=null;#a=null;#i=new Map;#n=!1;#r=!1;#l=!1;#o=null;#h=null;#u=null;#d=null;#p=null;#g=-1;#c;static _initialized=!1;static#f=new Map([Ne,If,yx,me,os].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:A,structTreeLayer:i,accessibilityManager:a,annotationLayer:l,drawLayer:c,textLayer:h,viewport:d,l10n:f}){const m=[...Ls.#f.values()];if(!Ls._initialized){Ls._initialized=!0;for(const w of m)w.initialize(f,t)}t.registerEditorTypes(m),this.#c=t,this.pageIndex=e,this.div=A,this.#t=a,this.#s=l,this.viewport=d,this.#u=h,this.drawLayer=c,this._structTree=i,this.#c.addLayer(this)}get isEmpty(){return this.#i.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===xt.NONE}updateToolbar(t){this.#c.updateToolbar(t)}updateMode(t=this.#c.getMode()){switch(this.#y(),t){case xt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case xt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case xt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===xt.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const A of Ls.#f.values())e.toggle(`${A._type}Editing`,t===A._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#c.setEditingState(t)}addCommands(t){this.#c.addCommands(t)}cleanUndoStack(t){this.#c.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#s?.togglePointerEvents(t)}get#m(){return this.#i.size!==0?this.#i.values():this.#c.getEditors(this.pageIndex)}async enable(){this.#l=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#p?.abort(),this.#p=null;const t=new Set;for(const A of this.#m)A.enableEditing(),A.show(!0),A.annotationElementId&&(this.#c.removeChangedExistingAnnotation(A),t.add(A.annotationElementId));const e=this.#s;if(e)for(const A of e.getEditableAnnotations()){if(A.hide(),this.#c.isDeletedAnnotationElement(A.data.id)||t.has(A.data.id))continue;const i=await this.deserialize(A);i&&(this.addOrRebuild(i),i.enableEditing())}this.#l=!1,this.#c._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#r=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#u&&!this.#p){this.#p=new AbortController;const i=this.#c.combinedSignal(this.#p);this.#u.div.addEventListener("pointerdown",a=>{const{clientX:c,clientY:h,timeStamp:d}=a,f=this.#g;if(d-f>500){this.#g=d;return}this.#g=-1;const{classList:m}=this.div;m.toggle("getElements",!0);const w=document.elementsFromPoint(c,h);if(m.toggle("getElements",!1),!this.div.contains(w[0]))return;let v;const b=new RegExp(`^${Mr}[0-9]+$`);for(const x of w)if(b.test(x.id)){v=x.id;break}if(!v)return;const y=this.#i.get(v);y?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),y.dblclick(a))},{signal:i,capture:!0})}const t=this.#s,e=[];if(t){const i=new Map,a=new Map;for(const c of this.#m){if(c.disableEditing(),!c.annotationElementId){e.push(c);continue}if(c.serialize()!==null){i.set(c.annotationElementId,c);continue}else a.set(c.annotationElementId,c);this.getEditableAnnotation(c.annotationElementId)?.show(),c.remove()}const l=t.getEditableAnnotations();for(const c of l){const{id:h}=c.data;if(this.#c.isDeletedAnnotationElement(h)){c.updateEdited({deleted:!0});continue}let d=a.get(h);if(d){d.resetAnnotationElement(c),d.show(!1),c.show();continue}d=i.get(h),d&&(this.#c.addChangedExistingAnnotation(d),d.renderAnnotationElement(c)&&d.show(!1)),c.show()}}this.#y(),this.isEmpty&&(this.div.hidden=!0);const{classList:A}=this.div;for(const i of Ls.#f.values())A.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),t?.updateFakeAnnotations(e),this.#r=!1}getEditableAnnotation(t){return this.#s?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#c.getActive()!==t&&this.#c.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#d){this.#d=new AbortController;const t=this.#c.combinedSignal(this.#d);this.#u.div.addEventListener("pointerdown",this.#w.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#d&&(this.#d.abort(),this.#d=null,this.#u.div.classList.remove("highlighting"))}#w(t){this.#c.unselectAll();const{target:e}=t;if(e===this.#u.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#u.div.contains(e)){const{isMac:A}=Ge.platform;if(t.button!==0||t.ctrlKey&&A)return;this.#c.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),me.startHighlighting(this,this.#c.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),t.preventDefault()}}enableClick(){if(this.#A)return;this.#A=new AbortController;const t=this.#c.combinedSignal(this.#A);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#A?.abort(),this.#A=null}attach(t){this.#i.set(t.id,t);const{annotationElementId:e}=t;e&&this.#c.isDeletedAnnotationElement(e)&&this.#c.removeDeletedAnnotationElement(t)}detach(t){this.#i.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#r&&t.annotationElementId&&this.#c.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#c.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#c.addDeletedAnnotationElement(t),Bt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#c.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#l),this.#c.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),A=()=>{t.remove()};this.addCommands({cmd:e,undo:A,mustExec:!1})}getEditorByUID(t){for(const e of this.#i.values())if(e.uid===t)return e;return null}getNextId(){return this.#c.getId()}get#B(){return Ls.#f.get(this.#c.getMode())}combinedSignal(t){return this.#c.combinedSignal(t)}#x(t){const e=this.#B;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#B?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#c.updateMode(t.mode);const{offsetX:A,offsetY:i}=this.#b(),a=this.getNextId(),l=this.#x({parent:this,id:a,x:A,y:i,uiManager:this.#c,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await Ls.#f.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#c)||null}createAndAddNewEditor(t,e,A={}){const i=this.getNextId(),a=this.#x({parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:this.#c,isCentered:e,...A});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}#b(){const{x:t,y:e,width:A,height:i}=this.boundingClientRect,a=Math.max(0,t),l=Math.max(0,e),c=Math.min(window.innerWidth,t+A),h=Math.min(window.innerHeight,e+i),d=(a+c)/2-t,f=(l+h)/2-e,[m,w]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:m,offsetY:w}}addNewEditor(t={}){this.createAndAddNewEditor(this.#b(),!0,t)}setSelected(t){this.#c.setSelected(t)}toggleSelected(t){this.#c.toggleSelected(t)}unselect(t){this.#c.unselect(t)}pointerup(t){const{isMac:e}=Ge.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#n||(this.#n=!1,this.#B?.isDrawer&&this.#B.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const A=this.#c.getMode();if(A===xt.STAMP||A===xt.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#c.getMode()===xt.HIGHLIGHT&&this.enableTextSelection(),this.#n){this.#n=!1;return}const{isMac:e}=Ge.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#n=!0,this.#B?.isDrawer){this.startDrawingSession(t);return}const A=this.#c.getActive();this.#e=!A||A.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#o){this.#B.startDrawing(this,this.#c,!1,t);return}this.#c.setCurrentDrawingSession(this),this.#o=new AbortController;const e=this.#c.combinedSignal(this.#o);this.div.addEventListener("blur",({relatedTarget:A})=>{A&&!this.div.contains(A)&&(this.#h=null,this.commitOrRemove())},{signal:e}),this.#B.startDrawing(this,this.#c,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#h=e);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(t=!1){return this.#o?(this.#c.setCurrentDrawingSession(null),this.#o.abort(),this.#o=null,this.#h=null,this.#B.endDrawing(t)):null}findNewParent(t,e,A){const i=this.#c.findParent(e,A);return i===null||i===this?!1:(i.changeParent(t),!0)}commitOrRemove(){return this.#o?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#o&&this.#B.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#i.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#i.clear(),this.#c.removeLayer(this)}#y(){for(const t of this.#i.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,ti(this.div,t);for(const e of this.#c.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#c.commitOrRemove(),this.#y();const e=this.viewport.rotation,A=t.rotation;if(this.viewport=t,ti(this.div,{rotation:A}),e!==A)for(const i of this.#i.values())i.rotate(A)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#c.viewParameters.realScale}}class ke{#t=null;#e=new Map;#s=new Map;static#A=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Et(this,"_svgFactory",new rc)}static#a(t,[e,A,i,a]){const{style:l}=t;l.top=`${100*A}%`,l.left=`${100*e}%`,l.width=`${100*i}%`,l.height=`${100*a}%`}#i(){const t=ke._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#n(t,e){const A=ke._svgFactory.createElement("clipPath");t.append(A);const i=`clip_${e}`;A.setAttribute("id",i),A.setAttribute("clipPathUnits","objectBoundingBox");const a=ke._svgFactory.createElement("use");return A.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),i}#r(t,e){for(const[A,i]of Object.entries(e))i===null?t.removeAttribute(A):t.setAttribute(A,i)}draw(t,e=!1,A=!1){const i=ke.#A++,a=this.#i(),l=ke._svgFactory.createElement("defs");a.append(l);const c=ke._svgFactory.createElement("path");l.append(c);const h=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",h),c.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#s.set(i,c);const d=A?this.#n(l,h):null,f=ke._svgFactory.createElement("use");return a.append(f),f.setAttribute("href",`#${h}`),this.updateProperties(a,t),this.#e.set(i,a),{id:i,clipPathId:`url(#${d})`}}drawOutline(t,e){const A=ke.#A++,i=this.#i(),a=ke._svgFactory.createElement("defs");i.append(a);const l=ke._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${A}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const m=ke._svgFactory.createElement("mask");a.append(m),h=`mask_p${this.pageIndex}_${A}`,m.setAttribute("id",h),m.setAttribute("maskUnits","objectBoundingBox");const w=ke._svgFactory.createElement("rect");m.append(w),w.setAttribute("width","1"),w.setAttribute("height","1"),w.setAttribute("fill","white");const v=ke._svgFactory.createElement("use");m.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const d=ke._svgFactory.createElement("use");i.append(d),d.setAttribute("href",`#${c}`),h&&d.setAttribute("mask",`url(#${h})`);const f=d.cloneNode();return i.append(f),d.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(i,t),this.#e.set(A,i),A}finalizeDraw(t,e){this.#s.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:A,bbox:i,rootClass:a,path:l}=e,c=typeof t=="number"?this.#e.get(t):t;if(c){if(A&&this.#r(c,A),i&&ke.#a(c,i),a){const{classList:h}=c;for(const[d,f]of Object.entries(a))h.toggle(d,f)}if(l){const d=c.firstElementChild.firstElementChild;this.#r(d,l)}}}updateParent(t,e){if(e===this)return;const A=this.#e.get(t);A&&(e.#t.append(A),this.#e.delete(t),e.#e.set(t,A))}remove(t){this.#s.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#s.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Xd};globalThis.pdfjsLib={AbortException:Cn,AnnotationEditorLayer:Ls,AnnotationEditorParamsType:Lt,AnnotationEditorType:xt,AnnotationEditorUIManager:bn,AnnotationLayer:Lf,AnnotationMode:gn,AnnotationType:Ee,applyOpacity:G1,build:WE,ColorPicker:kA,createValidAbsoluteUrl:Vw,CSSConstants:P1,DOMSVGFactory:rc,DrawLayer:ke,FeatureTest:Ge,fetchData:zr,findContrastColor:V1,getDocument:fv,getFilenameFromUrl:M1,getPdfFilenameFromUrl:R1,getRGB:Yr,getUuid:Yw,getXfaPageViewport:k1,GlobalWorkerOptions:oa,ImageKind:Wl,InvalidPDFException:Rd,isDataScheme:Cc,isPdfFile:xf,isValidExplicitDest:eE,MathClamp:tA,noContextMenu:VA,normalizeUnicode:H1,OPS:Rr,OutputScale:cs,PasswordResponses:x1,PDFDataRangeTransport:gv,PDFDateString:Od,PDFWorker:kr,PermissionFlag:E1,PixelsPerInch:ua,RenderingCancelledException:Ef,renderRichText:Ww,ResponseException:ic,setLayerDimensions:ti,shadow:Et,SignatureExtractor:Zi,stopEvent:de,SupportedImageMimeTypes:kd,TextLayer:We,TouchManager:bc,updateUrlHash:zw,Util:gt,VerbosityLevel:wc,version:JE,XfaLayer:Jw};const Cx="/gaptrack/assets/pdf.worker.min-CXgfMxHN.mjs";oa.workerSrc=Cx;function bx({onParse:o,isProcessing:t,error:e}){const[A,i]=Y.useState("upload"),[a,l]=Y.useState(""),[c,h]=Y.useState(!1),d=Y.useRef(null),f=async E=>{const U=await E.arrayBuffer(),S=await fv({data:U}).promise;let T="";for(let _=1;_<=S.numPages;_++){const O=(await(await S.getPage(_)).getTextContent()).items.map(K=>K.str).join(" ");T+=O+`
`}return T.trim()},m=async E=>{if(!E)return;if(!["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(E.type)&&!E.name.endsWith(".txt")){alert("Please upload a PDF, DOCX, or TXT file");return}try{let S="";if(E.type==="text/plain"||E.name.endsWith(".txt"))S=await E.text();else if(E.type==="application/pdf"){if(S=await f(E),!S.trim()){alert("Could not extract text from this PDF. It may be scanned/image-based. Please try pasting the text instead.");return}}else{alert('DOCX parsing coming soon! For now, please copy the text from your document and use the "Paste Text" tab.');return}S.trim()&&o(S)}catch(S){console.error("Error reading file:",S),alert("Could not read file. Please try pasting the text instead.")}},w=E=>{E.preventDefault(),h(!0)},v=E=>{E.preventDefault(),h(!1)},b=E=>{E.preventDefault(),h(!1);const U=E.dataTransfer.files[0];m(U)},y=E=>{const U=E.target.files[0];m(U)},x=()=>{a.trim()&&o(a)};return t?g.jsx("div",{className:"resume-upload",children:g.jsxs("div",{className:"processing-overlay",children:[g.jsx("div",{className:"spinner"}),g.jsx("p",{className:"text-lg font-bold",children:"Analyzing your resume..."}),g.jsx("p",{className:"text-light",children:"This may take a few seconds"})]})}):g.jsxs("div",{className:"resume-upload",children:[e&&g.jsxs("div",{className:"upload-error",children:[g.jsx("strong",{children:"Error:"})," ",e]}),g.jsxs("div",{className:"upload-tabs",children:[g.jsx("button",{type:"button",className:`upload-tab ${A==="upload"?"active":""}`,onClick:()=>i("upload"),children:"Upload File"}),g.jsx("button",{type:"button",className:`upload-tab ${A==="paste"?"active":""}`,onClick:()=>i("paste"),children:"Paste Text"})]}),A==="upload"&&g.jsxs("div",{className:`drop-zone ${c?"dragging":""}`,onDragOver:w,onDragLeave:v,onDrop:b,onClick:()=>d.current?.click(),children:[g.jsx("span",{className:"drop-zone-icon",children:"+"}),g.jsxs("div",{className:"drop-zone-text",children:[g.jsx("p",{children:"Drop your resume here"}),g.jsx("p",{children:"or click to browse (PDF, TXT)"})]}),g.jsx("input",{type:"file",ref:d,className:"file-input",accept:".txt,.pdf,.docx",onChange:y})]}),A==="paste"&&g.jsxs("div",{className:"paste-area",children:[g.jsx(nc,{placeholder:`Paste your resume text here...

Example:
John Doe
Software Engineer | john@email.com

EXPERIENCE
Senior Developer at Tech Corp (2020-Present)
- Built scalable microservices
- Led team of 5 developers

SKILLS
JavaScript, React, Node.js, Python`,value:a,onChange:l,rows:12}),g.jsx("p",{className:"paste-hint",children:"Tip: Copy all text from your resume PDF/document and paste above"}),g.jsx("div",{className:"upload-actions",children:g.jsx(xe,{variant:"primary",onClick:x,disabled:!a.trim(),children:"Analyze Resume"})})]})]})}const Ex=[{value:"applied",label:"Applied",color:"#6366f1"},{value:"screening",label:"Screening",color:"#8b5cf6"},{value:"interview",label:"Interviewing",color:"#f59e0b"},{value:"offer",label:"Offer Received",color:"#10b981"},{value:"accepted",label:"Accepted",color:"#059669"},{value:"rejected",label:"Rejected",color:"#ef4444"},{value:"withdrawn",label:"Withdrawn",color:"#6b7280"}],xx=[{value:"onsite",label:"On-site",color:"#6366f1"},{value:"hybrid",label:"Hybrid",color:"#8b5cf6"},{value:"remote",label:"Remote",color:"#10b981"}],ud=200;function Sx({job:o,contacts:t=[],resume:e,onSubmit:A,onCancel:i,onParseJD:a,analyzeGap:l,isProcessing:c,error:h}){const[d,f]=Y.useState(""),[m,w]=Y.useState(""),[v,b]=Y.useState(""),[y,x]=Y.useState("onsite"),[E,U]=Y.useState(""),[S,T]=Y.useState("applied"),[_,D]=Y.useState(""),[F,O]=Y.useState(""),[K,it]=Y.useState(""),[G,q]=Y.useState([]),[$,at]=Y.useState(null),[rt,N]=Y.useState(null),[M,R]=Y.useState(!1),[z,st]=Y.useState(!1),[H,j]=Y.useState(null),[W,tt]=Y.useState(!1),nt=Y.useRef({company:!1,role:!1,location:!1,salary:!1});Y.useEffect(()=>{o&&(f(o.company||""),w(o.role||""),b(o.location||""),x(o.workType||"onsite"),U(o.salary||""),T(o.status||"applied"),D(o.jobDescription||""),O(o.link||""),it(o.notes||""),q(o.linkedContacts||[]),N(o.parsedJD||null),j(o.gapAnalysis||null),R(!!o.parsedJD),st(!0))},[o]);const ot=async ct=>{D(ct),ct.length>=ud&&!M&&(R(!0),setTimeout(async()=>{const Mt=await a(ct);if(Mt.success&&Mt.data&&(lt(Mt.data),st(!0),e&&l)){tt(!0);const Wt=await l(e,Mt.data);Wt.success&&j(Wt.data),tt(!1)}},100))},lt=ct=>{N(ct),ct.company&&!nt.current.company&&f(ct.company),ct.role&&!nt.current.role&&w(ct.role),ct.location&&!nt.current.location&&b(ct.location),ct.salary&&!nt.current.salary&&U(ct.salary)},St=ct=>{q(Mt=>Mt.includes(ct)?Mt.filter(Wt=>Wt!==ct):[...Mt,ct])},wt=ct=>{if(ct.preventDefault(),!d.trim()||!m.trim()){at({message:"Company and Role are required",type:"error"});return}A({id:o?.id,company:d.trim(),role:m.trim(),location:v.trim()||null,workType:y,salary:E.trim()||null,status:S,jobDescription:_.trim()||null,parsedJD:rt,link:F.trim()||null,notes:K.trim()||null,linkedContacts:G,gapAnalysis:H})};return c&&!W?g.jsx("div",{className:"add-app",children:g.jsxs("div",{className:"add-app-processing",children:[g.jsxs("div",{className:"processing-animation",children:[g.jsx("div",{className:"processing-ring"}),g.jsx("div",{className:"processing-ring"}),g.jsx("div",{className:"processing-ring"})]}),g.jsx("h3",{children:"Analyzing Job Description"}),g.jsx("p",{children:"Extracting requirements, skills, and keywords..."})]})}):g.jsxs("div",{className:"add-app",children:[$&&g.jsx(yf,{message:$.message,type:$.type,onClose:()=>at(null)}),h&&g.jsxs("div",{className:"add-app-error",children:[g.jsx("span",{className:"error-icon",children:"!"}),g.jsx("span",{children:h})]}),g.jsxs("form",{className:"add-app-form",onSubmit:wt,children:[g.jsxs("div",{className:"paste-hero",children:[g.jsxs("div",{className:"paste-hero-header",children:[g.jsx("div",{className:"paste-icon",children:g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),g.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]})}),g.jsxs("div",{children:[g.jsx("h3",{children:"Paste Job Description"}),g.jsx("p",{children:"AI extracts company, role, requirements automatically"})]})]}),g.jsx(nc,{className:"paste-textarea",placeholder:`Paste the full job posting from LinkedIn, Indeed, or company website...

Example:
About the role
We're looking for a Senior Software Engineer to join our team...

Requirements:
- 5+ years of experience with React
- Strong TypeScript skills
...`,value:_,onChange:ot,rows:5}),_.length>0&&_.length<ud&&g.jsxs("div",{className:"paste-hint",children:["Keep pasting... (",ud-_.length," more characters for auto-analysis)"]}),c&&g.jsxs("div",{className:"paste-status analyzing",children:[g.jsx("span",{className:"status-dot"}),"Analyzing job description..."]}),rt&&!c&&g.jsxs("div",{className:"paste-status success",children:[g.jsx("span",{className:"status-check",children:""}),"Job details extracted successfully"]})]}),(H||W)&&g.jsx("div",{className:`match-card ${H?"show":""}`,children:W?g.jsxs("div",{className:"match-loading",children:[g.jsx("div",{className:"match-loading-bar"}),g.jsx("span",{children:"Calculating your match score..."})]}):g.jsx(g.Fragment,{children:g.jsxs("div",{className:"match-score-display",children:[g.jsxs("div",{className:"match-score-circle",style:{"--score":H.matchScore,"--color":H.matchScore>=70?"var(--color-success)":H.matchScore>=50?"var(--color-warning)":"var(--color-error)"},children:[g.jsx("span",{className:"score-number",children:H.matchScore}),g.jsx("span",{className:"score-percent",children:"%"})]}),g.jsxs("div",{className:"match-details",children:[g.jsx("h4",{children:H.matchScore>=70?"Strong Match!":H.matchScore>=50?"Good Potential":"Stretch Role"}),g.jsx("p",{children:H.summary}),H.gaps?.length>0&&g.jsxs("div",{className:"match-gaps-count",children:[g.jsx("span",{className:"gap-dot"}),H.gaps.length," skill gap",H.gaps.length!==1?"s":""," to address"]})]})]})})}),g.jsxs("div",{className:`details-section ${z||o?"show":""}`,children:[g.jsxs("div",{className:"section-header",children:[g.jsx("h4",{children:"Job Details"}),rt&&g.jsx("span",{className:"auto-filled-badge",children:"Auto-filled"})]}),g.jsxs("div",{className:"form-grid",children:[g.jsxs("div",{className:"form-field",children:[g.jsxs("label",{children:["Company ",g.jsx("span",{className:"required",children:"*"})]}),g.jsx(dA,{placeholder:"Google, Meta, Stripe...",value:d,onChange:ct=>{nt.current.company=!0,f(ct)}})]}),g.jsxs("div",{className:"form-field",children:[g.jsxs("label",{children:["Role ",g.jsx("span",{className:"required",children:"*"})]}),g.jsx(dA,{placeholder:"Senior Software Engineer",value:m,onChange:ct=>{nt.current.role=!0,w(ct)}})]}),g.jsxs("div",{className:"form-field",children:[g.jsx("label",{children:"Location"}),g.jsx(dA,{placeholder:"San Francisco, NYC, London...",value:v,onChange:ct=>{nt.current.location=!0,b(ct)}})]}),g.jsxs("div",{className:"form-field",children:[g.jsx("label",{children:"Work Type"}),g.jsx("div",{className:"worktype-pills",children:xx.map(ct=>g.jsxs("button",{type:"button",className:`worktype-pill ${y===ct.value?"active":""}`,onClick:()=>x(ct.value),style:{"--worktype-color":ct.color},children:[g.jsx("span",{className:"worktype-pill-dot"}),g.jsx("span",{children:ct.label})]},ct.value))})]}),g.jsxs("div",{className:"form-field",children:[g.jsx("label",{children:"Salary"}),g.jsx(dA,{placeholder:"$150k - $200k",value:E,onChange:ct=>{nt.current.salary=!0,U(ct)}})]})]}),g.jsxs("div",{className:"form-field",children:[g.jsx("label",{children:"Status"}),g.jsx("div",{className:"status-pills",children:Ex.map(ct=>g.jsxs("button",{type:"button",className:`status-pill ${S===ct.value?"active":""}`,onClick:()=>T(ct.value),style:{"--status-color":ct.color},children:[g.jsx("span",{className:"status-pill-dot"}),g.jsx("span",{children:ct.label})]},ct.value))})]}),g.jsxs("div",{className:"form-field",children:[g.jsx("label",{children:"Job Posting URL"}),g.jsx(dA,{placeholder:"https://linkedin.com/jobs/view/...",value:F,onChange:O})]})]}),rt&&g.jsxs("div",{className:"requirements-section",children:[g.jsx("div",{className:"section-header",children:g.jsx("h4",{children:"Extracted Requirements"})}),g.jsxs("div",{className:"requirements-grid",children:[rt.requirements?.mustHave?.length>0&&g.jsxs("div",{className:"requirement-card must-have",children:[g.jsxs("h5",{children:[g.jsx("span",{className:"req-icon",children:"!"}),"Must Have"]}),g.jsx("ul",{children:rt.requirements.mustHave.map((ct,Mt)=>g.jsx("li",{children:ct},Mt))})]}),rt.requirements?.niceToHave?.length>0&&g.jsxs("div",{className:"requirement-card nice-to-have",children:[g.jsxs("h5",{children:[g.jsx("span",{className:"req-icon",children:"+"}),"Nice to Have"]}),g.jsx("ul",{children:rt.requirements.niceToHave.map((ct,Mt)=>g.jsx("li",{children:ct},Mt))})]})]}),rt.keywords?.length>0&&g.jsxs("div",{className:"keywords-row",children:[g.jsx("span",{className:"keywords-label",children:"Keywords:"}),g.jsx("div",{className:"keyword-tags",children:rt.keywords.slice(0,8).map((ct,Mt)=>g.jsx("span",{className:"keyword-tag",children:ct},Mt))})]})]}),t.length>0&&g.jsxs("div",{className:"contacts-section",children:[g.jsxs("div",{className:"section-header",children:[g.jsx("h4",{children:"Link Contacts"}),g.jsx("span",{className:"section-hint",children:"People connected to this opportunity"})]}),g.jsx("div",{className:"contact-list",children:t.map(ct=>g.jsxs("button",{type:"button",className:`contact-item ${G.includes(ct.id)?"selected":""}`,onClick:()=>St(ct.id),children:[g.jsx("div",{className:"contact-avatar",children:ct.name.charAt(0).toUpperCase()}),g.jsxs("div",{className:"contact-info",children:[g.jsx("span",{className:"contact-name",children:ct.name}),ct.role&&g.jsx("span",{className:"contact-role",children:ct.role})]}),g.jsx("div",{className:"contact-check",children:G.includes(ct.id)&&""})]},ct.id))})]}),g.jsxs("div",{className:"notes-section",children:[g.jsx("div",{className:"section-header",children:g.jsx("h4",{children:"Notes"})}),g.jsx(nc,{placeholder:"Interview prep notes, referral info, follow-up reminders...",value:K,onChange:it,rows:3})]}),g.jsxs("div",{className:"form-actions",children:[i&&g.jsx(xe,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),g.jsx(xe,{type:"submit",variant:"primary",children:o?"Update Application":"Add Application"})]})]})]})}const N0=["Recruiter","Hiring Manager","HR","Technical Interviewer","Team Lead","Director","VP","Referral","Other"];function Qx({contact:o,onSave:t,onCancel:e}){const[A,i]=Y.useState({name:"",email:"",phone:"",company:"",role:"",linkedin:"",notes:""}),[a,l]=Y.useState(!1),[c,h]=Y.useState(!1),[d,f]=Y.useState(""),[m,w]=Y.useState(null),v=Y.useRef(null);Y.useEffect(()=>{if(o){const T=o.role&&!N0.includes(o.role);i({name:o.name||"",email:o.email||"",phone:o.phone||"",company:o.company||"",role:o.role||"",linkedin:o.linkedin||"",notes:o.notes||""}),l(T)}},[o]),Y.useEffect(()=>{const T=_=>{v.current&&!v.current.contains(_.target)&&h(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const b=T=>_=>{i(D=>({...D,[T]:_}))},y=T=>{T==="Other"?(l(!0),i(_=>({..._,role:""}))):(l(!1),i(_=>({..._,role:T}))),h(!1)},x=T=>{if(!T)return{valid:!0,error:""};const _=/^[\d\s\-+()]+$/,D=T.replace(/\D/g,"");return _.test(T)?D.length<7?{valid:!1,error:"Phone number too short (min 7 digits)"}:D.length>15?{valid:!1,error:"Phone number too long (max 15 digits)"}:{valid:!0,error:""}:{valid:!1,error:"Only numbers, spaces, +, -, () allowed"}},E=T=>{if(i(_=>({..._,phone:T})),T){const{error:_}=x(T);f(_)}else f("")},U=T=>{if(T.preventDefault(),!A.name.trim()){w({message:"Name is required",type:"error"});return}const _=x(A.phone);if(!_.valid){f(_.error),w({message:_.error,type:"error"});return}t(A)},S=a?"Other":A.role||"Select role...";return g.jsxs(g.Fragment,{children:[m&&g.jsx(yf,{message:m.message,type:m.type,onClose:()=>w(null)}),g.jsxs("form",{className:"contact-form",onSubmit:U,children:[g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{className:"form-label",children:"Name *"}),g.jsx(dA,{placeholder:"John Smith",value:A.name,onChange:b("name"),required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{className:"form-label",children:"Role"}),g.jsxs("div",{className:"custom-select",ref:v,children:[g.jsxs("button",{type:"button",className:`custom-select-trigger ${c?"open":""}`,onClick:()=>h(!c),children:[g.jsx("span",{className:A.role||a?"":"placeholder",children:S}),g.jsx("span",{className:"custom-select-arrow",children:""})]}),c&&g.jsx("div",{className:"custom-select-options",children:N0.map(T=>g.jsx("button",{type:"button",className:`custom-select-option ${T==="Other"&&a||T===A.role&&!a?"selected":""}`,onClick:()=>y(T),children:T},T))})]}),a&&g.jsx(dA,{placeholder:"Enter custom role",value:A.role,onChange:b("role"),style:{marginTop:"var(--space-2)"}})]})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{className:"form-label",children:"Email"}),g.jsx(dA,{type:"email",placeholder:"john@company.com",value:A.email,onChange:b("email")})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{className:"form-label",children:"Phone"}),g.jsx(dA,{placeholder:"+1 555-123-4567",value:A.phone,onChange:E,className:d?"input-error":""}),d&&g.jsx("span",{className:"field-error",children:d})]})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{className:"form-label",children:"Company"}),g.jsx(dA,{placeholder:"Company name",value:A.company,onChange:b("company")})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{className:"form-label",children:"LinkedIn"}),g.jsx(dA,{placeholder:"linkedin.com/in/username",value:A.linkedin,onChange:b("linkedin")})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{className:"form-label",children:"Notes"}),g.jsx(nc,{placeholder:"How you met, conversation topics, follow-up dates...",value:A.notes,onChange:b("notes"),rows:3})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx(xe,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),g.jsx(xe,{type:"submit",variant:"primary",children:o?"Update Contact":"Add Contact"})]})]})]})}var Ux=Iw();const H0=["Recruiter","Hiring Manager","Senior Engineer","Tech Lead","Peer","HR","Referrer","Other"],hd=200;function Fx({contact:o,rowNumber:t,onSave:e,onDelete:A}){const[i,a]=Y.useState(!1),[l,c]=Y.useState(!1),[h,d]=Y.useState(!1),[f,m]=Y.useState({...o}),[w,v]=Y.useState(!1),b=Y.useRef(null),[y,x]=Y.useState(!1),E=Y.useRef(null);Y.useEffect(()=>{i||m({...o})},[o,i]),Y.useEffect(()=>{const F=O=>{b.current&&!b.current.contains(O.target)&&v(!1)};return w&&document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[w]),Y.useEffect(()=>{const F=O=>{E.current&&!E.current.contains(O.target)&&x(!1)};return y&&document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[y]);const U=(F,O)=>{if(F==="notes"){const K=O.trim().split(/\s+/).filter(it=>it.length>0);K.length>hd&&(O=K.slice(0,hd).join(" "))}m(K=>({...K,[F]:O}))},S=F=>F?F.trim().split(/\s+/).filter(O=>O.length>0).length:0,T=()=>{e({...f,id:o.id}),a(!1),v(!1)},_=()=>{m({...o}),a(!1),v(!1)},D=F=>{F.key==="Enter"&&T(),F.key==="Escape"&&_()};return i?g.jsxs("div",{className:"contact-row editing",children:[g.jsx("div",{className:"contact-col col-num",children:t}),g.jsx("div",{className:"contact-col col-name",children:g.jsx("input",{type:"text",value:f.name,onChange:F=>U("name",F.target.value),onKeyDown:D,className:"editable-cell",autoFocus:!0})}),g.jsx("div",{className:"contact-col col-role",children:g.jsxs("div",{className:"custom-dropdown",ref:b,children:[g.jsxs("button",{type:"button",className:`custom-dropdown-trigger ${w?"open":""}`,onClick:()=>v(!w),children:[g.jsx("span",{className:f.role?"":"placeholder",children:f.role||"Select..."}),g.jsx("span",{className:"dropdown-arrow",children:""})]}),w&&g.jsx("div",{className:"custom-dropdown-options",children:H0.map(F=>g.jsx("button",{type:"button",className:`custom-dropdown-option ${f.role===F?"selected":""}`,onClick:()=>{U("role",F),v(!1)},children:F},F))})]})}),g.jsx("div",{className:"contact-col col-company",children:g.jsx("input",{type:"text",value:f.company||"",onChange:F=>U("company",F.target.value),onKeyDown:D,className:"editable-cell"})}),g.jsx("div",{className:"contact-col col-email",children:g.jsx("input",{type:"text",value:f.email||"",onChange:F=>U("email",F.target.value),onKeyDown:D,className:"editable-cell"})}),g.jsx("div",{className:"contact-col col-phone",children:g.jsx("input",{type:"text",value:f.phone||"",onChange:F=>U("phone",F.target.value),onKeyDown:D,className:"editable-cell"})}),g.jsx("div",{className:"contact-col col-social",children:g.jsxs("div",{className:"social-edit-icons",children:[g.jsx("input",{type:"text",value:f.linkedin||"",onChange:F=>U("linkedin",F.target.value),onKeyDown:D,className:"editable-cell social-input",placeholder:"LinkedIn",title:"LinkedIn URL"}),g.jsx("input",{type:"text",value:f.twitter||"",onChange:F=>U("twitter",F.target.value),onKeyDown:D,className:"editable-cell social-input",placeholder:"X",title:"X/Twitter handle"}),g.jsx("input",{type:"text",value:f.instagram||"",onChange:F=>U("instagram",F.target.value),onKeyDown:D,className:"editable-cell social-input",placeholder:"Insta",title:"Instagram handle"})]})}),g.jsxs("div",{className:"contact-col col-actions",children:[g.jsx("button",{className:"icon-btn save",onClick:T,title:"Save",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--color-success)"},children:g.jsx("polyline",{points:"20 6 9 17 4 12"})})}),g.jsx("button",{className:"icon-btn cancel",onClick:_,title:"Cancel",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}):g.jsxs("div",{className:"contact-row",children:[g.jsx("div",{className:"contact-col col-num",children:t}),g.jsx("div",{className:"contact-col col-name",onClick:()=>a(!0),children:g.jsx("span",{className:"contact-name",children:o.name})}),g.jsx("div",{className:"contact-col col-role",onClick:()=>a(!0),children:g.jsx("span",{className:"contact-role",style:{color:"var(--color-text-secondary)",fontSize:"13px",fontWeight:"400"},children:o.role||"-"})}),g.jsx("div",{className:"contact-col col-company",onClick:()=>a(!0),children:g.jsx("span",{className:"contact-company",children:o.company||"-"})}),g.jsx("div",{className:"contact-col col-email",onClick:()=>a(!0),children:o.email?g.jsx("span",{className:"contact-text",title:o.email,children:o.email}):"-"}),g.jsx("div",{className:"contact-col col-phone",onClick:()=>a(!0),children:o.phone||"-"}),g.jsx("div",{className:"contact-col col-social",children:g.jsxs("div",{className:"social-icons",children:[o.linkedin&&g.jsx("a",{href:o.linkedin.startsWith("http")?o.linkedin:`https://${o.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"social-link",title:"LinkedIn",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),o.twitter&&g.jsx("a",{href:o.twitter.startsWith("http")?o.twitter:`https://x.com/${o.twitter.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"social-link",title:"X (Twitter)",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),o.instagram&&g.jsx("a",{href:o.instagram.startsWith("http")?o.instagram:`https://instagram.com/${o.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"social-link",title:"Instagram",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),!o.linkedin&&!o.twitter&&!o.instagram&&"-"]})}),g.jsxs("div",{className:"contact-col col-actions",children:[g.jsx("button",{className:"icon-btn view",onClick:F=>{F.stopPropagation(),c(!0)},title:"View Details",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),g.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),g.jsx("button",{className:"icon-btn edit",onClick:()=>a(!0),title:"Edit",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),g.jsx("button",{className:"icon-btn delete",onClick:F=>{F.stopPropagation(),A(o.id)},title:"Delete",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("polyline",{points:"3 6 5 6 21 6"}),g.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),l&&Ux.createPortal(g.jsx("div",{className:"contact-detail-overlay",onClick:()=>{c(!1),d(!1)},children:g.jsxs("div",{className:"contact-detail-modal",onClick:F=>F.stopPropagation(),children:[g.jsxs("div",{className:"contact-detail-header",children:[g.jsx("h2",{children:h?"Edit Contact":o.name}),g.jsx("button",{className:"close-btn",onClick:()=>{c(!1),d(!1)},children:""})]}),g.jsx("div",{className:"contact-detail-body",children:h?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Name"}),g.jsx("input",{type:"text",className:"modal-input",value:f.name,onChange:F=>U("name",F.target.value),autoFocus:!0})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Role"}),g.jsxs("div",{className:"modal-dropdown",ref:E,children:[g.jsxs("button",{type:"button",className:`modal-dropdown-trigger ${y?"open":""}`,onClick:()=>x(!y),children:[g.jsx("span",{className:f.role?"":"placeholder",children:f.role||"Select Role..."}),g.jsx("span",{className:"dropdown-arrow",children:""})]}),y&&g.jsx("div",{className:"modal-dropdown-options",children:H0.map(F=>g.jsx("button",{type:"button",className:`modal-dropdown-option ${f.role===F?"selected":""}`,onClick:()=>{U("role",F),x(!1)},children:F},F))})]})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Company"}),g.jsx("input",{type:"text",className:"modal-input",value:f.company||"",onChange:F=>U("company",F.target.value)})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Email"}),g.jsx("input",{type:"email",className:"modal-input",value:f.email||"",onChange:F=>U("email",F.target.value)})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Phone"}),g.jsx("input",{type:"tel",className:"modal-input",value:f.phone||"",onChange:F=>U("phone",F.target.value)})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"LinkedIn"}),g.jsx("input",{type:"text",className:"modal-input",value:f.linkedin||"",onChange:F=>U("linkedin",F.target.value),placeholder:"https://linkedin.com/in/..."})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"X (Twitter)"}),g.jsx("input",{type:"text",className:"modal-input",value:f.twitter||"",onChange:F=>U("twitter",F.target.value),placeholder:"@handle or URL"})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Instagram"}),g.jsx("input",{type:"text",className:"modal-input",value:f.instagram||"",onChange:F=>U("instagram",F.target.value),placeholder:"@handle or URL"})]}),g.jsxs("div",{className:"detail-row detail-notes",children:[g.jsxs("span",{className:"detail-label",children:["Notes (",S(f.notes),"/",hd," words)"]}),g.jsx("textarea",{className:"modal-textarea",value:f.notes||"",onChange:F=>U("notes",F.target.value),rows:5})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Role"}),g.jsx("span",{className:"detail-value",children:o.role||"-"})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Company"}),g.jsx("span",{className:"detail-value",children:o.company||"-"})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Email"}),g.jsx("span",{className:"detail-value",children:o.email?g.jsx("a",{href:`mailto:${o.email}`,children:o.email}):"-"})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Phone"}),g.jsx("span",{className:"detail-value",children:o.phone?g.jsx("a",{href:`tel:${o.phone}`,children:o.phone}):"-"})]}),g.jsxs("div",{className:"detail-row",children:[g.jsx("span",{className:"detail-label",children:"Social"}),g.jsx("span",{className:"detail-value",children:g.jsxs("div",{className:"social-icons-modal",children:[o.linkedin&&g.jsx("a",{href:o.linkedin.startsWith("http")?o.linkedin:`https://${o.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"social-link",title:"LinkedIn",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),o.twitter&&g.jsx("a",{href:o.twitter.startsWith("http")?o.twitter:`https://x.com/${o.twitter.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"social-link",title:"X (Twitter)",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),o.instagram&&g.jsx("a",{href:o.instagram.startsWith("http")?o.instagram:`https://instagram.com/${o.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"social-link",title:"Instagram",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),!o.linkedin&&!o.twitter&&!o.instagram&&"-"]})})]}),g.jsxs("div",{className:"detail-row detail-notes",children:[g.jsx("span",{className:"detail-label",children:"Notes"}),g.jsx("p",{className:"detail-value",children:o.notes||"-"})]})]})}),g.jsx("div",{className:"contact-detail-footer",children:h?g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn-secondary",onClick:()=>{m({...o}),d(!1)},children:"Cancel"}),g.jsx("button",{className:"btn-primary",onClick:()=>{T(),d(!1),c(!1)},children:"Save"})]}):g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn-secondary",onClick:()=>c(!1),children:"Close"}),g.jsx("button",{className:"btn-primary",onClick:()=>d(!0),children:"Edit"})]})})]})}),document.body)]})}const Tx=["Recruiter","Hiring Manager","Senior Engineer","Tech Lead","Peer","HR","Referrer","Other"];function _x({contacts:o=[],onAddContact:t,onEditContact:e,onDeleteContact:A,onSaveContact:i}){const[a,l]=Y.useState(""),[c,h]=Y.useState("all"),[d,f]=Y.useState(!1),m=Y.useRef(null),w=Y.useRef(null),[v,b]=Y.useState({name:"",email:"",phone:"",company:"",role:"",linkedin:"",twitter:"",instagram:"",notes:""});Y.useEffect(()=>{const G=q=>{m.current&&!m.current.contains(q.target)&&f(!1)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]);const y=200,x=(G,q)=>{if(G==="notes"){const $=q.trim().split(/\s+/).filter(at=>at.length>0);$.length>y&&(q=$.slice(0,y).join(" "))}b($=>({...$,[G]:q}))},E=()=>{v.name.trim()&&(i&&i(v),b({name:"",email:"",phone:"",company:"",role:"",linkedin:"",twitter:"",instagram:"",notes:""}))},U=G=>{G.key==="Enter"&&v.name.trim()&&E()},S=Array.isArray(o)?o:[],T=Y.useMemo(()=>[...new Set(S.map(G=>G.company).filter(Boolean))].sort(),[S]),_=Y.useMemo(()=>S.filter(G=>{if(a){const q=a.toLowerCase();if(!(G.name?.toLowerCase().includes(q)||G.email?.toLowerCase().includes(q)||G.company?.toLowerCase().includes(q)||G.role?.toLowerCase().includes(q)||G.notes?.toLowerCase().includes(q)))return!1}return!(c!=="all"&&G.company!==c)}),[S,a,c]),D=a||c!=="all",F=()=>{l(""),h("all")},O=async()=>{if(S.length===0)return;const G=["ID","Name","Role","Company","Email","Phone","LinkedIn","X (Twitter)","Instagram","Notes","Created At","Updated At"],q=S.map(z=>[z.id||"",z.name||"",z.role||"",z.company||"",z.email||"",z.phone||"",z.linkedin||"",z.twitter||"",z.instagram||"",z.notes||"",z.createdAt||"",z.updatedAt||""]),$=z=>{const st=String(z);return st.includes(",")||st.includes('"')||st.includes(`
`)?`"${st.replace(/"/g,'""')}"`:st},at=[G.join(","),...q.map(z=>z.map($).join(","))].join(`
`),rt=`contacts-${new Date().toISOString().split("T")[0]}.csv`;if(window.showSaveFilePicker)try{const st=await(await window.showSaveFilePicker({suggestedName:rt,types:[{description:"CSV File",accept:{"text/csv":[".csv"]}}]})).createWritable();await st.write(at),await st.close();return}catch(z){if(z.name==="AbortError")return}const N=new Blob([at],{type:"text/csv"}),M=window.URL.createObjectURL(N),R=document.createElement("a");R.href=M,R.download=rt,document.body.appendChild(R),R.click(),window.URL.revokeObjectURL(M),document.body.removeChild(R)},K=G=>{const q=G.split(`
`).filter(M=>M.trim());if(q.length<2)return[];const $=q[0].split(",").map(M=>M.trim().toLowerCase().replace(/[^a-z0-9]/g,"")),at=[],rt={name:["name","fullname","full_name","contactname","contact"],role:["role","title","jobtitle","job_title","position"],company:["company","organization","org","employer","workplace"],email:["email","emailaddress","email_address","mail","e_mail"],phone:["phone","phonenumber","phone_number","mobile","cell","telephone","tel"],linkedin:["linkedin","linkedinurl","linkedin_url","linkedinprofile"],twitter:["twitter","xtwitter","x","twitterhandle","twitter_handle"],instagram:["instagram","insta","ig","instagramhandle"],notes:["notes","note","comments","comment","description","bio"]},N={};$.forEach((M,R)=>{for(const[z,st]of Object.entries(rt))if(st.includes(M)){N[z]=R;break}});for(let M=1;M<q.length;M++){const R=[];let z="",st=!1;for(const j of q[M])j==='"'?st=!st:j===","&&!st?(R.push(z.trim()),z=""):z+=j;R.push(z.trim());const H={};for(const[j,W]of Object.entries(N))R[W]&&(H[j]=R[W]);H.name&&at.push(H)}return at},it=Y.useCallback(G=>{const q=G.target.files?.[0];if(!q)return;const $=new FileReader;$.onload=at=>{const rt=at.target?.result;if(typeof rt=="string"){const N=K(rt);N.length>0?(N.forEach(M=>{i&&i(M)}),alert(`Imported ${N.length} contact(s)`)):alert("No valid contacts found in CSV")}},$.readAsText(q),w.current&&(w.current.value="")},[i]);return g.jsxs("div",{className:"contacts-view",children:[g.jsxs("div",{className:"contacts-view-header",children:[g.jsxs("div",{className:"contacts-view-title",children:[g.jsx("h1",{children:"Contacts"}),g.jsx("span",{className:"contacts-total",children:S.length})]}),g.jsxs("div",{className:"contacts-header-actions",children:[g.jsx("input",{type:"file",ref:w,onChange:it,accept:".csv",style:{display:"none"}}),g.jsxs("button",{className:"import-btn",onClick:()=>w.current?.click(),title:"Import from CSV",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),g.jsx("polyline",{points:"17 8 12 3 7 8"}),g.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Import"]}),S.length>0&&g.jsxs("button",{className:"download-btn",onClick:O,title:"Download as CSV",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),g.jsx("polyline",{points:"7 10 12 15 17 10"}),g.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]})]})]}),S.length>0&&g.jsxs("div",{className:"contacts-toolbar",children:[g.jsxs("div",{className:"contacts-search",children:[g.jsx("span",{className:"search-icon"}),g.jsx("input",{type:"text",placeholder:"Search contacts...",value:a,onChange:G=>l(G.target.value)}),a&&g.jsx("button",{className:"search-clear",onClick:()=>l(""),children:""})]}),T.length>1&&g.jsxs("div",{className:"contacts-filter",children:[g.jsx("label",{children:"Company"}),g.jsxs("select",{value:c,onChange:G=>h(G.target.value),children:[g.jsx("option",{value:"all",children:"All Companies"}),T.map(G=>g.jsx("option",{value:G,children:G},G))]})]}),D&&g.jsx("button",{className:"contacts-clear-btn",onClick:F,children:"Clear"}),D&&g.jsxs("span",{className:"contacts-results",children:[_.length," of ",S.length]})]}),g.jsx("div",{className:"contacts-content",children:g.jsxs("div",{className:"contacts-table",children:[g.jsxs("div",{className:"contacts-header-row",children:[g.jsx("div",{className:"contact-col col-num",children:"#"}),g.jsx("div",{className:"contact-col col-name",children:"Name"}),g.jsx("div",{className:"contact-col col-role",children:"Role"}),g.jsx("div",{className:"contact-col col-company",children:"Company"}),g.jsx("div",{className:"contact-col col-email",children:"Email"}),g.jsx("div",{className:"contact-col col-phone",children:"Phone"}),g.jsx("div",{className:"contact-col col-social",children:"Social"}),g.jsx("div",{className:"contact-col col-actions",children:"Actions"})]}),_.length>0?_.map((G,q)=>g.jsx(Fx,{contact:G,rowNumber:q+1,onSave:i,onDelete:A},G.id)):S.length>0?g.jsxs("div",{className:"contacts-no-results-row",children:[g.jsx("span",{children:"No contacts match your search"}),g.jsx("button",{onClick:F,children:"Clear Filters"})]}):null,g.jsxs("div",{className:"contact-row add-row",children:[g.jsx("div",{className:"contact-col col-num",children:g.jsx("span",{className:"add-icon",style:{color:"var(--color-primary)",fontSize:18},children:"+"})}),g.jsx("div",{className:"contact-col col-name",children:g.jsx("input",{type:"text",placeholder:"Name *",value:v.name,onChange:G=>x("name",G.target.value),onKeyDown:U,autoFocus:!0,className:"editable-cell"})}),g.jsx("div",{className:"contact-col col-role",children:g.jsxs("div",{className:"custom-dropdown",ref:m,children:[g.jsxs("button",{type:"button",className:`custom-dropdown-trigger ${d?"open":""}`,onClick:()=>f(!d),children:[g.jsx("span",{className:v.role?"":"placeholder",children:v.role||"Select Role..."}),g.jsx("span",{className:"dropdown-arrow",children:""})]}),d&&g.jsx("div",{className:"custom-dropdown-options",children:Tx.map(G=>g.jsx("button",{type:"button",className:`custom-dropdown-option ${v.role===G?"selected":""}`,onClick:()=>{x("role",G),f(!1)},children:G},G))})]})}),g.jsx("div",{className:"contact-col col-company",children:g.jsx("input",{type:"text",placeholder:"Company",value:v.company,onChange:G=>x("company",G.target.value),onKeyDown:U,className:"editable-cell"})}),g.jsx("div",{className:"contact-col col-email",children:g.jsx("input",{type:"email",placeholder:"Email",value:v.email,onChange:G=>x("email",G.target.value),onKeyDown:U,className:"editable-cell"})}),g.jsx("div",{className:"contact-col col-phone",children:g.jsx("input",{type:"tel",placeholder:"Phone",value:v.phone,onChange:G=>x("phone",G.target.value),onKeyDown:U,className:"editable-cell"})}),g.jsx("div",{className:"contact-col col-social",children:g.jsxs("div",{className:"social-edit-icons",children:[g.jsx("input",{type:"text",placeholder:"LinkedIn",value:v.linkedin,onChange:G=>x("linkedin",G.target.value),onKeyDown:U,className:"editable-cell social-input",title:"LinkedIn URL"}),g.jsx("input",{type:"text",placeholder:"X",value:v.twitter,onChange:G=>x("twitter",G.target.value),onKeyDown:U,className:"editable-cell social-input",title:"X/Twitter handle"}),g.jsx("input",{type:"text",placeholder:"Insta",value:v.instagram,onChange:G=>x("instagram",G.target.value),onKeyDown:U,className:"editable-cell social-input",title:"Instagram handle"})]})}),g.jsx("div",{className:"contact-col col-actions",children:g.jsx("button",{className:"add-confirm-btn",onClick:E,disabled:!v.name.trim(),children:"Add"})})]})]})})]})}const dd=[{value:"applied",label:"Applied",color:"#6366f1"},{value:"screening",label:"Screening",color:"#8b5cf6"},{value:"interview",label:"Interviewing",color:"#f59e0b"},{value:"offer",label:"Offer Received",color:"#10b981"},{value:"accepted",label:"Accepted",color:"#059669"},{value:"rejected",label:"Rejected",color:"#ef4444"},{value:"withdrawn",label:"Withdrawn",color:"#6b7280"}];function Dx({job:o,contacts:t=[],onStatusChange:e,onDelete:A,onEdit:i}){const[a,l]=Y.useState(!1),[c,h]=Y.useState(!1),d=Y.useRef(null),{company:f,role:m,location:w,status:v,link:b,gapAnalysis:y,parsedJD:x,linkedContacts:E=[]}=o;Y.useEffect(()=>{const F=O=>{d.current&&!d.current.contains(O.target)&&h(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const U=E.map(F=>t.find(O=>O.id===F)).filter(Boolean),S=y?.matchScore||null,T=F=>F>=70?"#10b981":F>=50?"#f59e0b":"#ef4444",_=dd.find(F=>F.value===v)||dd[0],D=F=>{e(o.id,F),h(!1)};return g.jsxs("div",{className:`job-card ${a?"expanded":""}`,children:[g.jsxs("div",{className:"job-card-header",onClick:()=>l(!a),children:[g.jsxs("div",{className:"job-card-left",children:[g.jsx("div",{className:"company-avatar",children:f.charAt(0).toUpperCase()}),g.jsxs("div",{className:"job-info",children:[g.jsx("h3",{className:"job-title",children:m}),g.jsxs("div",{className:"job-meta",children:[g.jsx("span",{className:"job-company",children:f}),w&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"meta-dot",children:""}),g.jsx("span",{className:"job-location",children:w})]})]}),U.length>0&&g.jsxs("div",{className:"job-contacts",children:[U.slice(0,2).map(F=>g.jsx("span",{className:"contact-badge",children:F.name},F.id)),U.length>2&&g.jsxs("span",{className:"contact-badge more",children:["+",U.length-2]})]})]})]}),g.jsxs("div",{className:"job-card-right",children:[S!==null&&g.jsxs("div",{className:"match-score",style:{"--score-color":T(S)},children:[g.jsxs("svg",{className:"score-ring",viewBox:"0 0 36 36",children:[g.jsx("path",{className:"score-bg",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),g.jsx("path",{className:"score-fill",strokeDasharray:`${S}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),g.jsxs("span",{className:"score-text",children:[S,"%"]})]}),g.jsxs("div",{className:"status-wrapper",ref:d,children:[g.jsxs("button",{className:"status-button",style:{"--status-color":_.color},onClick:F=>{F.stopPropagation(),h(!c)},children:[g.jsx("span",{className:"status-dot"}),_.label,g.jsx("svg",{className:"status-chevron",width:"12",height:"12",viewBox:"0 0 12 12",children:g.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})})]}),c&&g.jsx("div",{className:"status-dropdown",children:dd.map(F=>g.jsxs("button",{className:`status-option ${F.value===v?"active":""}`,onClick:O=>{O.stopPropagation(),D(F.value)},children:[g.jsx("span",{className:"option-dot",style:{background:F.color}}),F.label]},F.value))})]}),g.jsx("button",{className:`expand-btn ${a?"expanded":""}`,children:g.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",children:g.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round"})})})]})]}),a&&g.jsxs("div",{className:"job-card-body",children:[y?g.jsxs(g.Fragment,{children:[y.summary&&g.jsx("p",{className:"gap-summary",children:y.summary}),g.jsxs("div",{className:"gap-grid",children:[y.strengths?.length>0&&g.jsxs("div",{className:"gap-card strengths",children:[g.jsxs("div",{className:"gap-card-header",children:[g.jsx("span",{className:"gap-icon icon-check"}),g.jsx("h4",{children:"Your Strengths"}),g.jsx("span",{className:"gap-count",children:y.strengths.length})]}),g.jsxs("div",{className:"gap-list",children:[y.strengths.slice(0,4).map((F,O)=>g.jsxs("div",{className:"gap-item",children:[g.jsx("div",{className:"gap-item-marker"}),g.jsxs("div",{className:"gap-item-content",children:[g.jsx("span",{className:"gap-item-title",children:F.skill}),F.relevance&&g.jsx("p",{className:"gap-item-desc",children:F.relevance})]})]},O)),y.strengths.length>4&&g.jsxs("div",{className:"gap-more",children:["+",y.strengths.length-4," more"]})]})]}),y.gaps?.length>0&&g.jsxs("div",{className:"gap-card gaps",children:[g.jsxs("div",{className:"gap-card-header",children:[g.jsx("span",{className:"gap-icon icon-alert"}),g.jsx("h4",{children:"Gaps to Address"}),g.jsx("span",{className:"gap-count",children:y.gaps.length})]}),g.jsxs("div",{className:"gap-list",children:[y.gaps.slice(0,4).map((F,O)=>g.jsxs("div",{className:"gap-item",children:[g.jsx("div",{className:"gap-item-marker"}),g.jsxs("div",{className:"gap-item-content",children:[g.jsx("span",{className:"gap-item-title",children:F.requirement}),F.suggestion&&g.jsx("p",{className:"gap-item-desc",children:F.suggestion})]})]},O)),y.gaps.length>4&&g.jsxs("div",{className:"gap-more",children:["+",y.gaps.length-4," more"]})]})]})]}),x?.keywords?.length>0&&g.jsxs("div",{className:"keywords-section",children:[g.jsx("span",{className:"keywords-label",children:"Key Skills:"}),g.jsx("div",{className:"keyword-list",children:x.keywords.slice(0,6).map((F,O)=>g.jsx("span",{className:"keyword",children:F},O))})]})]}):g.jsxs("div",{className:"no-analysis",children:[g.jsx("p",{children:"No gap analysis available"}),g.jsx("span",{children:"Upload a resume to see how you match this role"})]}),g.jsxs("div",{className:"job-actions",children:[b&&g.jsxs("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"action-link",onClick:F=>F.stopPropagation(),children:[g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",children:[g.jsx("path",{d:"M12 8.5V12.5C12 13.05 11.55 13.5 11 13.5H3C2.45 13.5 2 13.05 2 12.5V4.5C2 3.95 2.45 3.5 3 3.5H7",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),g.jsx("path",{d:"M10 2H14V6",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round"}),g.jsx("path",{d:"M6.5 9.5L14 2",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round"})]}),"View Posting"]}),g.jsxs("button",{className:"action-btn",onClick:F=>{F.stopPropagation(),i(o)},children:[g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",children:g.jsx("path",{d:"M11.5 2.5L13.5 4.5L5 13H3V11L11.5 2.5Z",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})}),"Edit"]}),g.jsxs("button",{className:"action-btn danger",onClick:F=>{F.stopPropagation(),window.confirm("Delete this application?")&&A(o.id)},children:[g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",children:g.jsx("path",{d:"M3 4H13M6 4V3C6 2.45 6.45 2 7 2H9C9.55 2 10 2.45 10 3V4M12 4V13C12 13.55 11.55 14 11 14H5C4.45 14 4 13.55 4 13V4",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})}),"Delete"]})]})]})]})}const xv=[{id:"applied",label:"Applied",color:"#6366f1"},{id:"screening",label:"Screening",color:"#8b5cf6"},{id:"interview",label:"Interview",color:"#f59e0b"},{id:"offer",label:"Offer",color:"#10b981"}],Sv=[{id:"accepted",label:"Accepted",color:"#059669"},{id:"rejected",label:"Rejected",color:"#ef4444"},{id:"withdrawn",label:"Withdrawn",color:"#6b7280"}],Nx=[...xv,...Sv];function Hx({jobs:o=[],contacts:t=[],onStatusChange:e,onDeleteJob:A,onEditJob:i}){const[a,l]=Y.useState(null),[c,h]=Y.useState(null),d=Array.isArray(o)?o:[],f=Nx.reduce((S,T)=>(S[T.id]=d.filter(_=>_.status===T.id),S),{}),m=S=>!S.linkedContacts||S.linkedContacts.length===0?[]:S.linkedContacts.map(T=>t.find(_=>_.id===T)).filter(Boolean),w=(S,T)=>{l(T),S.dataTransfer.effectAllowed="move"},v=(S,T)=>{S.preventDefault(),S.dataTransfer.dropEffect="move",h(T)},b=()=>{h(null)},y=(S,T)=>{S.preventDefault(),a&&a.status!==T&&e(a.id,T),l(null),h(null)},x=()=>{l(null),h(null)},E=S=>S>=70?"var(--color-success)":S>=50?"var(--color-warning)":"var(--color-error)",U=S=>g.jsxs("div",{className:`kanban-column ${c===S.id?"drag-over":""}`,onDragOver:T=>v(T,S.id),onDragLeave:b,onDrop:T=>y(T,S.id),children:[g.jsxs("div",{className:"column-header",style:{borderBottomColor:S.color},children:[g.jsx("span",{className:"column-title",children:S.label}),g.jsx("span",{className:"column-count",children:f[S.id].length})]}),g.jsxs("div",{className:"column-cards",children:[f[S.id].map(T=>{const _=m(T);return g.jsxs("div",{className:`kanban-card ${a?.id===T.id?"dragging":""}`,draggable:!0,onDragStart:D=>w(D,T),onDragEnd:x,onClick:()=>i(T),children:[g.jsxs("div",{className:"kanban-card-header",children:[g.jsx("span",{className:"kanban-company",children:T.company}),T.gapAnalysis?.matchScore&&g.jsxs("span",{className:"kanban-score",style:{background:E(T.gapAnalysis.matchScore)},children:[T.gapAnalysis.matchScore,"%"]})]}),g.jsx("h4",{className:"kanban-role",children:T.role}),T.location&&g.jsx("p",{className:"kanban-location",children:T.location}),_.length>0&&g.jsxs("div",{className:"kanban-contacts",children:[_.slice(0,2).map(D=>g.jsxs("span",{className:"contact-tag",children:[D.name,D.linkedin&&g.jsx("span",{className:"contact-linkedin-badge",children:"in"})]},D.id)),_.length>2&&g.jsxs("span",{className:"contact-more",children:["+",_.length-2]})]})]},T.id)}),f[S.id].length===0&&g.jsx("div",{className:"column-empty",children:"Drop here"})]})]},S.id);return g.jsxs("div",{className:"kanban-board",children:[g.jsx("div",{className:"kanban-row kanban-row-primary",children:xv.map(U)}),g.jsx("div",{className:"kanban-row kanban-row-secondary",children:Sv.map(U)})]})}var Jd=function(o,t){return Jd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,A){e.__proto__=A}||function(e,A){for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&(e[i]=A[i])},Jd(o,t)};function ZA(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Jd(o,t);function e(){this.constructor=o}o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Wd=function(){return Wd=Object.assign||function(t){for(var e,A=1,i=arguments.length;A<i;A++){e=arguments[A];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Wd.apply(this,arguments)};function Ze(o,t,e,A){function i(a){return a instanceof e?a:new e(function(l){l(a)})}return new(e||(e=Promise))(function(a,l){function c(f){try{d(A.next(f))}catch(m){l(m)}}function h(f){try{d(A.throw(f))}catch(m){l(m)}}function d(f){f.done?a(f.value):i(f.value).then(c,h)}d((A=A.apply(o,[])).next())})}function ze(o,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},A,i,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(f){return h([d,f])}}function h(d){if(A)throw new TypeError("Generator is already executing.");for(;e;)try{if(A=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,i=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){e.label=d[1];break}if(d[0]===6&&e.label<a[1]){e.label=a[1],a=d;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(d);break}a[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(o,e)}catch(f){d=[6,f],i=0}finally{A=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Ql(o,t,e){if(arguments.length===2)for(var A=0,i=t.length,a;A<i;A++)(a||!(A in t))&&(a||(a=Array.prototype.slice.call(t,0,A)),a[A]=t[A]);return o.concat(a||t)}var Rs=(function(){function o(t,e,A,i){this.left=t,this.top=e,this.width=A,this.height=i}return o.prototype.add=function(t,e,A,i){return new o(this.left+t,this.top+e,this.width+A,this.height+i)},o.fromClientRect=function(t,e){return new o(e.left+t.windowBounds.left,e.top+t.windowBounds.top,e.width,e.height)},o.fromDOMRectList=function(t,e){var A=Array.from(e).find(function(i){return i.width!==0});return A?new o(A.left+t.windowBounds.left,A.top+t.windowBounds.top,A.width,A.height):o.EMPTY},o.EMPTY=new o(0,0,0,0),o})(),Sc=function(o,t){return Rs.fromClientRect(o,t.getBoundingClientRect())},Lx=function(o){var t=o.body,e=o.documentElement;if(!t||!e)throw new Error("Unable to get document size");var A=Math.max(Math.max(t.scrollWidth,e.scrollWidth),Math.max(t.offsetWidth,e.offsetWidth),Math.max(t.clientWidth,e.clientWidth)),i=Math.max(Math.max(t.scrollHeight,e.scrollHeight),Math.max(t.offsetHeight,e.offsetHeight),Math.max(t.clientHeight,e.clientHeight));return new Rs(0,0,A,i)},Qc=function(o){for(var t=[],e=0,A=o.length;e<A;){var i=o.charCodeAt(e++);if(i>=55296&&i<=56319&&e<A){var a=o.charCodeAt(e++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),e--)}else t.push(i)}return t},Be=function(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,o);var e=o.length;if(!e)return"";for(var A=[],i=-1,a="";++i<e;){var l=o[i];l<=65535?A.push(l):(l-=65536,A.push((l>>10)+55296,l%1024+56320)),(i+1===e||A.length>16384)&&(a+=String.fromCharCode.apply(String,A),A.length=0)}return a},L0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ix=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ul=0;Ul<L0.length;Ul++)Ix[L0.charCodeAt(Ul)]=Ul;var I0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",br=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Fl=0;Fl<I0.length;Fl++)br[I0.charCodeAt(Fl)]=Fl;var Mx=function(o){var t=o.length*.75,e=o.length,A,i=0,a,l,c,h;o[o.length-1]==="="&&(t--,o[o.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),f=Array.isArray(d)?d:new Uint8Array(d);for(A=0;A<e;A+=4)a=br[o.charCodeAt(A)],l=br[o.charCodeAt(A+1)],c=br[o.charCodeAt(A+2)],h=br[o.charCodeAt(A+3)],f[i++]=a<<2|l>>4,f[i++]=(l&15)<<4|c>>2,f[i++]=(c&3)<<6|h&63;return d},Rx=function(o){for(var t=o.length,e=[],A=0;A<t;A+=2)e.push(o[A+1]<<8|o[A]);return e},Ox=function(o){for(var t=o.length,e=[],A=0;A<t;A+=4)e.push(o[A+3]<<24|o[A+2]<<16|o[A+1]<<8|o[A]);return e},Zn=5,Of=11,fd=2,kx=Of-Zn,Qv=65536>>Zn,jx=1<<Zn,gd=jx-1,Kx=1024>>Zn,Px=Qv+Kx,Gx=Px,Vx=32,zx=Gx+Vx,Xx=65536>>Of,Yx=1<<kx,qx=Yx-1,M0=function(o,t,e){return o.slice?o.slice(t,e):new Uint16Array(Array.prototype.slice.call(o,t,e))},Jx=function(o,t,e){return o.slice?o.slice(t,e):new Uint32Array(Array.prototype.slice.call(o,t,e))},Wx=function(o,t){var e=Mx(o),A=Array.isArray(e)?Ox(e):new Uint32Array(e),i=Array.isArray(e)?Rx(e):new Uint16Array(e),a=24,l=M0(i,a/2,A[4]/2),c=A[5]===2?M0(i,(a+A[4])/2):Jx(A,Math.ceil((a+A[4])/4));return new Zx(A[0],A[1],A[2],A[3],l,c)},Zx=(function(){function o(t,e,A,i,a,l){this.initialValue=t,this.errorValue=e,this.highStart=A,this.highValueIndex=i,this.index=a,this.data=l}return o.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>Zn],e=(e<<fd)+(t&gd),this.data[e];if(t<=65535)return e=this.index[Qv+(t-55296>>Zn)],e=(e<<fd)+(t&gd),this.data[e];if(t<this.highStart)return e=zx-Xx+(t>>Of),e=this.index[e],e+=t>>Zn&qx,e=this.index[e],e=(e<<fd)+(t&gd),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},o})(),R0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$x=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Tl=0;Tl<R0.length;Tl++)$x[R0.charCodeAt(Tl)]=Tl;var tS="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",O0=50,eS=1,Uv=2,Fv=3,AS=4,sS=5,k0=7,Tv=8,j0=9,mn=10,Zd=11,K0=12,$d=13,nS=14,Er=15,tf=16,_l=17,gr=18,iS=19,P0=20,ef=21,pr=22,pd=23,Pi=24,EA=25,xr=26,Sr=27,Gi=28,aS=29,zn=30,rS=31,Dl=32,Nl=33,Af=34,sf=35,nf=36,Kr=37,af=38,tc=39,ec=40,md=41,_v=42,oS=43,lS=[9001,65288],Dv="!",Nt="",Hl="",rf=Wx(tS),Ds=[zn,nf],of=[eS,Uv,Fv,sS],Nv=[mn,Tv],G0=[Sr,xr],cS=of.concat(Nv),V0=[af,tc,ec,Af,sf],uS=[Er,$d],hS=function(o,t){t===void 0&&(t="strict");var e=[],A=[],i=[];return o.forEach(function(a,l){var c=rf.get(a);if(c>O0?(i.push(!0),c-=O0):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return A.push(l),e.push(tf);if(c===AS||c===Zd){if(l===0)return A.push(l),e.push(zn);var h=e[l-1];return cS.indexOf(h)===-1?(A.push(A[l-1]),e.push(h)):(A.push(l),e.push(zn))}if(A.push(l),c===rS)return e.push(t==="strict"?ef:Kr);if(c===_v||c===aS)return e.push(zn);if(c===oS)return a>=131072&&a<=196605||a>=196608&&a<=262141?e.push(Kr):e.push(zn);e.push(c)}),[A,e,i]},Bd=function(o,t,e,A){var i=A[e];if(Array.isArray(o)?o.indexOf(i)!==-1:o===i)for(var a=e;a<=A.length;){a++;var l=A[a];if(l===t)return!0;if(l!==mn)break}if(i===mn)for(var a=e;a>0;){a--;var c=A[a];if(Array.isArray(o)?o.indexOf(c)!==-1:o===c)for(var h=e;h<=A.length;){h++;var l=A[h];if(l===t)return!0;if(l!==mn)break}if(c!==mn)break}return!1},z0=function(o,t){for(var e=o;e>=0;){var A=t[e];if(A===mn)e--;else return A}return 0},dS=function(o,t,e,A,i){if(e[A]===0)return Nt;var a=A-1;if(Array.isArray(i)&&i[a]===!0)return Nt;var l=a-1,c=a+1,h=t[a],d=l>=0?t[l]:0,f=t[c];if(h===Uv&&f===Fv)return Nt;if(of.indexOf(h)!==-1)return Dv;if(of.indexOf(f)!==-1||Nv.indexOf(f)!==-1)return Nt;if(z0(a,t)===Tv)return Hl;if(rf.get(o[a])===Zd||(h===Dl||h===Nl)&&rf.get(o[c])===Zd||h===k0||f===k0||h===j0||[mn,$d,Er].indexOf(h)===-1&&f===j0||[_l,gr,iS,Pi,Gi].indexOf(f)!==-1||z0(a,t)===pr||Bd(pd,pr,a,t)||Bd([_l,gr],ef,a,t)||Bd(K0,K0,a,t))return Nt;if(h===mn)return Hl;if(h===pd||f===pd)return Nt;if(f===tf||h===tf)return Hl;if([$d,Er,ef].indexOf(f)!==-1||h===nS||d===nf&&uS.indexOf(h)!==-1||h===Gi&&f===nf||f===P0||Ds.indexOf(f)!==-1&&h===EA||Ds.indexOf(h)!==-1&&f===EA||h===Sr&&[Kr,Dl,Nl].indexOf(f)!==-1||[Kr,Dl,Nl].indexOf(h)!==-1&&f===xr||Ds.indexOf(h)!==-1&&G0.indexOf(f)!==-1||G0.indexOf(h)!==-1&&Ds.indexOf(f)!==-1||[Sr,xr].indexOf(h)!==-1&&(f===EA||[pr,Er].indexOf(f)!==-1&&t[c+1]===EA)||[pr,Er].indexOf(h)!==-1&&f===EA||h===EA&&[EA,Gi,Pi].indexOf(f)!==-1)return Nt;if([EA,Gi,Pi,_l,gr].indexOf(f)!==-1)for(var m=a;m>=0;){var w=t[m];if(w===EA)return Nt;if([Gi,Pi].indexOf(w)!==-1)m--;else break}if([Sr,xr].indexOf(f)!==-1)for(var m=[_l,gr].indexOf(h)!==-1?l:a;m>=0;){var w=t[m];if(w===EA)return Nt;if([Gi,Pi].indexOf(w)!==-1)m--;else break}if(af===h&&[af,tc,Af,sf].indexOf(f)!==-1||[tc,Af].indexOf(h)!==-1&&[tc,ec].indexOf(f)!==-1||[ec,sf].indexOf(h)!==-1&&f===ec||V0.indexOf(h)!==-1&&[P0,xr].indexOf(f)!==-1||V0.indexOf(f)!==-1&&h===Sr||Ds.indexOf(h)!==-1&&Ds.indexOf(f)!==-1||h===Pi&&Ds.indexOf(f)!==-1||Ds.concat(EA).indexOf(h)!==-1&&f===pr&&lS.indexOf(o[c])===-1||Ds.concat(EA).indexOf(f)!==-1&&h===gr)return Nt;if(h===md&&f===md){for(var v=e[a],b=1;v>0&&(v--,t[v]===md);)b++;if(b%2!==0)return Nt}return h===Dl&&f===Nl?Nt:Hl},fS=function(o,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var e=hS(o,t.lineBreak),A=e[0],i=e[1],a=e[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(c){return[EA,zn,_v].indexOf(c)!==-1?Kr:c}));var l=t.wordBreak==="keep-all"?a.map(function(c,h){return c&&o[h]>=19968&&o[h]<=40959}):void 0;return[A,i,l]},gS=(function(){function o(t,e,A,i){this.codePoints=t,this.required=e===Dv,this.start=A,this.end=i}return o.prototype.slice=function(){return Be.apply(void 0,this.codePoints.slice(this.start,this.end))},o})(),pS=function(o,t){var e=Qc(o),A=fS(e,t),i=A[0],a=A[1],l=A[2],c=e.length,h=0,d=0;return{next:function(){if(d>=c)return{done:!0,value:null};for(var f=Nt;d<c&&(f=dS(e,a,i,++d,l))===Nt;);if(f!==Nt||d===c){var m=new gS(e,f,h,d);return h=d,{value:m,done:!1}}return{done:!0,value:null}}}},mS=1,BS=2,Zr=4,X0=8,oc=10,Y0=47,Dr=92,wS=9,vS=32,Ll=34,mr=61,yS=35,CS=36,bS=37,Il=39,Ml=40,Br=41,ES=95,hA=45,xS=33,SS=60,QS=62,US=64,FS=91,TS=93,_S=61,DS=123,Rl=63,NS=125,q0=124,HS=126,LS=128,J0=65533,wd=42,Yn=43,IS=44,MS=58,RS=59,Pr=46,OS=0,kS=8,jS=11,KS=14,PS=31,GS=127,rs=-1,Hv=48,Lv=97,Iv=101,VS=102,zS=117,XS=122,Mv=65,Rv=69,Ov=70,YS=85,qS=90,Xe=function(o){return o>=Hv&&o<=57},JS=function(o){return o>=55296&&o<=57343},Vi=function(o){return Xe(o)||o>=Mv&&o<=Ov||o>=Lv&&o<=VS},WS=function(o){return o>=Lv&&o<=XS},ZS=function(o){return o>=Mv&&o<=qS},$S=function(o){return WS(o)||ZS(o)},tQ=function(o){return o>=LS},Ol=function(o){return o===oc||o===wS||o===vS},lc=function(o){return $S(o)||tQ(o)||o===ES},W0=function(o){return lc(o)||Xe(o)||o===hA},eQ=function(o){return o>=OS&&o<=kS||o===jS||o>=KS&&o<=PS||o===GS},fn=function(o,t){return o!==Dr?!1:t!==oc},kl=function(o,t,e){return o===hA?lc(t)||fn(t,e):lc(o)?!0:!!(o===Dr&&fn(o,t))},vd=function(o,t,e){return o===Yn||o===hA?Xe(t)?!0:t===Pr&&Xe(e):Xe(o===Pr?t:o)},AQ=function(o){var t=0,e=1;(o[t]===Yn||o[t]===hA)&&(o[t]===hA&&(e=-1),t++);for(var A=[];Xe(o[t]);)A.push(o[t++]);var i=A.length?parseInt(Be.apply(void 0,A),10):0;o[t]===Pr&&t++;for(var a=[];Xe(o[t]);)a.push(o[t++]);var l=a.length,c=l?parseInt(Be.apply(void 0,a),10):0;(o[t]===Rv||o[t]===Iv)&&t++;var h=1;(o[t]===Yn||o[t]===hA)&&(o[t]===hA&&(h=-1),t++);for(var d=[];Xe(o[t]);)d.push(o[t++]);var f=d.length?parseInt(Be.apply(void 0,d),10):0;return e*(i+c*Math.pow(10,-l))*Math.pow(10,h*f)},sQ={type:2},nQ={type:3},iQ={type:4},aQ={type:13},rQ={type:8},oQ={type:21},lQ={type:9},cQ={type:10},uQ={type:11},hQ={type:12},dQ={type:14},jl={type:23},fQ={type:1},gQ={type:25},pQ={type:24},mQ={type:26},BQ={type:27},wQ={type:28},vQ={type:29},yQ={type:31},lf={type:32},kv=(function(){function o(){this._value=[]}return o.prototype.write=function(t){this._value=this._value.concat(Qc(t))},o.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==lf;)t.push(e),e=this.consumeToken();return t},o.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Ll:return this.consumeStringToken(Ll);case yS:var e=this.peekCodePoint(0),A=this.peekCodePoint(1),i=this.peekCodePoint(2);if(W0(e)||fn(A,i)){var a=kl(e,A,i)?BS:mS,l=this.consumeName();return{type:5,value:l,flags:a}}break;case CS:if(this.peekCodePoint(0)===mr)return this.consumeCodePoint(),aQ;break;case Il:return this.consumeStringToken(Il);case Ml:return sQ;case Br:return nQ;case wd:if(this.peekCodePoint(0)===mr)return this.consumeCodePoint(),dQ;break;case Yn:if(vd(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case IS:return iQ;case hA:var c=t,h=this.peekCodePoint(0),d=this.peekCodePoint(1);if(vd(c,h,d))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(kl(c,h,d))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(h===hA&&d===QS)return this.consumeCodePoint(),this.consumeCodePoint(),pQ;break;case Pr:if(vd(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Y0:if(this.peekCodePoint(0)===wd)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===wd&&(f=this.consumeCodePoint(),f===Y0))return this.consumeToken();if(f===rs)return this.consumeToken()}break;case MS:return mQ;case RS:return BQ;case SS:if(this.peekCodePoint(0)===xS&&this.peekCodePoint(1)===hA&&this.peekCodePoint(2)===hA)return this.consumeCodePoint(),this.consumeCodePoint(),gQ;break;case US:var m=this.peekCodePoint(0),w=this.peekCodePoint(1),v=this.peekCodePoint(2);if(kl(m,w,v)){var l=this.consumeName();return{type:7,value:l}}break;case FS:return wQ;case Dr:if(fn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case TS:return vQ;case _S:if(this.peekCodePoint(0)===mr)return this.consumeCodePoint(),rQ;break;case DS:return uQ;case NS:return hQ;case zS:case YS:var b=this.peekCodePoint(0),y=this.peekCodePoint(1);return b===Yn&&(Vi(y)||y===Rl)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case q0:if(this.peekCodePoint(0)===mr)return this.consumeCodePoint(),lQ;if(this.peekCodePoint(0)===q0)return this.consumeCodePoint(),oQ;break;case HS:if(this.peekCodePoint(0)===mr)return this.consumeCodePoint(),cQ;break;case rs:return lf}return Ol(t)?(this.consumeWhiteSpace(),yQ):Xe(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):lc(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Be(t)}},o.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},o.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},o.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},o.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();Vi(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var A=!1;e===Rl&&t.length<6;)t.push(e),e=this.consumeCodePoint(),A=!0;if(A){var i=parseInt(Be.apply(void 0,t.map(function(h){return h===Rl?Hv:h})),16),a=parseInt(Be.apply(void 0,t.map(function(h){return h===Rl?Ov:h})),16);return{type:30,start:i,end:a}}var l=parseInt(Be.apply(void 0,t),16);if(this.peekCodePoint(0)===hA&&Vi(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var c=[];Vi(e)&&c.length<6;)c.push(e),e=this.consumeCodePoint();var a=parseInt(Be.apply(void 0,c),16);return{type:30,start:l,end:a}}else return{type:30,start:l,end:l}},o.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Ml?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ml?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},o.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===rs)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===Il||e===Ll){var A=this.consumeStringToken(this.consumeCodePoint());return A.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===rs||this.peekCodePoint(0)===Br)?(this.consumeCodePoint(),{type:22,value:A.value}):(this.consumeBadUrlRemnants(),jl)}for(;;){var i=this.consumeCodePoint();if(i===rs||i===Br)return{type:22,value:Be.apply(void 0,t)};if(Ol(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===rs||this.peekCodePoint(0)===Br?(this.consumeCodePoint(),{type:22,value:Be.apply(void 0,t)}):(this.consumeBadUrlRemnants(),jl);if(i===Ll||i===Il||i===Ml||eQ(i))return this.consumeBadUrlRemnants(),jl;if(i===Dr)if(fn(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),jl;else t.push(i)}},o.prototype.consumeWhiteSpace=function(){for(;Ol(this.peekCodePoint(0));)this.consumeCodePoint()},o.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Br||t===rs)return;fn(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},o.prototype.consumeStringSlice=function(t){for(var e=5e4,A="";t>0;){var i=Math.min(e,t);A+=Be.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),A},o.prototype.consumeStringToken=function(t){var e="",A=0;do{var i=this._value[A];if(i===rs||i===void 0||i===t)return e+=this.consumeStringSlice(A),{type:0,value:e};if(i===oc)return this._value.splice(0,A),fQ;if(i===Dr){var a=this._value[A+1];a!==rs&&a!==void 0&&(a===oc?(e+=this.consumeStringSlice(A),A=-1,this._value.shift()):fn(i,a)&&(e+=this.consumeStringSlice(A),e+=Be(this.consumeEscapedCodePoint()),A=-1))}A++}while(!0)},o.prototype.consumeNumber=function(){var t=[],e=Zr,A=this.peekCodePoint(0);for((A===Yn||A===hA)&&t.push(this.consumeCodePoint());Xe(this.peekCodePoint(0));)t.push(this.consumeCodePoint());A=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(A===Pr&&Xe(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=X0;Xe(this.peekCodePoint(0));)t.push(this.consumeCodePoint());A=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((A===Rv||A===Iv)&&((i===Yn||i===hA)&&Xe(a)||Xe(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=X0;Xe(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[AQ(t),e]},o.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],A=t[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),l=this.peekCodePoint(2);if(kl(i,a,l)){var c=this.consumeName();return{type:15,number:e,flags:A,unit:c}}return i===bS?(this.consumeCodePoint(),{type:16,number:e,flags:A}):{type:17,number:e,flags:A}},o.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Vi(t)){for(var e=Be(t);Vi(this.peekCodePoint(0))&&e.length<6;)e+=Be(this.consumeCodePoint());Ol(this.peekCodePoint(0))&&this.consumeCodePoint();var A=parseInt(e,16);return A===0||JS(A)||A>1114111?J0:A}return t===rs?J0:t},o.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(W0(e))t+=Be(e);else if(fn(e,this.peekCodePoint(0)))t+=Be(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(e),t}},o})(),jv=(function(){function o(t){this._tokens=t}return o.create=function(t){var e=new kv;return e.write(t),new o(e.read())},o.parseValue=function(t){return o.create(t).parseComponentValue()},o.parseValues=function(t){return o.create(t).parseComponentValues()},o.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},o.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(e.type===32)return t;t.push(e),t.push()}},o.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},o.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},A=this.consumeToken();;){if(A.type===32||bQ(A,t))return e;this.reconsumeToken(A),e.values.push(this.consumeComponentValue()),A=this.consumeToken()}},o.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var A=this.consumeToken();if(A.type===32||A.type===3)return e;this.reconsumeToken(A),e.values.push(this.consumeComponentValue())}},o.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?lf:t},o.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},o})(),$r=function(o){return o.type===15},da=function(o){return o.type===17},Jt=function(o){return o.type===20},CQ=function(o){return o.type===0},cf=function(o,t){return Jt(o)&&o.value===t},Kv=function(o){return o.type!==31},ha=function(o){return o.type!==31&&o.type!==4},us=function(o){var t=[],e=[];return o.forEach(function(A){if(A.type===4){if(e.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(e),e=[];return}A.type!==31&&e.push(A)}),e.length&&t.push(e),t},bQ=function(o,t){return t===11&&o.type===12||t===28&&o.type===29?!0:t===2&&o.type===3},En=function(o){return o.type===17||o.type===15},Se=function(o){return o.type===16||En(o)},Pv=function(o){return o.length>1?[o[0],o[1]]:[o[0]]},Pe={type:17,number:0,flags:Zr},kf={type:16,number:50,flags:Zr},Bn={type:16,number:100,flags:Zr},Qr=function(o,t,e){var A=o[0],i=o[1];return[ee(A,t),ee(typeof i<"u"?i:A,e)]},ee=function(o,t){if(o.type===16)return o.number/100*t;if($r(o))switch(o.unit){case"rem":case"em":return 16*o.number;default:return o.number}return o.number},Gv="deg",Vv="grad",zv="rad",Xv="turn",Uc={name:"angle",parse:function(o,t){if(t.type===15)switch(t.unit){case Gv:return Math.PI*t.number/180;case Vv:return Math.PI/200*t.number;case zv:return t.number;case Xv:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},Yv=function(o){return o.type===15&&(o.unit===Gv||o.unit===Vv||o.unit===zv||o.unit===Xv)},qv=function(o){var t=o.filter(Jt).map(function(e){return e.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Pe,Pe];case"to top":case"bottom":return PA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Pe,Bn];case"to right":case"left":return PA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Bn,Bn];case"to bottom":case"top":return PA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Bn,Pe];case"to left":case"right":return PA(270)}return 0},PA=function(o){return Math.PI*o/180},vn={name:"color",parse:function(o,t){if(t.type===18){var e=EQ[t.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(o,t.values)}if(t.type===5){if(t.value.length===3){var A=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return wn(parseInt(A+A,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(t.value.length===4){var A=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3),l=t.value.substring(3,4);return wn(parseInt(A+A,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(l+l,16)/255)}if(t.value.length===6){var A=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6);return wn(parseInt(A,16),parseInt(i,16),parseInt(a,16),1)}if(t.value.length===8){var A=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),l=t.value.substring(6,8);return wn(parseInt(A,16),parseInt(i,16),parseInt(a,16),parseInt(l,16)/255)}}if(t.type===20){var c=Ms[t.value.toUpperCase()];if(typeof c<"u")return c}return Ms.TRANSPARENT}},yn=function(o){return(255&o)===0},_e=function(o){var t=255&o,e=255&o>>8,A=255&o>>16,i=255&o>>24;return t<255?"rgba("+i+","+A+","+e+","+t/255+")":"rgb("+i+","+A+","+e+")"},wn=function(o,t,e,A){return(o<<24|t<<16|e<<8|Math.round(A*255)<<0)>>>0},Z0=function(o,t){if(o.type===17)return o.number;if(o.type===16){var e=t===3?1:255;return t===3?o.number/100*e:Math.round(o.number/100*e)}return 0},$0=function(o,t){var e=t.filter(ha);if(e.length===3){var A=e.map(Z0),i=A[0],a=A[1],l=A[2];return wn(i,a,l,1)}if(e.length===4){var c=e.map(Z0),i=c[0],a=c[1],l=c[2],h=c[3];return wn(i,a,l,h)}return 0};function yd(o,t,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(t-o)*e*6+o:e<1/2?t:e<2/3?(t-o)*6*(2/3-e)+o:o}var tw=function(o,t){var e=t.filter(ha),A=e[0],i=e[1],a=e[2],l=e[3],c=(A.type===17?PA(A.number):Uc.parse(o,A))/(Math.PI*2),h=Se(i)?i.number/100:0,d=Se(a)?a.number/100:0,f=typeof l<"u"&&Se(l)?ee(l,1):1;if(h===0)return wn(d*255,d*255,d*255,1);var m=d<=.5?d*(h+1):d+h-d*h,w=d*2-m,v=yd(w,m,c+1/3),b=yd(w,m,c),y=yd(w,m,c-1/3);return wn(v*255,b*255,y*255,f)},EQ={hsl:tw,hsla:tw,rgb:$0,rgba:$0},Nr=function(o,t){return vn.parse(o,jv.create(t).parseComponentValue())},Ms={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},xQ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(o,t){return t.map(function(e){if(Jt(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},SQ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Fc=function(o,t){var e=vn.parse(o,t[0]),A=t[1];return A&&Se(A)?{color:e,stop:A}:{color:e,stop:null}},ew=function(o,t){var e=o[0],A=o[o.length-1];e.stop===null&&(e.stop=Pe),A.stop===null&&(A.stop=Bn);for(var i=[],a=0,l=0;l<o.length;l++){var c=o[l].stop;if(c!==null){var h=ee(c,t);h>a?i.push(h):i.push(a),a=h}else i.push(null)}for(var d=null,l=0;l<i.length;l++){var f=i[l];if(f===null)d===null&&(d=l);else if(d!==null){for(var m=l-d,w=i[d-1],v=(f-w)/(m+1),b=1;b<=m;b++)i[d+b-1]=v*b;d=null}}return o.map(function(y,x){var E=y.color;return{color:E,stop:Math.max(Math.min(1,i[x]/t),0)}})},QQ=function(o,t,e){var A=t/2,i=e/2,a=ee(o[0],t)-A,l=i-ee(o[1],e);return(Math.atan2(l,a)+Math.PI*2)%(Math.PI*2)},UQ=function(o,t,e){var A=typeof o=="number"?o:QQ(o,t,e),i=Math.abs(t*Math.sin(A))+Math.abs(e*Math.cos(A)),a=t/2,l=e/2,c=i/2,h=Math.sin(A-Math.PI/2)*c,d=Math.cos(A-Math.PI/2)*c;return[i,a-d,a+d,l-h,l+h]},qA=function(o,t){return Math.sqrt(o*o+t*t)},Aw=function(o,t,e,A,i){var a=[[0,0],[0,t],[o,0],[o,t]];return a.reduce(function(l,c){var h=c[0],d=c[1],f=qA(e-h,A-d);return(i?f<l.optimumDistance:f>l.optimumDistance)?{optimumCorner:c,optimumDistance:f}:l},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},FQ=function(o,t,e,A,i){var a=0,l=0;switch(o.size){case 0:o.shape===0?a=l=Math.min(Math.abs(t),Math.abs(t-A),Math.abs(e),Math.abs(e-i)):o.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-A)),l=Math.min(Math.abs(e),Math.abs(e-i)));break;case 2:if(o.shape===0)a=l=Math.min(qA(t,e),qA(t,e-i),qA(t-A,e),qA(t-A,e-i));else if(o.shape===1){var c=Math.min(Math.abs(e),Math.abs(e-i))/Math.min(Math.abs(t),Math.abs(t-A)),h=Aw(A,i,t,e,!0),d=h[0],f=h[1];a=qA(d-t,(f-e)/c),l=c*a}break;case 1:o.shape===0?a=l=Math.max(Math.abs(t),Math.abs(t-A),Math.abs(e),Math.abs(e-i)):o.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-A)),l=Math.max(Math.abs(e),Math.abs(e-i)));break;case 3:if(o.shape===0)a=l=Math.max(qA(t,e),qA(t,e-i),qA(t-A,e),qA(t-A,e-i));else if(o.shape===1){var c=Math.max(Math.abs(e),Math.abs(e-i))/Math.max(Math.abs(t),Math.abs(t-A)),m=Aw(A,i,t,e,!1),d=m[0],f=m[1];a=qA(d-t,(f-e)/c),l=c*a}break}return Array.isArray(o.size)&&(a=ee(o.size[0],A),l=o.size.length===2?ee(o.size[1],i):a),[a,l]},TQ=function(o,t){var e=PA(180),A=[];return us(t).forEach(function(i,a){if(a===0){var l=i[0];if(l.type===20&&l.value==="to"){e=qv(i);return}else if(Yv(l)){e=Uc.parse(o,l);return}}var c=Fc(o,i);A.push(c)}),{angle:e,stops:A,type:1}},Kl=function(o,t){var e=PA(180),A=[];return us(t).forEach(function(i,a){if(a===0){var l=i[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){e=qv(i);return}else if(Yv(l)){e=(Uc.parse(o,l)+PA(270))%PA(360);return}}var c=Fc(o,i);A.push(c)}),{angle:e,stops:A,type:1}},_Q=function(o,t){var e=PA(180),A=[],i=1,a=0,l=3,c=[];return us(t).forEach(function(h,d){var f=h[0];if(d===0){if(Jt(f)&&f.value==="linear"){i=1;return}else if(Jt(f)&&f.value==="radial"){i=2;return}}if(f.type===18){if(f.name==="from"){var m=vn.parse(o,f.values[0]);A.push({stop:Pe,color:m})}else if(f.name==="to"){var m=vn.parse(o,f.values[0]);A.push({stop:Bn,color:m})}else if(f.name==="color-stop"){var w=f.values.filter(ha);if(w.length===2){var m=vn.parse(o,w[1]),v=w[0];da(v)&&A.push({stop:{type:16,number:v.number*100,flags:v.flags},color:m})}}}}),i===1?{angle:(e+PA(180))%PA(360),stops:A,type:i}:{size:l,shape:a,stops:A,position:c,type:i}},Jv="closest-side",Wv="farthest-side",Zv="closest-corner",$v="farthest-corner",ty="circle",ey="ellipse",Ay="cover",sy="contain",DQ=function(o,t){var e=0,A=3,i=[],a=[];return us(t).forEach(function(l,c){var h=!0;if(c===0){var d=!1;h=l.reduce(function(m,w){if(d)if(Jt(w))switch(w.value){case"center":return a.push(kf),m;case"top":case"left":return a.push(Pe),m;case"right":case"bottom":return a.push(Bn),m}else(Se(w)||En(w))&&a.push(w);else if(Jt(w))switch(w.value){case ty:return e=0,!1;case ey:return e=1,!1;case"at":return d=!0,!1;case Jv:return A=0,!1;case Ay:case Wv:return A=1,!1;case sy:case Zv:return A=2,!1;case $v:return A=3,!1}else if(En(w)||Se(w))return Array.isArray(A)||(A=[]),A.push(w),!1;return m},h)}if(h){var f=Fc(o,l);i.push(f)}}),{size:A,shape:e,stops:i,position:a,type:2}},Pl=function(o,t){var e=0,A=3,i=[],a=[];return us(t).forEach(function(l,c){var h=!0;if(c===0?h=l.reduce(function(f,m){if(Jt(m))switch(m.value){case"center":return a.push(kf),!1;case"top":case"left":return a.push(Pe),!1;case"right":case"bottom":return a.push(Bn),!1}else if(Se(m)||En(m))return a.push(m),!1;return f},h):c===1&&(h=l.reduce(function(f,m){if(Jt(m))switch(m.value){case ty:return e=0,!1;case ey:return e=1,!1;case sy:case Jv:return A=0,!1;case Wv:return A=1,!1;case Zv:return A=2,!1;case Ay:case $v:return A=3,!1}else if(En(m)||Se(m))return Array.isArray(A)||(A=[]),A.push(m),!1;return f},h)),h){var d=Fc(o,l);i.push(d)}}),{size:A,shape:e,stops:i,position:a,type:2}},NQ=function(o){return o.type===1},HQ=function(o){return o.type===2},jf={name:"image",parse:function(o,t){if(t.type===22){var e={url:t.value,type:0};return o.cache.addImage(t.value),e}if(t.type===18){var A=ny[t.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return A(o,t.values)}throw new Error("Unsupported image type "+t.type)}};function LQ(o){return!(o.type===20&&o.value==="none")&&(o.type!==18||!!ny[o.name])}var ny={"linear-gradient":TQ,"-moz-linear-gradient":Kl,"-ms-linear-gradient":Kl,"-o-linear-gradient":Kl,"-webkit-linear-gradient":Kl,"radial-gradient":DQ,"-moz-radial-gradient":Pl,"-ms-radial-gradient":Pl,"-o-radial-gradient":Pl,"-webkit-radial-gradient":Pl,"-webkit-gradient":_Q},IQ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(o,t){if(t.length===0)return[];var e=t[0];return e.type===20&&e.value==="none"?[]:t.filter(function(A){return ha(A)&&LQ(A)}).map(function(A){return jf.parse(o,A)})}},MQ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(o,t){return t.map(function(e){if(Jt(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},RQ={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(o,t){return us(t).map(function(e){return e.filter(Se)}).map(Pv)}},OQ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(o,t){return us(t).map(function(e){return e.filter(Jt).map(function(A){return A.value}).join(" ")}).map(kQ)}},kQ=function(o){switch(o){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},la;(function(o){o.AUTO="auto",o.CONTAIN="contain",o.COVER="cover"})(la||(la={}));var jQ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(o,t){return us(t).map(function(e){return e.filter(KQ)})}},KQ=function(o){return Jt(o)||Se(o)},Tc=function(o){return{name:"border-"+o+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},PQ=Tc("top"),GQ=Tc("right"),VQ=Tc("bottom"),zQ=Tc("left"),_c=function(o){return{name:"border-radius-"+o,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return Pv(e.filter(Se))}}},XQ=_c("top-left"),YQ=_c("top-right"),qQ=_c("bottom-right"),JQ=_c("bottom-left"),Dc=function(o){return{name:"border-"+o+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},WQ=Dc("top"),ZQ=Dc("right"),$Q=Dc("bottom"),tU=Dc("left"),Nc=function(o){return{name:"border-"+o+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return $r(e)?e.number:0}}},eU=Nc("top"),AU=Nc("right"),sU=Nc("bottom"),nU=Nc("left"),iU={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},aU={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(o,t){return t==="rtl"?1:0}},rU={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(o,t){return t.filter(Jt).reduce(function(e,A){return e|oU(A.value)},0)}},oU=function(o){switch(o){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},lU={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(o,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},cU={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(o,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},cc;(function(o){o.NORMAL="normal",o.STRICT="strict"})(cc||(cc={}));var uU={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(o,t){return t==="strict"?cc.STRICT:cc.NORMAL}},hU={name:"line-height",initialValue:"normal",prefix:!1,type:4},sw=function(o,t){return Jt(o)&&o.value==="normal"?1.2*t:o.type===17?t*o.number:Se(o)?ee(o,t):t},dU={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(o,t){return t.type===20&&t.value==="none"?null:jf.parse(o,t)}},fU={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(o,t){return t==="inside"?0:1}},uf={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(o,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Hc=function(o){return{name:"margin-"+o,initialValue:"0",prefix:!1,type:4}},gU=Hc("top"),pU=Hc("right"),mU=Hc("bottom"),BU=Hc("left"),wU={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(o,t){return t.filter(Jt).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},vU={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(o,t){return t==="break-word"?"break-word":"normal"}},Lc=function(o){return{name:"padding-"+o,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},yU=Lc("top"),CU=Lc("right"),bU=Lc("bottom"),EU=Lc("left"),xU={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(o,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},SU={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(o,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},QU={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(o,t){return t.length===1&&cf(t[0],"none")?[]:us(t).map(function(e){for(var A={color:Ms.TRANSPARENT,offsetX:Pe,offsetY:Pe,blur:Pe},i=0,a=0;a<e.length;a++){var l=e[a];En(l)?(i===0?A.offsetX=l:i===1?A.offsetY=l:A.blur=l,i++):A.color=vn.parse(o,l)}return A})}},UU={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(o,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},FU={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(o,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var e=DU[t.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},TU=function(o){var t=o.filter(function(e){return e.type===17}).map(function(e){return e.number});return t.length===6?t:null},_U=function(o){var t=o.filter(function(h){return h.type===17}).map(function(h){return h.number}),e=t[0],A=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var l=t[12],c=t[13];return t[14],t[15],t.length===16?[e,A,i,a,l,c]:null},DU={matrix:TU,matrix3d:_U},nw={type:16,number:50,flags:Zr},NU=[nw,nw],HU={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(o,t){var e=t.filter(Se);return e.length!==2?NU:[e[0],e[1]]}},LU={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(o,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}},Hr;(function(o){o.NORMAL="normal",o.BREAK_ALL="break-all",o.KEEP_ALL="keep-all"})(Hr||(Hr={}));var IU={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(o,t){switch(t){case"break-all":return Hr.BREAK_ALL;case"keep-all":return Hr.KEEP_ALL;default:return Hr.NORMAL}}},MU={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(o,t){if(t.type===20)return{auto:!0,order:0};if(da(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},iy={name:"time",parse:function(o,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},RU={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(o,t){return da(t)?t.number:1}},OU={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},kU={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(o,t){return t.filter(Jt).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return e!==0})}},jU={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(o,t){var e=[],A=[];return t.forEach(function(i){switch(i.type){case 20:case 0:e.push(i.value);break;case 17:e.push(i.number.toString());break;case 4:A.push(e.join(" ")),e.length=0;break}}),e.length&&A.push(e.join(" ")),A.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},KU={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},PU={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(o,t){return da(t)?t.number:Jt(t)&&t.value==="bold"?700:400}},GU={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(o,t){return t.filter(Jt).map(function(e){return e.value})}},VU={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(o,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Ue=function(o,t){return(o&t)!==0},zU={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(o,t){if(t.length===0)return[];var e=t[0];return e.type===20&&e.value==="none"?[]:t}},XU={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(o,t){if(t.length===0)return null;var e=t[0];if(e.type===20&&e.value==="none")return null;for(var A=[],i=t.filter(Kv),a=0;a<i.length;a++){var l=i[a],c=i[a+1];if(l.type===20){var h=c&&da(c)?c.number:1;A.push({counter:l.value,increment:h})}}return A}},YU={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(o,t){if(t.length===0)return[];for(var e=[],A=t.filter(Kv),i=0;i<A.length;i++){var a=A[i],l=A[i+1];if(Jt(a)&&a.value!=="none"){var c=l&&da(l)?l.number:0;e.push({counter:a.value,reset:c})}}return e}},qU={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(o,t){return t.filter($r).map(function(e){return iy.parse(o,e)})}},JU={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(o,t){if(t.length===0)return null;var e=t[0];if(e.type===20&&e.value==="none")return null;var A=[],i=t.filter(CQ);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var l=i[a].value,c=i[a+1].value;A.push({open:l,close:c})}return A}},iw=function(o,t,e){if(!o)return"";var A=o[Math.min(t,o.length-1)];return A?e?A.open:A.close:""},WU={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(o,t){return t.length===1&&cf(t[0],"none")?[]:us(t).map(function(e){for(var A={color:255,offsetX:Pe,offsetY:Pe,blur:Pe,spread:Pe,inset:!1},i=0,a=0;a<e.length;a++){var l=e[a];cf(l,"inset")?A.inset=!0:En(l)?(i===0?A.offsetX=l:i===1?A.offsetY=l:i===2?A.blur=l:A.spread=l,i++):A.color=vn.parse(o,l)}return A})}},ZU={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(o,t){var e=[0,1,2],A=[];return t.filter(Jt).forEach(function(i){switch(i.value){case"stroke":A.push(1);break;case"fill":A.push(0);break;case"markers":A.push(2);break}}),e.forEach(function(i){A.indexOf(i)===-1&&A.push(i)}),A}},$U={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},tF={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(o,t){return $r(t)?t.number:0}},eF=(function(){function o(t,e){var A,i;this.animationDuration=ht(t,qU,e.animationDuration),this.backgroundClip=ht(t,xQ,e.backgroundClip),this.backgroundColor=ht(t,SQ,e.backgroundColor),this.backgroundImage=ht(t,IQ,e.backgroundImage),this.backgroundOrigin=ht(t,MQ,e.backgroundOrigin),this.backgroundPosition=ht(t,RQ,e.backgroundPosition),this.backgroundRepeat=ht(t,OQ,e.backgroundRepeat),this.backgroundSize=ht(t,jQ,e.backgroundSize),this.borderTopColor=ht(t,PQ,e.borderTopColor),this.borderRightColor=ht(t,GQ,e.borderRightColor),this.borderBottomColor=ht(t,VQ,e.borderBottomColor),this.borderLeftColor=ht(t,zQ,e.borderLeftColor),this.borderTopLeftRadius=ht(t,XQ,e.borderTopLeftRadius),this.borderTopRightRadius=ht(t,YQ,e.borderTopRightRadius),this.borderBottomRightRadius=ht(t,qQ,e.borderBottomRightRadius),this.borderBottomLeftRadius=ht(t,JQ,e.borderBottomLeftRadius),this.borderTopStyle=ht(t,WQ,e.borderTopStyle),this.borderRightStyle=ht(t,ZQ,e.borderRightStyle),this.borderBottomStyle=ht(t,$Q,e.borderBottomStyle),this.borderLeftStyle=ht(t,tU,e.borderLeftStyle),this.borderTopWidth=ht(t,eU,e.borderTopWidth),this.borderRightWidth=ht(t,AU,e.borderRightWidth),this.borderBottomWidth=ht(t,sU,e.borderBottomWidth),this.borderLeftWidth=ht(t,nU,e.borderLeftWidth),this.boxShadow=ht(t,WU,e.boxShadow),this.color=ht(t,iU,e.color),this.direction=ht(t,aU,e.direction),this.display=ht(t,rU,e.display),this.float=ht(t,lU,e.cssFloat),this.fontFamily=ht(t,jU,e.fontFamily),this.fontSize=ht(t,KU,e.fontSize),this.fontStyle=ht(t,VU,e.fontStyle),this.fontVariant=ht(t,GU,e.fontVariant),this.fontWeight=ht(t,PU,e.fontWeight),this.letterSpacing=ht(t,cU,e.letterSpacing),this.lineBreak=ht(t,uU,e.lineBreak),this.lineHeight=ht(t,hU,e.lineHeight),this.listStyleImage=ht(t,dU,e.listStyleImage),this.listStylePosition=ht(t,fU,e.listStylePosition),this.listStyleType=ht(t,uf,e.listStyleType),this.marginTop=ht(t,gU,e.marginTop),this.marginRight=ht(t,pU,e.marginRight),this.marginBottom=ht(t,mU,e.marginBottom),this.marginLeft=ht(t,BU,e.marginLeft),this.opacity=ht(t,RU,e.opacity);var a=ht(t,wU,e.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=ht(t,vU,e.overflowWrap),this.paddingTop=ht(t,yU,e.paddingTop),this.paddingRight=ht(t,CU,e.paddingRight),this.paddingBottom=ht(t,bU,e.paddingBottom),this.paddingLeft=ht(t,EU,e.paddingLeft),this.paintOrder=ht(t,ZU,e.paintOrder),this.position=ht(t,SU,e.position),this.textAlign=ht(t,xU,e.textAlign),this.textDecorationColor=ht(t,OU,(A=e.textDecorationColor)!==null&&A!==void 0?A:e.color),this.textDecorationLine=ht(t,kU,(i=e.textDecorationLine)!==null&&i!==void 0?i:e.textDecoration),this.textShadow=ht(t,QU,e.textShadow),this.textTransform=ht(t,UU,e.textTransform),this.transform=ht(t,FU,e.transform),this.transformOrigin=ht(t,HU,e.transformOrigin),this.visibility=ht(t,LU,e.visibility),this.webkitTextStrokeColor=ht(t,$U,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=ht(t,tF,e.webkitTextStrokeWidth),this.wordBreak=ht(t,IU,e.wordBreak),this.zIndex=ht(t,MU,e.zIndex)}return o.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},o.prototype.isTransparent=function(){return yn(this.backgroundColor)},o.prototype.isTransformed=function(){return this.transform!==null},o.prototype.isPositioned=function(){return this.position!==0},o.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},o.prototype.isFloating=function(){return this.float!==0},o.prototype.isInlineLevel=function(){return Ue(this.display,4)||Ue(this.display,33554432)||Ue(this.display,268435456)||Ue(this.display,536870912)||Ue(this.display,67108864)||Ue(this.display,134217728)},o})(),AF=(function(){function o(t,e){this.content=ht(t,zU,e.content),this.quotes=ht(t,JU,e.quotes)}return o})(),aw=(function(){function o(t,e){this.counterIncrement=ht(t,XU,e.counterIncrement),this.counterReset=ht(t,YU,e.counterReset)}return o})(),ht=function(o,t,e){var A=new kv,i=e!==null&&typeof e<"u"?e.toString():t.initialValue;A.write(i);var a=new jv(A.read());switch(t.type){case 2:var l=a.parseComponentValue();return t.parse(o,Jt(l)?l.value:t.initialValue);case 0:return t.parse(o,a.parseComponentValue());case 1:return t.parse(o,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return Uc.parse(o,a.parseComponentValue());case"color":return vn.parse(o,a.parseComponentValue());case"image":return jf.parse(o,a.parseComponentValue());case"length":var c=a.parseComponentValue();return En(c)?c:Pe;case"length-percentage":var h=a.parseComponentValue();return Se(h)?h:Pe;case"time":return iy.parse(o,a.parseComponentValue())}break}},sF="data-html2canvas-debug",nF=function(o){var t=o.getAttribute(sF);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},hf=function(o,t){var e=nF(o);return e===1||t===e},hs=(function(){function o(t,e){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,hf(e,3))debugger;this.styles=new eF(t,window.getComputedStyle(e,null)),gf(e)&&(this.styles.animationDuration.some(function(A){return A>0})&&(e.style.animationDuration="0s"),this.styles.transform!==null&&(e.style.transform="none")),this.bounds=Sc(this.context,e),hf(e,4)&&(this.flags|=16)}return o})(),iF="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",rw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ur=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Gl=0;Gl<rw.length;Gl++)Ur[rw.charCodeAt(Gl)]=Gl;var aF=function(o){var t=o.length*.75,e=o.length,A,i=0,a,l,c,h;o[o.length-1]==="="&&(t--,o[o.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),f=Array.isArray(d)?d:new Uint8Array(d);for(A=0;A<e;A+=4)a=Ur[o.charCodeAt(A)],l=Ur[o.charCodeAt(A+1)],c=Ur[o.charCodeAt(A+2)],h=Ur[o.charCodeAt(A+3)],f[i++]=a<<2|l>>4,f[i++]=(l&15)<<4|c>>2,f[i++]=(c&3)<<6|h&63;return d},rF=function(o){for(var t=o.length,e=[],A=0;A<t;A+=2)e.push(o[A+1]<<8|o[A]);return e},oF=function(o){for(var t=o.length,e=[],A=0;A<t;A+=4)e.push(o[A+3]<<24|o[A+2]<<16|o[A+1]<<8|o[A]);return e},$n=5,Kf=11,Cd=2,lF=Kf-$n,ay=65536>>$n,cF=1<<$n,bd=cF-1,uF=1024>>$n,hF=ay+uF,dF=hF,fF=32,gF=dF+fF,pF=65536>>Kf,mF=1<<lF,BF=mF-1,ow=function(o,t,e){return o.slice?o.slice(t,e):new Uint16Array(Array.prototype.slice.call(o,t,e))},wF=function(o,t,e){return o.slice?o.slice(t,e):new Uint32Array(Array.prototype.slice.call(o,t,e))},vF=function(o,t){var e=aF(o),A=Array.isArray(e)?oF(e):new Uint32Array(e),i=Array.isArray(e)?rF(e):new Uint16Array(e),a=24,l=ow(i,a/2,A[4]/2),c=A[5]===2?ow(i,(a+A[4])/2):wF(A,Math.ceil((a+A[4])/4));return new yF(A[0],A[1],A[2],A[3],l,c)},yF=(function(){function o(t,e,A,i,a,l){this.initialValue=t,this.errorValue=e,this.highStart=A,this.highValueIndex=i,this.index=a,this.data=l}return o.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>$n],e=(e<<Cd)+(t&bd),this.data[e];if(t<=65535)return e=this.index[ay+(t-55296>>$n)],e=(e<<Cd)+(t&bd),this.data[e];if(t<this.highStart)return e=gF-pF+(t>>Kf),e=this.index[e],e+=t>>$n&BF,e=this.index[e],e=(e<<Cd)+(t&bd),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},o})(),lw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",CF=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vl=0;Vl<lw.length;Vl++)CF[lw.charCodeAt(Vl)]=Vl;var bF=1,Ed=2,xd=3,cw=4,uw=5,EF=7,hw=8,Sd=9,Qd=10,dw=11,fw=12,gw=13,pw=14,Ud=15,xF=function(o){for(var t=[],e=0,A=o.length;e<A;){var i=o.charCodeAt(e++);if(i>=55296&&i<=56319&&e<A){var a=o.charCodeAt(e++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),e--)}else t.push(i)}return t},SF=function(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,o);var e=o.length;if(!e)return"";for(var A=[],i=-1,a="";++i<e;){var l=o[i];l<=65535?A.push(l):(l-=65536,A.push((l>>10)+55296,l%1024+56320)),(i+1===e||A.length>16384)&&(a+=String.fromCharCode.apply(String,A),A.length=0)}return a},QF=vF(iF),jA="",Fd="",UF=function(o){return QF.get(o)},FF=function(o,t,e){var A=e-2,i=t[A],a=t[e-1],l=t[e];if(a===Ed&&l===xd)return jA;if(a===Ed||a===xd||a===cw||l===Ed||l===xd||l===cw)return Fd;if(a===hw&&[hw,Sd,dw,fw].indexOf(l)!==-1||(a===dw||a===Sd)&&(l===Sd||l===Qd)||(a===fw||a===Qd)&&l===Qd||l===gw||l===uw||l===EF||a===bF)return jA;if(a===gw&&l===pw){for(;i===uw;)i=t[--A];if(i===pw)return jA}if(a===Ud&&l===Ud){for(var c=0;i===Ud;)c++,i=t[--A];if(c%2===0)return jA}return Fd},TF=function(o){var t=xF(o),e=t.length,A=0,i=0,a=t.map(UF);return{next:function(){if(A>=e)return{done:!0,value:null};for(var l=jA;A<e&&(l=FF(t,a,++A))===jA;);if(l!==jA||A===e){var c=SF.apply(null,t.slice(i,A));return i=A,{value:c,done:!1}}return{done:!0,value:null}}}},_F=function(o){for(var t=TF(o),e=[],A;!(A=t.next()).done;)A.value&&e.push(A.value.slice());return e},DF=function(o){var t=123;if(o.createRange){var e=o.createRange();if(e.getBoundingClientRect){var A=o.createElement("boundtest");A.style.height=t+"px",A.style.display="block",o.body.appendChild(A),e.selectNode(A);var i=e.getBoundingClientRect(),a=Math.round(i.height);if(o.body.removeChild(A),a===t)return!0}}return!1},NF=function(o){var t=o.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",o.body.appendChild(t);var e=o.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var A=t.firstChild,i=Qc(A.data).map(function(h){return Be(h)}),a=0,l={},c=i.every(function(h,d){e.setStart(A,a),e.setEnd(A,a+h.length);var f=e.getBoundingClientRect();a+=h.length;var m=f.x>l.x||f.y>l.y;return l=f,d===0?!0:m});return o.body.removeChild(t),c},HF=function(){return typeof new Image().crossOrigin<"u"},LF=function(){return typeof new XMLHttpRequest().responseType=="string"},IF=function(o){var t=new Image,e=o.createElement("canvas"),A=e.getContext("2d");if(!A)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{A.drawImage(t,0,0),e.toDataURL()}catch{return!1}return!0},mw=function(o){return o[0]===0&&o[1]===255&&o[2]===0&&o[3]===255},MF=function(o){var t=o.createElement("canvas"),e=100;t.width=e,t.height=e;var A=t.getContext("2d");if(!A)return Promise.reject(!1);A.fillStyle="rgb(0, 255, 0)",A.fillRect(0,0,e,e);var i=new Image,a=t.toDataURL();i.src=a;var l=df(e,e,0,0,i);return A.fillStyle="red",A.fillRect(0,0,e,e),Bw(l).then(function(c){A.drawImage(c,0,0);var h=A.getImageData(0,0,e,e).data;A.fillStyle="red",A.fillRect(0,0,e,e);var d=o.createElement("div");return d.style.backgroundImage="url("+a+")",d.style.height=e+"px",mw(h)?Bw(df(e,e,0,0,d)):Promise.reject(!1)}).then(function(c){return A.drawImage(c,0,0),mw(A.getImageData(0,0,e,e).data)}).catch(function(){return!1})},df=function(o,t,e,A,i){var a="http://www.w3.org/2000/svg",l=document.createElementNS(a,"svg"),c=document.createElementNS(a,"foreignObject");return l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"height",t.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",e.toString()),c.setAttributeNS(null,"y",A.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(c),c.appendChild(i),l},Bw=function(o){return new Promise(function(t,e){var A=new Image;A.onload=function(){return t(A)},A.onerror=e,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(o))})},je={get SUPPORT_RANGE_BOUNDS(){var o=DF(document);return Object.defineProperty(je,"SUPPORT_RANGE_BOUNDS",{value:o}),o},get SUPPORT_WORD_BREAKING(){var o=je.SUPPORT_RANGE_BOUNDS&&NF(document);return Object.defineProperty(je,"SUPPORT_WORD_BREAKING",{value:o}),o},get SUPPORT_SVG_DRAWING(){var o=IF(document);return Object.defineProperty(je,"SUPPORT_SVG_DRAWING",{value:o}),o},get SUPPORT_FOREIGNOBJECT_DRAWING(){var o=typeof Array.from=="function"&&typeof window.fetch=="function"?MF(document):Promise.resolve(!1);return Object.defineProperty(je,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:o}),o},get SUPPORT_CORS_IMAGES(){var o=HF();return Object.defineProperty(je,"SUPPORT_CORS_IMAGES",{value:o}),o},get SUPPORT_RESPONSE_TYPE(){var o=LF();return Object.defineProperty(je,"SUPPORT_RESPONSE_TYPE",{value:o}),o},get SUPPORT_CORS_XHR(){var o="withCredentials"in new XMLHttpRequest;return Object.defineProperty(je,"SUPPORT_CORS_XHR",{value:o}),o},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var o=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(je,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:o}),o}},Lr=(function(){function o(t,e){this.text=t,this.bounds=e}return o})(),RF=function(o,t,e,A){var i=jF(t,e),a=[],l=0;return i.forEach(function(c){if(e.textDecorationLine.length||c.trim().length>0)if(je.SUPPORT_RANGE_BOUNDS){var h=ww(A,l,c.length).getClientRects();if(h.length>1){var d=Pf(c),f=0;d.forEach(function(w){a.push(new Lr(w,Rs.fromDOMRectList(o,ww(A,f+l,w.length).getClientRects()))),f+=w.length})}else a.push(new Lr(c,Rs.fromDOMRectList(o,h)))}else{var m=A.splitText(c.length);a.push(new Lr(c,OF(o,A))),A=m}else je.SUPPORT_RANGE_BOUNDS||(A=A.splitText(c.length));l+=c.length}),a},OF=function(o,t){var e=t.ownerDocument;if(e){var A=e.createElement("html2canvaswrapper");A.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(A,t);var a=Sc(o,A);return A.firstChild&&i.replaceChild(A.firstChild,A),a}}return Rs.EMPTY},ww=function(o,t,e){var A=o.ownerDocument;if(!A)throw new Error("Node has no owner document");var i=A.createRange();return i.setStart(o,t),i.setEnd(o,t+e),i},Pf=function(o){if(je.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(o)).map(function(e){return e.segment})}return _F(o)},kF=function(o,t){if(je.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(e.segment(o)).map(function(A){return A.segment})}return PF(o,t)},jF=function(o,t){return t.letterSpacing!==0?Pf(o):kF(o,t)},KF=[32,160,4961,65792,65793,4153,4241],PF=function(o,t){for(var e=pS(o,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),A=[],i,a=function(){if(i.value){var l=i.value.slice(),c=Qc(l),h="";c.forEach(function(d){KF.indexOf(d)===-1?h+=Be(d):(h.length&&A.push(h),A.push(Be(d)),h="")}),h.length&&A.push(h)}};!(i=e.next()).done;)a();return A},GF=(function(){function o(t,e,A){this.text=VF(e.data,A.textTransform),this.textBounds=RF(t,this.text,A,e)}return o})(),VF=function(o,t){switch(t){case 1:return o.toLowerCase();case 3:return o.replace(zF,XF);case 2:return o.toUpperCase();default:return o}},zF=/(^|\s|:|-|\(|\))([a-z])/g,XF=function(o,t,e){return o.length>0?t+e.toUpperCase():o},ry=(function(o){ZA(t,o);function t(e,A){var i=o.call(this,e,A)||this;return i.src=A.currentSrc||A.src,i.intrinsicWidth=A.naturalWidth,i.intrinsicHeight=A.naturalHeight,i.context.cache.addImage(i.src),i}return t})(hs),oy=(function(o){ZA(t,o);function t(e,A){var i=o.call(this,e,A)||this;return i.canvas=A,i.intrinsicWidth=A.width,i.intrinsicHeight=A.height,i}return t})(hs),ly=(function(o){ZA(t,o);function t(e,A){var i=o.call(this,e,A)||this,a=new XMLSerializer,l=Sc(e,A);return A.setAttribute("width",l.width+"px"),A.setAttribute("height",l.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(A)),i.intrinsicWidth=A.width.baseVal.value,i.intrinsicHeight=A.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t})(hs),cy=(function(o){ZA(t,o);function t(e,A){var i=o.call(this,e,A)||this;return i.value=A.value,i}return t})(hs),ff=(function(o){ZA(t,o);function t(e,A){var i=o.call(this,e,A)||this;return i.start=A.start,i.reversed=typeof A.reversed=="boolean"&&A.reversed===!0,i}return t})(hs),YF=[{type:15,flags:0,unit:"px",number:3}],qF=[{type:16,flags:0,number:50}],JF=function(o){return o.width>o.height?new Rs(o.left+(o.width-o.height)/2,o.top,o.height,o.height):o.width<o.height?new Rs(o.left,o.top+(o.height-o.width)/2,o.width,o.width):o},WF=function(o){var t=o.type===ZF?new Array(o.value.length+1).join(""):o.value;return t.length===0?o.placeholder||"":t},uc="checkbox",hc="radio",ZF="password",vw=707406591,Gf=(function(o){ZA(t,o);function t(e,A){var i=o.call(this,e,A)||this;switch(i.type=A.type.toLowerCase(),i.checked=A.checked,i.value=WF(A),(i.type===uc||i.type===hc)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=JF(i.bounds)),i.type){case uc:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=YF;break;case hc:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=qF;break}return i}return t})(hs),uy=(function(o){ZA(t,o);function t(e,A){var i=o.call(this,e,A)||this,a=A.options[A.selectedIndex||0];return i.value=a&&a.text||"",i}return t})(hs),hy=(function(o){ZA(t,o);function t(e,A){var i=o.call(this,e,A)||this;return i.value=A.value,i}return t})(hs),dy=(function(o){ZA(t,o);function t(e,A){var i=o.call(this,e,A)||this;i.src=A.src,i.width=parseInt(A.width,10)||0,i.height=parseInt(A.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(A.contentWindow&&A.contentWindow.document&&A.contentWindow.document.documentElement){i.tree=gy(e,A.contentWindow.document.documentElement);var a=A.contentWindow.document.documentElement?Nr(e,getComputedStyle(A.contentWindow.document.documentElement).backgroundColor):Ms.TRANSPARENT,l=A.contentWindow.document.body?Nr(e,getComputedStyle(A.contentWindow.document.body).backgroundColor):Ms.TRANSPARENT;i.backgroundColor=yn(a)?yn(l)?i.styles.backgroundColor:l:a}}catch{}return i}return t})(hs),$F=["OL","UL","MENU"],Ac=function(o,t,e,A){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,py(i)&&i.data.trim().length>0)e.textNodes.push(new GF(o,i,e.styles));else if(na(i))if(vy(i)&&i.assignedNodes)i.assignedNodes().forEach(function(c){return Ac(o,c,e,A)});else{var l=fy(o,i);l.styles.isVisible()&&(t2(i,l,A)?l.flags|=4:e2(l.styles)&&(l.flags|=2),$F.indexOf(i.tagName)!==-1&&(l.flags|=8),e.elements.push(l),i.slot,i.shadowRoot?Ac(o,i.shadowRoot,l,A):!dc(i)&&!my(i)&&!fc(i)&&Ac(o,i,l,A))}},fy=function(o,t){return pf(t)?new ry(o,t):By(t)?new oy(o,t):my(t)?new ly(o,t):A2(t)?new cy(o,t):s2(t)?new ff(o,t):n2(t)?new Gf(o,t):fc(t)?new uy(o,t):dc(t)?new hy(o,t):wy(t)?new dy(o,t):new hs(o,t)},gy=function(o,t){var e=fy(o,t);return e.flags|=4,Ac(o,t,e,e),e},t2=function(o,t,e){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Vf(o)&&e.styles.isTransparent()},e2=function(o){return o.isPositioned()||o.isFloating()},py=function(o){return o.nodeType===Node.TEXT_NODE},na=function(o){return o.nodeType===Node.ELEMENT_NODE},gf=function(o){return na(o)&&typeof o.style<"u"&&!sc(o)},sc=function(o){return typeof o.className=="object"},A2=function(o){return o.tagName==="LI"},s2=function(o){return o.tagName==="OL"},n2=function(o){return o.tagName==="INPUT"},i2=function(o){return o.tagName==="HTML"},my=function(o){return o.tagName==="svg"},Vf=function(o){return o.tagName==="BODY"},By=function(o){return o.tagName==="CANVAS"},yw=function(o){return o.tagName==="VIDEO"},pf=function(o){return o.tagName==="IMG"},wy=function(o){return o.tagName==="IFRAME"},Cw=function(o){return o.tagName==="STYLE"},a2=function(o){return o.tagName==="SCRIPT"},dc=function(o){return o.tagName==="TEXTAREA"},fc=function(o){return o.tagName==="SELECT"},vy=function(o){return o.tagName==="SLOT"},bw=function(o){return o.tagName.indexOf("-")>0},r2=(function(){function o(){this.counters={}}return o.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},o.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},o.prototype.pop=function(t){var e=this;t.forEach(function(A){return e.counters[A].pop()})},o.prototype.parse=function(t){var e=this,A=t.counterIncrement,i=t.counterReset,a=!0;A!==null&&A.forEach(function(c){var h=e.counters[c.counter];h&&c.increment!==0&&(a=!1,h.length||h.push(1),h[Math.max(0,h.length-1)]+=c.increment)});var l=[];return a&&i.forEach(function(c){var h=e.counters[c.counter];l.push(c.counter),h||(h=e.counters[c.counter]=[]),h.push(c.reset)}),l},o})(),Ew={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},xw={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},o2={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},l2={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},zi=function(o,t,e,A,i,a){return o<t||o>e?Gr(o,i,a.length>0):A.integers.reduce(function(l,c,h){for(;o>=c;)o-=c,l+=A.values[h];return l},"")+a},yy=function(o,t,e,A){var i="";do e||o--,i=A(o)+i,o/=t;while(o*t>=t);return i},pe=function(o,t,e,A,i){var a=e-t+1;return(o<0?"-":"")+(yy(Math.abs(o),a,A,function(l){return Be(Math.floor(l%a)+t)})+i)},Vn=function(o,t,e){e===void 0&&(e=". ");var A=t.length;return yy(Math.abs(o),A,!1,function(i){return t[Math.floor(i%A)]})+e},$i=1,hn=2,dn=4,Fr=8,Ns=function(o,t,e,A,i,a){if(o<-9999||o>9999)return Gr(o,4,i.length>0);var l=Math.abs(o),c=i;if(l===0)return t[0]+c;for(var h=0;l>0&&h<=4;h++){var d=l%10;d===0&&Ue(a,$i)&&c!==""?c=t[d]+c:d>1||d===1&&h===0||d===1&&h===1&&Ue(a,hn)||d===1&&h===1&&Ue(a,dn)&&o>100||d===1&&h>1&&Ue(a,Fr)?c=t[d]+(h>0?e[h-1]:"")+c:d===1&&h>0&&(c=e[h-1]+c),l=Math.floor(l/10)}return(o<0?A:"")+c},Sw="",Qw="",Uw="",Td="",Gr=function(o,t,e){var A=e?". ":"",i=e?"":"",a=e?", ":"",l=e?" ":"";switch(t){case 0:return""+l;case 1:return""+l;case 2:return""+l;case 5:var c=pe(o,48,57,!0,A);return c.length<4?"0"+c:c;case 4:return Vn(o,"",i);case 6:return zi(o,1,3999,Ew,3,A).toLowerCase();case 7:return zi(o,1,3999,Ew,3,A);case 8:return pe(o,945,969,!1,A);case 9:return pe(o,97,122,!1,A);case 10:return pe(o,65,90,!1,A);case 11:return pe(o,1632,1641,!0,A);case 12:case 49:return zi(o,1,9999,xw,3,A);case 35:return zi(o,1,9999,xw,3,A).toLowerCase();case 13:return pe(o,2534,2543,!0,A);case 14:case 30:return pe(o,6112,6121,!0,A);case 15:return Vn(o,"",i);case 16:return Vn(o,"",i);case 17:case 48:return Ns(o,"",Sw,"",i,hn|dn|Fr);case 47:return Ns(o,"",Qw,"",i,$i|hn|dn|Fr);case 42:return Ns(o,"",Sw,"",i,hn|dn|Fr);case 41:return Ns(o,"",Qw,"",i,$i|hn|dn|Fr);case 26:return Ns(o,"","",Uw,i,0);case 25:return Ns(o,"","",Uw,i,$i|hn|dn);case 31:return Ns(o,"","",Td,a,$i|hn|dn);case 33:return Ns(o,"","",Td,a,0);case 32:return Ns(o,"","",Td,a,$i|hn|dn);case 18:return pe(o,2406,2415,!0,A);case 20:return zi(o,1,19999,l2,3,A);case 21:return pe(o,2790,2799,!0,A);case 22:return pe(o,2662,2671,!0,A);case 22:return zi(o,1,10999,o2,3,A);case 23:return Vn(o,"");case 24:return Vn(o,"");case 27:return pe(o,3302,3311,!0,A);case 28:return Vn(o,"",i);case 29:return Vn(o,"",i);case 34:return pe(o,3792,3801,!0,A);case 37:return pe(o,6160,6169,!0,A);case 38:return pe(o,4160,4169,!0,A);case 39:return pe(o,2918,2927,!0,A);case 40:return pe(o,1776,1785,!0,A);case 43:return pe(o,3046,3055,!0,A);case 44:return pe(o,3174,3183,!0,A);case 45:return pe(o,3664,3673,!0,A);case 46:return pe(o,3872,3881,!0,A);default:return pe(o,48,57,!0,A)}},Cy="data-html2canvas-ignore",Fw=(function(){function o(t,e,A){if(this.context=t,this.options=A,this.scrolledElements=[],this.referenceElement=e,this.counters=new r2,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return o.prototype.toIFrame=function(t,e){var A=this,i=c2(t,e);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,l=t.defaultView.pageYOffset,c=i.contentWindow,h=c.document,d=d2(i).then(function(){return Ze(A,void 0,void 0,function(){var f,m;return ze(this,function(w){switch(w.label){case 0:return this.scrolledElements.forEach(m2),c&&(c.scrollTo(e.left,e.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==e.top||c.scrollX!==e.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-e.left,c.scrollY-e.top,0,0))),f=this.options.onclone,m=this.clonedReferenceElement,typeof m>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:h.fonts&&h.fonts.ready?[4,h.fonts.ready]:[3,2];case 1:w.sent(),w.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,h2(h)]:[3,4];case 3:w.sent(),w.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(h,m)}).then(function(){return i})]:[2,i]}})})});return h.open(),h.write(g2(document.doctype)+"<html></html>"),p2(this.referenceElement.ownerDocument,a,l),h.replaceChild(h.adoptNode(this.documentElement),h.documentElement),h.close(),d},o.prototype.createElementClone=function(t){if(hf(t,2))debugger;if(By(t))return this.createCanvasClone(t);if(yw(t))return this.createVideoClone(t);if(Cw(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return pf(e)&&(pf(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),e.loading==="lazy"&&(e.loading="eager")),bw(e)?this.createCustomElementClone(e):e},o.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return _d(t.style,e),e},o.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var A=[].slice.call(e.cssRules,0).reduce(function(a,l){return l&&typeof l.cssText=="string"?a+l.cssText:a},""),i=t.cloneNode(!1);return i.textContent=A,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},o.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var A=t.ownerDocument.createElement("img");try{return A.src=t.toDataURL(),A}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var a=t.getContext("2d"),l=i.getContext("2d");if(l)if(!this.options.allowTaint&&a)l.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var c=(e=t.getContext("webgl2"))!==null&&e!==void 0?e:t.getContext("webgl");if(c){var h=c.getContextAttributes();h?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}l.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},o.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var A=e.getContext("2d");try{return A&&(A.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||A.getImageData(0,0,e.width,e.height)),e}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},o.prototype.appendChildNode=function(t,e,A){(!na(e)||!a2(e)&&!e.hasAttribute(Cy)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(e)))&&(!this.options.copyStyles||!na(e)||!Cw(e))&&t.appendChild(this.cloneNode(e,A))},o.prototype.cloneChildNodes=function(t,e,A){for(var i=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(na(a)&&vy(a)&&typeof a.assignedNodes=="function"){var l=a.assignedNodes();l.length&&l.forEach(function(c){return i.appendChildNode(e,c,A)})}else this.appendChildNode(e,a,A)},o.prototype.cloneNode=function(t,e){if(py(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var A=t.ownerDocument.defaultView;if(A&&na(t)&&(gf(t)||sc(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var a=A.getComputedStyle(t),l=A.getComputedStyle(t,":before"),c=A.getComputedStyle(t,":after");this.referenceElement===t&&gf(i)&&(this.clonedReferenceElement=i),Vf(i)&&v2(i);var h=this.counters.parse(new aw(this.context,a)),d=this.resolvePseudoContent(t,i,l,Ir.BEFORE);bw(t)&&(e=!0),yw(t)||this.cloneChildNodes(t,i,e),d&&i.insertBefore(d,i.firstChild);var f=this.resolvePseudoContent(t,i,c,Ir.AFTER);return f&&i.appendChild(f),this.counters.pop(h),(a&&(this.options.copyStyles||sc(t))&&!wy(t)||e)&&_d(a,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(dc(t)||fc(t))&&(dc(i)||fc(i))&&(i.value=t.value),i}return t.cloneNode(!1)},o.prototype.resolvePseudoContent=function(t,e,A,i){var a=this;if(A){var l=A.content,c=e.ownerDocument;if(!(!c||!l||l==="none"||l==="-moz-alt-content"||A.display==="none")){this.counters.parse(new aw(this.context,A));var h=new AF(this.context,A),d=c.createElement("html2canvaspseudoelement");_d(A,d),h.content.forEach(function(m){if(m.type===0)d.appendChild(c.createTextNode(m.value));else if(m.type===22){var w=c.createElement("img");w.src=m.value,w.style.opacity="1",d.appendChild(w)}else if(m.type===18){if(m.name==="attr"){var v=m.values.filter(Jt);v.length&&d.appendChild(c.createTextNode(t.getAttribute(v[0].value)||""))}else if(m.name==="counter"){var b=m.values.filter(ha),y=b[0],x=b[1];if(y&&Jt(y)){var E=a.counters.getCounterValue(y.value),U=x&&Jt(x)?uf.parse(a.context,x.value):3;d.appendChild(c.createTextNode(Gr(E,U,!1)))}}else if(m.name==="counters"){var S=m.values.filter(ha),y=S[0],T=S[1],x=S[2];if(y&&Jt(y)){var _=a.counters.getCounterValues(y.value),D=x&&Jt(x)?uf.parse(a.context,x.value):3,F=T&&T.type===0?T.value:"",O=_.map(function(G){return Gr(G,D,!1)}).join(F);d.appendChild(c.createTextNode(O))}}}else if(m.type===20)switch(m.value){case"open-quote":d.appendChild(c.createTextNode(iw(h.quotes,a.quoteDepth++,!0)));break;case"close-quote":d.appendChild(c.createTextNode(iw(h.quotes,--a.quoteDepth,!1)));break;default:d.appendChild(c.createTextNode(m.value))}}),d.className=mf+" "+Bf;var f=i===Ir.BEFORE?" "+mf:" "+Bf;return sc(e)?e.className.baseValue+=f:e.className+=f,d}}},o.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},o})(),Ir;(function(o){o[o.BEFORE=0]="BEFORE",o[o.AFTER=1]="AFTER"})(Ir||(Ir={}));var c2=function(o,t){var e=o.createElement("iframe");return e.className="html2canvas-container",e.style.visibility="hidden",e.style.position="fixed",e.style.left="-10000px",e.style.top="0px",e.style.border="0",e.width=t.width.toString(),e.height=t.height.toString(),e.scrolling="no",e.setAttribute(Cy,"true"),o.body.appendChild(e),e},u2=function(o){return new Promise(function(t){if(o.complete){t();return}if(!o.src){t();return}o.onload=t,o.onerror=t})},h2=function(o){return Promise.all([].slice.call(o.images,0).map(u2))},d2=function(o){return new Promise(function(t,e){var A=o.contentWindow;if(!A)return e("No window assigned for iframe");var i=A.document;A.onload=o.onload=function(){A.onload=o.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),t(o))},50)}})},f2=["all","d","content"],_d=function(o,t){for(var e=o.length-1;e>=0;e--){var A=o.item(e);f2.indexOf(A)===-1&&t.style.setProperty(A,o.getPropertyValue(A))}return t},g2=function(o){var t="";return o&&(t+="<!DOCTYPE ",o.name&&(t+=o.name),o.internalSubset&&(t+=o.internalSubset),o.publicId&&(t+='"'+o.publicId+'"'),o.systemId&&(t+='"'+o.systemId+'"'),t+=">"),t},p2=function(o,t,e){o&&o.defaultView&&(t!==o.defaultView.pageXOffset||e!==o.defaultView.pageYOffset)&&o.defaultView.scrollTo(t,e)},m2=function(o){var t=o[0],e=o[1],A=o[2];t.scrollLeft=e,t.scrollTop=A},B2=":before",w2=":after",mf="___html2canvas___pseudoelement_before",Bf="___html2canvas___pseudoelement_after",Tw=`{
    content: "" !important;
    display: none !important;
}`,v2=function(o){y2(o,"."+mf+B2+Tw+`
         .`+Bf+w2+Tw)},y2=function(o,t){var e=o.ownerDocument;if(e){var A=e.createElement("style");A.textContent=t,o.appendChild(A)}},by=(function(){function o(){}return o.getOrigin=function(t){var e=o._link;return e?(e.href=t,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},o.isSameOrigin=function(t){return o.getOrigin(t)===o._origin},o.setContext=function(t){o._link=t.document.createElement("a"),o._origin=o.getOrigin(t.location.href)},o._origin="about:blank",o})(),C2=(function(){function o(t,e){this.context=t,this._options=e,this._cache={}}return o.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)||(Nd(t)||S2(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),e},o.prototype.match=function(t){return this._cache[t]},o.prototype.loadImage=function(t){return Ze(this,void 0,void 0,function(){var e,A,i,a,l=this;return ze(this,function(c){switch(c.label){case 0:return e=by.isSameOrigin(t),A=!Dd(t)&&this._options.useCORS===!0&&je.SUPPORT_CORS_IMAGES&&!e,i=!Dd(t)&&!e&&!Nd(t)&&typeof this._options.proxy=="string"&&je.SUPPORT_CORS_XHR&&!A,!e&&this._options.allowTaint===!1&&!Dd(t)&&!Nd(t)&&!i&&!A?[2]:(a=t,i?[4,this.proxy(a)]:[3,2]);case 1:a=c.sent(),c.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(h,d){var f=new Image;f.onload=function(){return h(f)},f.onerror=d,(Q2(a)||A)&&(f.crossOrigin="anonymous"),f.src=a,f.complete===!0&&setTimeout(function(){return h(f)},500),l._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,c.sent()]}})})},o.prototype.has=function(t){return typeof this._cache[t]<"u"},o.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},o.prototype.proxy=function(t){var e=this,A=this._options.proxy;if(!A)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(a,l){var c=je.SUPPORT_RESPONSE_TYPE?"blob":"text",h=new XMLHttpRequest;h.onload=function(){if(h.status===200)if(c==="text")a(h.response);else{var m=new FileReader;m.addEventListener("load",function(){return a(m.result)},!1),m.addEventListener("error",function(w){return l(w)},!1),m.readAsDataURL(h.response)}else l("Failed to proxy resource "+i+" with status code "+h.status)},h.onerror=l;var d=A.indexOf("?")>-1?"&":"?";if(h.open("GET",""+A+d+"url="+encodeURIComponent(t)+"&responseType="+c),c!=="text"&&h instanceof XMLHttpRequest&&(h.responseType=c),e._options.imageTimeout){var f=e._options.imageTimeout;h.timeout=f,h.ontimeout=function(){return l("Timed out ("+f+"ms) proxying "+i)}}h.send()})},o})(),b2=/^data:image\/svg\+xml/i,E2=/^data:image\/.*;base64,/i,x2=/^data:image\/.*/i,S2=function(o){return je.SUPPORT_SVG_DRAWING||!U2(o)},Dd=function(o){return x2.test(o)},Q2=function(o){return E2.test(o)},Nd=function(o){return o.substr(0,4)==="blob"},U2=function(o){return o.substr(-3).toLowerCase()==="svg"||b2.test(o)},ut=(function(){function o(t,e){this.type=0,this.x=t,this.y=e}return o.prototype.add=function(t,e){return new o(this.x+t,this.y+e)},o})(),Xi=function(o,t,e){return new ut(o.x+(t.x-o.x)*e,o.y+(t.y-o.y)*e)},zl=(function(){function o(t,e,A,i){this.type=1,this.start=t,this.startControl=e,this.endControl=A,this.end=i}return o.prototype.subdivide=function(t,e){var A=Xi(this.start,this.startControl,t),i=Xi(this.startControl,this.endControl,t),a=Xi(this.endControl,this.end,t),l=Xi(A,i,t),c=Xi(i,a,t),h=Xi(l,c,t);return e?new o(this.start,A,l,h):new o(h,c,a,this.end)},o.prototype.add=function(t,e){return new o(this.start.add(t,e),this.startControl.add(t,e),this.endControl.add(t,e),this.end.add(t,e))},o.prototype.reverse=function(){return new o(this.end,this.endControl,this.startControl,this.start)},o})(),KA=function(o){return o.type===1},F2=(function(){function o(t){var e=t.styles,A=t.bounds,i=Qr(e.borderTopLeftRadius,A.width,A.height),a=i[0],l=i[1],c=Qr(e.borderTopRightRadius,A.width,A.height),h=c[0],d=c[1],f=Qr(e.borderBottomRightRadius,A.width,A.height),m=f[0],w=f[1],v=Qr(e.borderBottomLeftRadius,A.width,A.height),b=v[0],y=v[1],x=[];x.push((a+h)/A.width),x.push((b+m)/A.width),x.push((l+y)/A.height),x.push((d+w)/A.height);var E=Math.max.apply(Math,x);E>1&&(a/=E,l/=E,h/=E,d/=E,m/=E,w/=E,b/=E,y/=E);var U=A.width-h,S=A.height-w,T=A.width-m,_=A.height-y,D=e.borderTopWidth,F=e.borderRightWidth,O=e.borderBottomWidth,K=e.borderLeftWidth,it=ee(e.paddingTop,t.bounds.width),G=ee(e.paddingRight,t.bounds.width),q=ee(e.paddingBottom,t.bounds.width),$=ee(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||l>0?ae(A.left+K/3,A.top+D/3,a-K/3,l-D/3,Pt.TOP_LEFT):new ut(A.left+K/3,A.top+D/3),this.topRightBorderDoubleOuterBox=a>0||l>0?ae(A.left+U,A.top+D/3,h-F/3,d-D/3,Pt.TOP_RIGHT):new ut(A.left+A.width-F/3,A.top+D/3),this.bottomRightBorderDoubleOuterBox=m>0||w>0?ae(A.left+T,A.top+S,m-F/3,w-O/3,Pt.BOTTOM_RIGHT):new ut(A.left+A.width-F/3,A.top+A.height-O/3),this.bottomLeftBorderDoubleOuterBox=b>0||y>0?ae(A.left+K/3,A.top+_,b-K/3,y-O/3,Pt.BOTTOM_LEFT):new ut(A.left+K/3,A.top+A.height-O/3),this.topLeftBorderDoubleInnerBox=a>0||l>0?ae(A.left+K*2/3,A.top+D*2/3,a-K*2/3,l-D*2/3,Pt.TOP_LEFT):new ut(A.left+K*2/3,A.top+D*2/3),this.topRightBorderDoubleInnerBox=a>0||l>0?ae(A.left+U,A.top+D*2/3,h-F*2/3,d-D*2/3,Pt.TOP_RIGHT):new ut(A.left+A.width-F*2/3,A.top+D*2/3),this.bottomRightBorderDoubleInnerBox=m>0||w>0?ae(A.left+T,A.top+S,m-F*2/3,w-O*2/3,Pt.BOTTOM_RIGHT):new ut(A.left+A.width-F*2/3,A.top+A.height-O*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||y>0?ae(A.left+K*2/3,A.top+_,b-K*2/3,y-O*2/3,Pt.BOTTOM_LEFT):new ut(A.left+K*2/3,A.top+A.height-O*2/3),this.topLeftBorderStroke=a>0||l>0?ae(A.left+K/2,A.top+D/2,a-K/2,l-D/2,Pt.TOP_LEFT):new ut(A.left+K/2,A.top+D/2),this.topRightBorderStroke=a>0||l>0?ae(A.left+U,A.top+D/2,h-F/2,d-D/2,Pt.TOP_RIGHT):new ut(A.left+A.width-F/2,A.top+D/2),this.bottomRightBorderStroke=m>0||w>0?ae(A.left+T,A.top+S,m-F/2,w-O/2,Pt.BOTTOM_RIGHT):new ut(A.left+A.width-F/2,A.top+A.height-O/2),this.bottomLeftBorderStroke=b>0||y>0?ae(A.left+K/2,A.top+_,b-K/2,y-O/2,Pt.BOTTOM_LEFT):new ut(A.left+K/2,A.top+A.height-O/2),this.topLeftBorderBox=a>0||l>0?ae(A.left,A.top,a,l,Pt.TOP_LEFT):new ut(A.left,A.top),this.topRightBorderBox=h>0||d>0?ae(A.left+U,A.top,h,d,Pt.TOP_RIGHT):new ut(A.left+A.width,A.top),this.bottomRightBorderBox=m>0||w>0?ae(A.left+T,A.top+S,m,w,Pt.BOTTOM_RIGHT):new ut(A.left+A.width,A.top+A.height),this.bottomLeftBorderBox=b>0||y>0?ae(A.left,A.top+_,b,y,Pt.BOTTOM_LEFT):new ut(A.left,A.top+A.height),this.topLeftPaddingBox=a>0||l>0?ae(A.left+K,A.top+D,Math.max(0,a-K),Math.max(0,l-D),Pt.TOP_LEFT):new ut(A.left+K,A.top+D),this.topRightPaddingBox=h>0||d>0?ae(A.left+Math.min(U,A.width-F),A.top+D,U>A.width+F?0:Math.max(0,h-F),Math.max(0,d-D),Pt.TOP_RIGHT):new ut(A.left+A.width-F,A.top+D),this.bottomRightPaddingBox=m>0||w>0?ae(A.left+Math.min(T,A.width-K),A.top+Math.min(S,A.height-O),Math.max(0,m-F),Math.max(0,w-O),Pt.BOTTOM_RIGHT):new ut(A.left+A.width-F,A.top+A.height-O),this.bottomLeftPaddingBox=b>0||y>0?ae(A.left+K,A.top+Math.min(_,A.height-O),Math.max(0,b-K),Math.max(0,y-O),Pt.BOTTOM_LEFT):new ut(A.left+K,A.top+A.height-O),this.topLeftContentBox=a>0||l>0?ae(A.left+K+$,A.top+D+it,Math.max(0,a-(K+$)),Math.max(0,l-(D+it)),Pt.TOP_LEFT):new ut(A.left+K+$,A.top+D+it),this.topRightContentBox=h>0||d>0?ae(A.left+Math.min(U,A.width+K+$),A.top+D+it,U>A.width+K+$?0:h-K+$,d-(D+it),Pt.TOP_RIGHT):new ut(A.left+A.width-(F+G),A.top+D+it),this.bottomRightContentBox=m>0||w>0?ae(A.left+Math.min(T,A.width-(K+$)),A.top+Math.min(S,A.height+D+it),Math.max(0,m-(F+G)),w-(O+q),Pt.BOTTOM_RIGHT):new ut(A.left+A.width-(F+G),A.top+A.height-(O+q)),this.bottomLeftContentBox=b>0||y>0?ae(A.left+K+$,A.top+_,Math.max(0,b-(K+$)),y-(O+q),Pt.BOTTOM_LEFT):new ut(A.left+K+$,A.top+A.height-(O+q))}return o})(),Pt;(function(o){o[o.TOP_LEFT=0]="TOP_LEFT",o[o.TOP_RIGHT=1]="TOP_RIGHT",o[o.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",o[o.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Pt||(Pt={}));var ae=function(o,t,e,A,i){var a=4*((Math.sqrt(2)-1)/3),l=e*a,c=A*a,h=o+e,d=t+A;switch(i){case Pt.TOP_LEFT:return new zl(new ut(o,d),new ut(o,d-c),new ut(h-l,t),new ut(h,t));case Pt.TOP_RIGHT:return new zl(new ut(o,t),new ut(o+l,t),new ut(h,d-c),new ut(h,d));case Pt.BOTTOM_RIGHT:return new zl(new ut(h,t),new ut(h,t+c),new ut(o+l,d),new ut(o,d));case Pt.BOTTOM_LEFT:default:return new zl(new ut(h,d),new ut(h-l,d),new ut(o,t+c),new ut(o,t))}},gc=function(o){return[o.topLeftBorderBox,o.topRightBorderBox,o.bottomRightBorderBox,o.bottomLeftBorderBox]},T2=function(o){return[o.topLeftContentBox,o.topRightContentBox,o.bottomRightContentBox,o.bottomLeftContentBox]},pc=function(o){return[o.topLeftPaddingBox,o.topRightPaddingBox,o.bottomRightPaddingBox,o.bottomLeftPaddingBox]},_2=(function(){function o(t,e,A){this.offsetX=t,this.offsetY=e,this.matrix=A,this.type=0,this.target=6}return o})(),Xl=(function(){function o(t,e){this.path=t,this.target=e,this.type=1}return o})(),D2=(function(){function o(t){this.opacity=t,this.type=2,this.target=6}return o})(),N2=function(o){return o.type===0},Ey=function(o){return o.type===1},H2=function(o){return o.type===2},_w=function(o,t){return o.length===t.length?o.some(function(e,A){return e===t[A]}):!1},L2=function(o,t,e,A,i){return o.map(function(a,l){switch(l){case 0:return a.add(t,e);case 1:return a.add(t+A,e);case 2:return a.add(t+A,e+i);case 3:return a.add(t,e+i)}return a})},xy=(function(){function o(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return o})(),Sy=(function(){function o(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new F2(this.container),this.container.styles.opacity<1&&this.effects.push(new D2(this.container.styles.opacity)),this.container.styles.transform!==null){var A=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new _2(A,i,a))}if(this.container.styles.overflowX!==0){var l=gc(this.curves),c=pc(this.curves);_w(l,c)?this.effects.push(new Xl(l,6)):(this.effects.push(new Xl(l,2)),this.effects.push(new Xl(c,4)))}}return o.prototype.getEffects=function(t){for(var e=[2,3].indexOf(this.container.styles.position)===-1,A=this.parent,i=this.effects.slice(0);A;){var a=A.effects.filter(function(h){return!Ey(h)});if(e||A.container.styles.position!==0||!A.parent){if(i.unshift.apply(i,a),e=[2,3].indexOf(A.container.styles.position)===-1,A.container.styles.overflowX!==0){var l=gc(A.curves),c=pc(A.curves);_w(l,c)||i.unshift(new Xl(c,6))}}else i.unshift.apply(i,a);A=A.parent}return i.filter(function(h){return Ue(h.target,t)})},o})(),wf=function(o,t,e,A){o.container.elements.forEach(function(i){var a=Ue(i.flags,4),l=Ue(i.flags,2),c=new Sy(i,o);Ue(i.styles.display,2048)&&A.push(c);var h=Ue(i.flags,8)?[]:A;if(a||l){var d=a||i.styles.isPositioned()?e:t,f=new xy(c);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var m=i.styles.zIndex.order;if(m<0){var w=0;d.negativeZIndex.some(function(b,y){return m>b.element.container.styles.zIndex.order?(w=y,!1):w>0}),d.negativeZIndex.splice(w,0,f)}else if(m>0){var v=0;d.positiveZIndex.some(function(b,y){return m>=b.element.container.styles.zIndex.order?(v=y+1,!1):v>0}),d.positiveZIndex.splice(v,0,f)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else i.styles.isFloating()?d.nonPositionedFloats.push(f):d.nonPositionedInlineLevel.push(f);wf(c,f,a?f:e,h)}else i.styles.isInlineLevel()?t.inlineLevel.push(c):t.nonInlineLevel.push(c),wf(c,t,e,h);Ue(i.flags,8)&&Qy(i,h)})},Qy=function(o,t){for(var e=o instanceof ff?o.start:1,A=o instanceof ff?o.reversed:!1,i=0;i<t.length;i++){var a=t[i];a.container instanceof cy&&typeof a.container.value=="number"&&a.container.value!==0&&(e=a.container.value),a.listValue=Gr(e,a.container.styles.listStyleType,!0),e+=A?-1:1}},I2=function(o){var t=new Sy(o,null),e=new xy(t),A=[];return wf(t,e,e,A),Qy(t.container,A),e},Dw=function(o,t){switch(t){case 0:return GA(o.topLeftBorderBox,o.topLeftPaddingBox,o.topRightBorderBox,o.topRightPaddingBox);case 1:return GA(o.topRightBorderBox,o.topRightPaddingBox,o.bottomRightBorderBox,o.bottomRightPaddingBox);case 2:return GA(o.bottomRightBorderBox,o.bottomRightPaddingBox,o.bottomLeftBorderBox,o.bottomLeftPaddingBox);default:return GA(o.bottomLeftBorderBox,o.bottomLeftPaddingBox,o.topLeftBorderBox,o.topLeftPaddingBox)}},M2=function(o,t){switch(t){case 0:return GA(o.topLeftBorderBox,o.topLeftBorderDoubleOuterBox,o.topRightBorderBox,o.topRightBorderDoubleOuterBox);case 1:return GA(o.topRightBorderBox,o.topRightBorderDoubleOuterBox,o.bottomRightBorderBox,o.bottomRightBorderDoubleOuterBox);case 2:return GA(o.bottomRightBorderBox,o.bottomRightBorderDoubleOuterBox,o.bottomLeftBorderBox,o.bottomLeftBorderDoubleOuterBox);default:return GA(o.bottomLeftBorderBox,o.bottomLeftBorderDoubleOuterBox,o.topLeftBorderBox,o.topLeftBorderDoubleOuterBox)}},R2=function(o,t){switch(t){case 0:return GA(o.topLeftBorderDoubleInnerBox,o.topLeftPaddingBox,o.topRightBorderDoubleInnerBox,o.topRightPaddingBox);case 1:return GA(o.topRightBorderDoubleInnerBox,o.topRightPaddingBox,o.bottomRightBorderDoubleInnerBox,o.bottomRightPaddingBox);case 2:return GA(o.bottomRightBorderDoubleInnerBox,o.bottomRightPaddingBox,o.bottomLeftBorderDoubleInnerBox,o.bottomLeftPaddingBox);default:return GA(o.bottomLeftBorderDoubleInnerBox,o.bottomLeftPaddingBox,o.topLeftBorderDoubleInnerBox,o.topLeftPaddingBox)}},O2=function(o,t){switch(t){case 0:return Yl(o.topLeftBorderStroke,o.topRightBorderStroke);case 1:return Yl(o.topRightBorderStroke,o.bottomRightBorderStroke);case 2:return Yl(o.bottomRightBorderStroke,o.bottomLeftBorderStroke);default:return Yl(o.bottomLeftBorderStroke,o.topLeftBorderStroke)}},Yl=function(o,t){var e=[];return KA(o)?e.push(o.subdivide(.5,!1)):e.push(o),KA(t)?e.push(t.subdivide(.5,!0)):e.push(t),e},GA=function(o,t,e,A){var i=[];return KA(o)?i.push(o.subdivide(.5,!1)):i.push(o),KA(e)?i.push(e.subdivide(.5,!0)):i.push(e),KA(A)?i.push(A.subdivide(.5,!0).reverse()):i.push(A),KA(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},Uy=function(o){var t=o.bounds,e=o.styles;return t.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},mc=function(o){var t=o.styles,e=o.bounds,A=ee(t.paddingLeft,e.width),i=ee(t.paddingRight,e.width),a=ee(t.paddingTop,e.width),l=ee(t.paddingBottom,e.width);return e.add(A+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+A+i),-(t.borderTopWidth+t.borderBottomWidth+a+l))},k2=function(o,t){return o===0?t.bounds:o===2?mc(t):Uy(t)},j2=function(o,t){return o===0?t.bounds:o===2?mc(t):Uy(t)},Hd=function(o,t,e){var A=k2(ta(o.styles.backgroundOrigin,t),o),i=j2(ta(o.styles.backgroundClip,t),o),a=K2(ta(o.styles.backgroundSize,t),e,A),l=a[0],c=a[1],h=Qr(ta(o.styles.backgroundPosition,t),A.width-l,A.height-c),d=P2(ta(o.styles.backgroundRepeat,t),h,a,A,i),f=Math.round(A.left+h[0]),m=Math.round(A.top+h[1]);return[d,f,m,l,c]},Yi=function(o){return Jt(o)&&o.value===la.AUTO},ql=function(o){return typeof o=="number"},K2=function(o,t,e){var A=t[0],i=t[1],a=t[2],l=o[0],c=o[1];if(!l)return[0,0];if(Se(l)&&c&&Se(c))return[ee(l,e.width),ee(c,e.height)];var h=ql(a);if(Jt(l)&&(l.value===la.CONTAIN||l.value===la.COVER)){if(ql(a)){var d=e.width/e.height;return d<a!=(l.value===la.COVER)?[e.width,e.width/a]:[e.height*a,e.height]}return[e.width,e.height]}var f=ql(A),m=ql(i),w=f||m;if(Yi(l)&&(!c||Yi(c))){if(f&&m)return[A,i];if(!h&&!w)return[e.width,e.height];if(w&&h){var v=f?A:i*a,b=m?i:A/a;return[v,b]}var y=f?A:e.width,x=m?i:e.height;return[y,x]}if(h){var E=0,U=0;return Se(l)?E=ee(l,e.width):Se(c)&&(U=ee(c,e.height)),Yi(l)?E=U*a:(!c||Yi(c))&&(U=E/a),[E,U]}var S=null,T=null;if(Se(l)?S=ee(l,e.width):c&&Se(c)&&(T=ee(c,e.height)),S!==null&&(!c||Yi(c))&&(T=f&&m?S/A*i:e.height),T!==null&&Yi(l)&&(S=f&&m?T/i*A:e.width),S!==null&&T!==null)return[S,T];throw new Error("Unable to calculate background-size for element")},ta=function(o,t){var e=o[t];return typeof e>"u"?o[0]:e},P2=function(o,t,e,A,i){var a=t[0],l=t[1],c=e[0],h=e[1];switch(o){case 2:return[new ut(Math.round(A.left),Math.round(A.top+l)),new ut(Math.round(A.left+A.width),Math.round(A.top+l)),new ut(Math.round(A.left+A.width),Math.round(h+A.top+l)),new ut(Math.round(A.left),Math.round(h+A.top+l))];case 3:return[new ut(Math.round(A.left+a),Math.round(A.top)),new ut(Math.round(A.left+a+c),Math.round(A.top)),new ut(Math.round(A.left+a+c),Math.round(A.height+A.top)),new ut(Math.round(A.left+a),Math.round(A.height+A.top))];case 1:return[new ut(Math.round(A.left+a),Math.round(A.top+l)),new ut(Math.round(A.left+a+c),Math.round(A.top+l)),new ut(Math.round(A.left+a+c),Math.round(A.top+l+h)),new ut(Math.round(A.left+a),Math.round(A.top+l+h))];default:return[new ut(Math.round(i.left),Math.round(i.top)),new ut(Math.round(i.left+i.width),Math.round(i.top)),new ut(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ut(Math.round(i.left),Math.round(i.height+i.top))]}},G2="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Nw="Hidden Text",V2=(function(){function o(t){this._data={},this._document=t}return o.prototype.parseMetrics=function(t,e){var A=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),l=this._document.body;A.style.visibility="hidden",A.style.fontFamily=t,A.style.fontSize=e,A.style.margin="0",A.style.padding="0",A.style.whiteSpace="nowrap",l.appendChild(A),i.src=G2,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=e,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(Nw)),A.appendChild(a),A.appendChild(i);var c=i.offsetTop-a.offsetTop+2;A.removeChild(a),A.appendChild(this._document.createTextNode(Nw)),A.style.lineHeight="normal",i.style.verticalAlign="super";var h=i.offsetTop-A.offsetTop+2;return l.removeChild(A),{baseline:c,middle:h}},o.prototype.getMetrics=function(t,e){var A=t+" "+e;return typeof this._data[A]>"u"&&(this._data[A]=this.parseMetrics(t,e)),this._data[A]},o})(),Fy=(function(){function o(t,e){this.context=t,this.options=e}return o})(),z2=1e4,X2=(function(o){ZA(t,o);function t(e,A){var i=o.call(this,e,A)||this;return i._activeEffects=[],i.canvas=A.canvas?A.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),A.canvas||(i.canvas.width=Math.floor(A.width*A.scale),i.canvas.height=Math.floor(A.height*A.scale),i.canvas.style.width=A.width+"px",i.canvas.style.height=A.height+"px"),i.fontMetrics=new V2(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-A.x,-A.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+A.width+"x"+A.height+") with scale "+A.scale),i}return t.prototype.applyEffects=function(e){for(var A=this;this._activeEffects.length;)this.popEffect();e.forEach(function(i){return A.applyEffect(i)})},t.prototype.applyEffect=function(e){this.ctx.save(),H2(e)&&(this.ctx.globalAlpha=e.opacity),N2(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Ey(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(e){return Ze(this,void 0,void 0,function(){var A;return ze(this,function(i){switch(i.label){case 0:return A=e.element.container.styles,A.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(e){return Ze(this,void 0,void 0,function(){return ze(this,function(A){switch(A.label){case 0:if(Ue(e.container.flags,16))debugger;return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return A.sent(),[4,this.renderNodeContent(e)];case 2:A.sent(),A.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(e,A,i){var a=this;if(A===0)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+i);else{var l=Pf(e.text);l.reduce(function(c,h){return a.ctx.fillText(h,c,e.bounds.top+i),c+a.ctx.measureText(h).width},e.bounds.left)}},t.prototype.createFontStyle=function(e){var A=e.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),i=Z2(e.fontFamily).join(", "),a=$r(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,A,e.fontWeight,a,i].join(" "),i,a]},t.prototype.renderTextNode=function(e,A){return Ze(this,void 0,void 0,function(){var i,a,l,c,h,d,f,m,w=this;return ze(this,function(v){return i=this.createFontStyle(A),a=i[0],l=i[1],c=i[2],this.ctx.font=a,this.ctx.direction=A.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",h=this.fontMetrics.getMetrics(l,c),d=h.baseline,f=h.middle,m=A.paintOrder,e.textBounds.forEach(function(b){m.forEach(function(y){switch(y){case 0:w.ctx.fillStyle=_e(A.color),w.renderTextWithLetterSpacing(b,A.letterSpacing,d);var x=A.textShadow;x.length&&b.text.trim().length&&(x.slice(0).reverse().forEach(function(E){w.ctx.shadowColor=_e(E.color),w.ctx.shadowOffsetX=E.offsetX.number*w.options.scale,w.ctx.shadowOffsetY=E.offsetY.number*w.options.scale,w.ctx.shadowBlur=E.blur.number,w.renderTextWithLetterSpacing(b,A.letterSpacing,d)}),w.ctx.shadowColor="",w.ctx.shadowOffsetX=0,w.ctx.shadowOffsetY=0,w.ctx.shadowBlur=0),A.textDecorationLine.length&&(w.ctx.fillStyle=_e(A.textDecorationColor||A.color),A.textDecorationLine.forEach(function(E){switch(E){case 1:w.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+d),b.bounds.width,1);break;case 2:w.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:w.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+f),b.bounds.width,1);break}}));break;case 1:A.webkitTextStrokeWidth&&b.text.trim().length&&(w.ctx.strokeStyle=_e(A.webkitTextStrokeColor),w.ctx.lineWidth=A.webkitTextStrokeWidth,w.ctx.lineJoin=window.chrome?"miter":"round",w.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+d)),w.ctx.strokeStyle="",w.ctx.lineWidth=0,w.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(e,A,i){if(i&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var a=mc(e),l=pc(A);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,e.intrinsicWidth,e.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(e){return Ze(this,void 0,void 0,function(){var A,i,a,l,c,h,U,U,d,f,m,w,T,v,b,_,y,x,E,U,S,T,_;return ze(this,function(D){switch(D.label){case 0:this.applyEffects(e.getEffects(4)),A=e.container,i=e.curves,a=A.styles,l=0,c=A.textNodes,D.label=1;case 1:return l<c.length?(h=c[l],[4,this.renderTextNode(h,a)]):[3,4];case 2:D.sent(),D.label=3;case 3:return l++,[3,1];case 4:if(!(A instanceof ry))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(A.src)];case 6:return U=D.sent(),this.renderReplacedElement(A,i,U),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+A.src),[3,8];case 8:if(A instanceof oy&&this.renderReplacedElement(A,i,A.canvas),!(A instanceof ly))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(A.svg)];case 10:return U=D.sent(),this.renderReplacedElement(A,i,U),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+A.svg.substring(0,255)),[3,12];case 12:return A instanceof dy&&A.tree?(d=new t(this.context,{scale:this.options.scale,backgroundColor:A.backgroundColor,x:0,y:0,width:A.width,height:A.height}),[4,d.render(A.tree)]):[3,14];case 13:f=D.sent(),A.width&&A.height&&this.ctx.drawImage(f,0,0,A.width,A.height,A.bounds.left,A.bounds.top,A.bounds.width,A.bounds.height),D.label=14;case 14:if(A instanceof Gf&&(m=Math.min(A.bounds.width,A.bounds.height),A.type===uc?A.checked&&(this.ctx.save(),this.path([new ut(A.bounds.left+m*.39363,A.bounds.top+m*.79),new ut(A.bounds.left+m*.16,A.bounds.top+m*.5549),new ut(A.bounds.left+m*.27347,A.bounds.top+m*.44071),new ut(A.bounds.left+m*.39694,A.bounds.top+m*.5649),new ut(A.bounds.left+m*.72983,A.bounds.top+m*.23),new ut(A.bounds.left+m*.84,A.bounds.top+m*.34085),new ut(A.bounds.left+m*.39363,A.bounds.top+m*.79)]),this.ctx.fillStyle=_e(vw),this.ctx.fill(),this.ctx.restore()):A.type===hc&&A.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(A.bounds.left+m/2,A.bounds.top+m/2,m/4,0,Math.PI*2,!0),this.ctx.fillStyle=_e(vw),this.ctx.fill(),this.ctx.restore())),Y2(A)&&A.value.length){switch(w=this.createFontStyle(a),T=w[0],v=w[1],b=this.fontMetrics.getMetrics(T,v).baseline,this.ctx.font=T,this.ctx.fillStyle=_e(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=J2(A.styles.textAlign),_=mc(A),y=0,A.styles.textAlign){case 1:y+=_.width/2;break;case 2:y+=_.width;break}x=_.add(y,0,0,-_.height/2+1),this.ctx.save(),this.path([new ut(_.left,_.top),new ut(_.left+_.width,_.top),new ut(_.left+_.width,_.top+_.height),new ut(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Lr(A.value,x),a.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ue(A.styles.display,2048))return[3,20];if(A.styles.listStyleImage===null)return[3,19];if(E=A.styles.listStyleImage,E.type!==0)return[3,18];U=void 0,S=E.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return U=D.sent(),this.ctx.drawImage(U,A.bounds.left-(U.width+10),A.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:e.listValue&&A.styles.listStyleType!==-1&&(T=this.createFontStyle(a)[0],this.ctx.font=T,this.ctx.fillStyle=_e(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new Rs(A.bounds.left,A.bounds.top+ee(A.styles.paddingTop,A.bounds.width),A.bounds.width,sw(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Lr(e.listValue,_),a.letterSpacing,sw(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(e){return Ze(this,void 0,void 0,function(){var A,i,E,a,l,E,c,h,E,d,f,E,m,w,E,v,b,E,y,x,E;return ze(this,function(U){switch(U.label){case 0:if(Ue(e.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:U.sent(),A=0,i=e.negativeZIndex,U.label=2;case 2:return A<i.length?(E=i[A],[4,this.renderStack(E)]):[3,5];case 3:U.sent(),U.label=4;case 4:return A++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:U.sent(),a=0,l=e.nonInlineLevel,U.label=7;case 7:return a<l.length?(E=l[a],[4,this.renderNode(E)]):[3,10];case 8:U.sent(),U.label=9;case 9:return a++,[3,7];case 10:c=0,h=e.nonPositionedFloats,U.label=11;case 11:return c<h.length?(E=h[c],[4,this.renderStack(E)]):[3,14];case 12:U.sent(),U.label=13;case 13:return c++,[3,11];case 14:d=0,f=e.nonPositionedInlineLevel,U.label=15;case 15:return d<f.length?(E=f[d],[4,this.renderStack(E)]):[3,18];case 16:U.sent(),U.label=17;case 17:return d++,[3,15];case 18:m=0,w=e.inlineLevel,U.label=19;case 19:return m<w.length?(E=w[m],[4,this.renderNode(E)]):[3,22];case 20:U.sent(),U.label=21;case 21:return m++,[3,19];case 22:v=0,b=e.zeroOrAutoZIndexOrTransformedOrOpacity,U.label=23;case 23:return v<b.length?(E=b[v],[4,this.renderStack(E)]):[3,26];case 24:U.sent(),U.label=25;case 25:return v++,[3,23];case 26:y=0,x=e.positiveZIndex,U.label=27;case 27:return y<x.length?(E=x[y],[4,this.renderStack(E)]):[3,30];case 28:U.sent(),U.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},t.prototype.formatPath=function(e){var A=this;e.forEach(function(i,a){var l=KA(i)?i.start:i;a===0?A.ctx.moveTo(l.x,l.y):A.ctx.lineTo(l.x,l.y),KA(i)&&A.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(e,A,i,a){this.path(e),this.ctx.fillStyle=A,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},t.prototype.resizeImage=function(e,A,i){var a;if(e.width===A&&e.height===i)return e;var l=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,c=l.createElement("canvas");c.width=Math.max(1,A),c.height=Math.max(1,i);var h=c.getContext("2d");return h.drawImage(e,0,0,e.width,e.height,0,0,A,i),c},t.prototype.renderBackgroundImage=function(e){return Ze(this,void 0,void 0,function(){var A,i,a,l,c,h;return ze(this,function(d){switch(d.label){case 0:A=e.styles.backgroundImage.length-1,i=function(f){var m,w,v,it,N,M,$,at,O,b,it,N,M,$,at,y,x,E,U,S,T,_,D,F,O,K,it,G,q,$,at,rt,N,M,R,z,st,H,j,W,tt,nt;return ze(this,function(ot){switch(ot.label){case 0:if(f.type!==0)return[3,5];m=void 0,w=f.url,ot.label=1;case 1:return ot.trys.push([1,3,,4]),[4,a.context.cache.match(w)];case 2:return m=ot.sent(),[3,4];case 3:return ot.sent(),a.context.logger.error("Error loading background-image "+w),[3,4];case 4:return m&&(v=Hd(e,A,[m.width,m.height,m.width/m.height]),it=v[0],N=v[1],M=v[2],$=v[3],at=v[4],O=a.ctx.createPattern(a.resizeImage(m,$,at),"repeat"),a.renderRepeat(it,O,N,M)),[3,6];case 5:NQ(f)?(b=Hd(e,A,[null,null,null]),it=b[0],N=b[1],M=b[2],$=b[3],at=b[4],y=UQ(f.angle,$,at),x=y[0],E=y[1],U=y[2],S=y[3],T=y[4],_=document.createElement("canvas"),_.width=$,_.height=at,D=_.getContext("2d"),F=D.createLinearGradient(E,S,U,T),ew(f.stops,x).forEach(function(lt){return F.addColorStop(lt.stop,_e(lt.color))}),D.fillStyle=F,D.fillRect(0,0,$,at),$>0&&at>0&&(O=a.ctx.createPattern(_,"repeat"),a.renderRepeat(it,O,N,M))):HQ(f)&&(K=Hd(e,A,[null,null,null]),it=K[0],G=K[1],q=K[2],$=K[3],at=K[4],rt=f.position.length===0?[kf]:f.position,N=ee(rt[0],$),M=ee(rt[rt.length-1],at),R=FQ(f,N,M,$,at),z=R[0],st=R[1],z>0&&st>0&&(H=a.ctx.createRadialGradient(G+N,q+M,0,G+N,q+M,z),ew(f.stops,z*2).forEach(function(lt){return H.addColorStop(lt.stop,_e(lt.color))}),a.path(it),a.ctx.fillStyle=H,z!==st?(j=e.bounds.left+.5*e.bounds.width,W=e.bounds.top+.5*e.bounds.height,tt=st/z,nt=1/tt,a.ctx.save(),a.ctx.translate(j,W),a.ctx.transform(1,0,0,tt,0,0),a.ctx.translate(-j,-W),a.ctx.fillRect(G,nt*(q-W)+W,$,at*nt),a.ctx.restore()):a.ctx.fill())),ot.label=6;case 6:return A--,[2]}})},a=this,l=0,c=e.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return l<c.length?(h=c[l],[5,i(h)]):[3,4];case 2:d.sent(),d.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(e,A,i){return Ze(this,void 0,void 0,function(){return ze(this,function(a){return this.path(Dw(i,A)),this.ctx.fillStyle=_e(e),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(e,A,i,a){return Ze(this,void 0,void 0,function(){var l,c;return ze(this,function(h){switch(h.label){case 0:return A<3?[4,this.renderSolidBorder(e,i,a)]:[3,2];case 1:return h.sent(),[2];case 2:return l=M2(a,i),this.path(l),this.ctx.fillStyle=_e(e),this.ctx.fill(),c=R2(a,i),this.path(c),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(e){return Ze(this,void 0,void 0,function(){var A,i,a,l,c,h,d,f,m=this;return ze(this,function(w){switch(w.label){case 0:return this.applyEffects(e.getEffects(2)),A=e.container.styles,i=!yn(A.backgroundColor)||A.backgroundImage.length,a=[{style:A.borderTopStyle,color:A.borderTopColor,width:A.borderTopWidth},{style:A.borderRightStyle,color:A.borderRightColor,width:A.borderRightWidth},{style:A.borderBottomStyle,color:A.borderBottomColor,width:A.borderBottomWidth},{style:A.borderLeftStyle,color:A.borderLeftColor,width:A.borderLeftWidth}],l=q2(ta(A.backgroundClip,0),e.curves),i||A.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),yn(A.backgroundColor)||(this.ctx.fillStyle=_e(A.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:w.sent(),this.ctx.restore(),A.boxShadow.slice(0).reverse().forEach(function(v){m.ctx.save();var b=gc(e.curves),y=v.inset?0:z2,x=L2(b,-y+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(m.path(b),m.ctx.clip(),m.mask(x)):(m.mask(b),m.ctx.clip(),m.path(x)),m.ctx.shadowOffsetX=v.offsetX.number+y,m.ctx.shadowOffsetY=v.offsetY.number,m.ctx.shadowColor=_e(v.color),m.ctx.shadowBlur=v.blur.number,m.ctx.fillStyle=v.inset?_e(v.color):"rgba(0,0,0,1)",m.ctx.fill(),m.ctx.restore()}),w.label=2;case 2:c=0,h=0,d=a,w.label=3;case 3:return h<d.length?(f=d[h],f.style!==0&&!yn(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,c,e.curves,2)]:[3,11]):[3,13];case 4:return w.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,c,e.curves,3)];case 6:return w.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,c,e.curves)];case 8:return w.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,c,e.curves)];case 10:w.sent(),w.label=11;case 11:c++,w.label=12;case 12:return h++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(e,A,i,a,l){return Ze(this,void 0,void 0,function(){var c,h,d,f,m,w,v,b,y,x,E,U,S,T,_,D,_,D;return ze(this,function(F){return this.ctx.save(),c=O2(a,i),h=Dw(a,i),l===2&&(this.path(h),this.ctx.clip()),KA(h[0])?(d=h[0].start.x,f=h[0].start.y):(d=h[0].x,f=h[0].y),KA(h[1])?(m=h[1].end.x,w=h[1].end.y):(m=h[1].x,w=h[1].y),i===0||i===2?v=Math.abs(d-m):v=Math.abs(f-w),this.ctx.beginPath(),l===3?this.formatPath(c):this.formatPath(h.slice(0,2)),b=A<3?A*3:A*2,y=A<3?A*2:A,l===3&&(b=A,y=A),x=!0,v<=b*2?x=!1:v<=b*2+y?(E=v/(2*b+y),b*=E,y*=E):(U=Math.floor((v+y)/(b+y)),S=(v-U*b)/(U-1),T=(v-(U+1)*b)/U,y=T<=0||Math.abs(y-S)<Math.abs(y-T)?S:T),x&&(l===3?this.ctx.setLineDash([0,b+y]):this.ctx.setLineDash([b,y])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=A):this.ctx.lineWidth=A*2+1.1,this.ctx.strokeStyle=_e(e),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(KA(h[0])&&(_=h[3],D=h[0],this.ctx.beginPath(),this.formatPath([new ut(_.end.x,_.end.y),new ut(D.start.x,D.start.y)]),this.ctx.stroke()),KA(h[1])&&(_=h[1],D=h[2],this.ctx.beginPath(),this.formatPath([new ut(_.end.x,_.end.y),new ut(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(e){return Ze(this,void 0,void 0,function(){var A;return ze(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=_e(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),A=I2(e),[4,this.renderStack(A)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(Fy),Y2=function(o){return o instanceof hy||o instanceof uy?!0:o instanceof Gf&&o.type!==hc&&o.type!==uc},q2=function(o,t){switch(o){case 0:return gc(t);case 2:return T2(t);default:return pc(t)}},J2=function(o){switch(o){case 1:return"center";case 2:return"right";default:return"left"}},W2=["-apple-system","system-ui"],Z2=function(o){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?o.filter(function(t){return W2.indexOf(t)===-1}):o},$2=(function(o){ZA(t,o);function t(e,A){var i=o.call(this,e,A)||this;return i.canvas=A.canvas?A.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=A,i.canvas.width=Math.floor(A.width*A.scale),i.canvas.height=Math.floor(A.height*A.scale),i.canvas.style.width=A.width+"px",i.canvas.style.height=A.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-A.x,-A.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+A.width+"x"+A.height+" at "+A.x+","+A.y+") with scale "+A.scale),i}return t.prototype.render=function(e){return Ze(this,void 0,void 0,function(){var A,i;return ze(this,function(a){switch(a.label){case 0:return A=df(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,tT(A)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=_e(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(Fy),tT=function(o){return new Promise(function(t,e){var A=new Image;A.onload=function(){t(A)},A.onerror=e,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(o))})},eT=(function(){function o(t){var e=t.id,A=t.enabled;this.id=e,this.enabled=A,this.start=Date.now()}return o.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Ql([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},o.prototype.getTime=function(){return Date.now()-this.start},o.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Ql([this.id,this.getTime()+"ms"],t))},o.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Ql([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},o.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Ql([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},o.instances={},o})(),AT=(function(){function o(t,e){var A;this.windowBounds=e,this.instanceName="#"+o.instanceCount++,this.logger=new eT({id:this.instanceName,enabled:t.logging}),this.cache=(A=t.cache)!==null&&A!==void 0?A:new C2(this,t)}return o.instanceCount=1,o})(),sT=function(o,t){return t===void 0&&(t={}),nT(o,t)};typeof window<"u"&&by.setContext(window);var nT=function(o,t){return Ze(void 0,void 0,void 0,function(){var e,A,i,a,l,c,h,d,f,m,w,v,b,y,x,E,U,S,T,_,F,D,F,O,K,it,G,q,$,at,rt,N,M,R,z,st,H,j,W,tt;return ze(this,function(nt){switch(nt.label){case 0:if(!o||typeof o!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(e=o.ownerDocument,!e)throw new Error("Element is not attached to a Document");if(A=e.defaultView,!A)throw new Error("Document is not attached to a Window");return i={allowTaint:(O=t.allowTaint)!==null&&O!==void 0?O:!1,imageTimeout:(K=t.imageTimeout)!==null&&K!==void 0?K:15e3,proxy:t.proxy,useCORS:(it=t.useCORS)!==null&&it!==void 0?it:!1},a=Wd({logging:(G=t.logging)!==null&&G!==void 0?G:!0,cache:t.cache},i),l={windowWidth:(q=t.windowWidth)!==null&&q!==void 0?q:A.innerWidth,windowHeight:($=t.windowHeight)!==null&&$!==void 0?$:A.innerHeight,scrollX:(at=t.scrollX)!==null&&at!==void 0?at:A.pageXOffset,scrollY:(rt=t.scrollY)!==null&&rt!==void 0?rt:A.pageYOffset},c=new Rs(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),h=new AT(a,c),d=(N=t.foreignObjectRendering)!==null&&N!==void 0?N:!1,f={allowTaint:(M=t.allowTaint)!==null&&M!==void 0?M:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:d,copyStyles:d},h.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),m=new Fw(h,o,f),w=m.clonedReferenceElement,w?[4,m.toIFrame(e,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=nt.sent(),b=Vf(w)||i2(w)?Lx(w.ownerDocument):Sc(h,w),y=b.width,x=b.height,E=b.left,U=b.top,S=iT(h,w,t.backgroundColor),T={canvas:t.canvas,backgroundColor:S,scale:(z=(R=t.scale)!==null&&R!==void 0?R:A.devicePixelRatio)!==null&&z!==void 0?z:1,x:((st=t.x)!==null&&st!==void 0?st:0)+E,y:((H=t.y)!==null&&H!==void 0?H:0)+U,width:(j=t.width)!==null&&j!==void 0?j:Math.ceil(y),height:(W=t.height)!==null&&W!==void 0?W:Math.ceil(x)},d?(h.logger.debug("Document cloned, using foreign object rendering"),F=new $2(h,T),[4,F.render(w)]):[3,3];case 2:return _=nt.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+E+","+U+" with size "+y+"x"+x+" using computed rendering"),h.logger.debug("Starting DOM parsing"),D=gy(h,w),S===D.styles.backgroundColor&&(D.styles.backgroundColor=Ms.TRANSPARENT),h.logger.debug("Starting renderer for element at "+T.x+","+T.y+" with size "+T.width+"x"+T.height),F=new X2(h,T),[4,F.render(D)];case 4:_=nt.sent(),nt.label=5;case 5:return(!((tt=t.removeContainer)!==null&&tt!==void 0)||tt)&&(Fw.destroy(v)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,_]}})})},iT=function(o,t,e){var A=t.ownerDocument,i=A.documentElement?Nr(o,getComputedStyle(A.documentElement).backgroundColor):Ms.TRANSPARENT,a=A.body?Nr(o,getComputedStyle(A.body).backgroundColor):Ms.TRANSPARENT,l=typeof e=="string"?Nr(o,e):e===null?Ms.TRANSPARENT:4294967295;return t===A.documentElement?yn(i)?yn(a)?l:a:i:l};const qi=[{id:"applied",label:"Applied",color:"#6366f1"},{id:"screening",label:"Screening",color:"#8b5cf6"},{id:"interview",label:"Interview",color:"#f59e0b"},{id:"offer",label:"Offer",color:"#10b981"},{id:"accepted",label:"Accepted",color:"#059669"},{id:"rejected",label:"Rejected",color:"#ef4444"},{id:"withdrawn",label:"Withdrawn",color:"#6b7280"}],wr=[{id:"onsite",label:"On-site",color:"#6366f1"},{id:"hybrid",label:"Hybrid",color:"#8b5cf6"},{id:"remote",label:"Remote",color:"#10b981"}],aT=(o,t)=>t?Math.max(4,o/t*24):4,rT=Y.forwardRef(function({jobs:t=[],onEditJob:e},A){const[i,a]=Y.useState(new Set),[l,c]=Y.useState(new Set),[h,d]=Y.useState(new Set),[f,m]=Y.useState([]),w=Y.useRef(null),v=Y.useRef(null),b=Y.useRef({}),y=Y.useRef({}),x=Y.useRef({}),E=Y.useRef({}),U=N=>{const M=(N.workType||N.type||"").toLowerCase(),R=(N.location||"").toLowerCase();return M.includes("remote")||R.includes("remote")?"remote":M.includes("hybrid")||R.includes("hybrid")?"hybrid":"onsite"},S=Y.useMemo(()=>{const N={onsite:[],hybrid:[],remote:[]};return t.forEach(M=>{const R=U(M);N[R]?N[R].push(M):N.onsite.push(M)}),N},[t]),T=N=>{const M=S[N]||[],R={};return M.forEach(z=>{const st=z.location||"Unknown";R[st]||(R[st]=[]),R[st].push(z)}),{map:R,list:Object.keys(R).sort()}},_=(N,M)=>{const z=T(N).map[M]||[],st={};return qi.forEach(H=>st[H.id]=[]),z.forEach(H=>{st[H.status]?st[H.status].push(H):st.applied&&st.applied.push(H)}),{map:st}},D=()=>{a(new Set),c(new Set),d(new Set)},F=i.size>0||l.size>0||h.size>0,O=N=>{a(M=>{const R=new Set(M);return R.has(N)?R.delete(N):R.add(N),R})},K=(N,M)=>{const R=`${N}:${M}`;c(z=>{const st=new Set(z);return st.has(R)?st.delete(R):st.add(R),st})},it=(N,M,R)=>{const z=`${N}:${M}:${R}`;d(st=>{const H=new Set(st);return H.has(z)?H.delete(z):H.add(z),H})},[G,q]=Y.useState(!1),$=async()=>{if(!w.current)return;const N=new Set(i),M=new Set(l),R=new Set(h),z=new Set,st=new Set,H=new Set;wr.forEach(j=>{(S[j.id]?.length||0)>0&&(z.add(j.id),T(j.id).list.forEach(tt=>{const nt=`${j.id}:${tt}`;st.add(nt);const ot=_(j.id,tt);qi.forEach(lt=>{(ot.map[lt.id]?.length||0)>0&&H.add(`${nt}:${lt.id}`)})}))}),q(!0),a(z),c(st),d(H),await new Promise(j=>setTimeout(j,200));try{const j=w.current.scrollWidth,W=w.current.scrollHeight,tt=w.current.style.overflow,nt=w.current.style.width,ot=w.current.style.height;w.current.style.overflow="visible",w.current.style.width=`${j}px`,w.current.style.height=`${W}px`;const lt=getComputedStyle(document.documentElement),St=lt.getPropertyValue("--color-text").trim()||"#1a1a1a",wt=lt.getPropertyValue("--color-text-muted").trim()||"#6b7280",ct=lt.getPropertyValue("--color-bg").trim()||"#faf9f6",Mt=lt.getPropertyValue("--color-surface").trim()||"#ffffff",Wt=document.createElement("style");Wt.id="export-styles",Wt.textContent=`
        .sankey-view * { color: ${St} !important; }
        .sankey-view .node-label { color: ${St} !important; }
        .sankey-view .job-role { color: ${St} !important; }
        .sankey-view .job-company { color: ${wt} !important; }
        .sankey-view .node-count-badge { color: ${wt} !important; }
        .sankey-view .root-node, .sankey-view .root-node * { color: white !important; }
      `,document.head.appendChild(Wt),await new Promise(qe=>setTimeout(qe,100));const Ye=await sT(w.current,{backgroundColor:ct,scale:2,useCORS:!0,logging:!1,width:j,height:W,scrollX:0,scrollY:0,windowWidth:j,windowHeight:W});Wt.remove(),w.current.style.overflow=tt,w.current.style.width=nt,w.current.style.height=ot;const ce=document.createElement("a");ce.download=`gaptrack-funnel-${new Date().toISOString().split("T")[0]}.png`,ce.href=Ye.toDataURL("image/png"),ce.click()}catch(j){console.error("Failed to export PNG:",j),alert("Failed to export image")}q(!1),a(N),c(M),d(R)};Y.useImperativeHandle(A,()=>({downloadPNG:$}));const at=i.size>0||l.size>0||h.size>0,rt=()=>{if(at)a(new Set),c(new Set),d(new Set);else{const N=new Set,M=new Set,R=new Set;wr.forEach(z=>{(S[z.id]?.length||0)>0&&(N.add(z.id),T(z.id).list.forEach(H=>{const j=`${z.id}:${H}`;M.add(j);const W=_(z.id,H);qi.forEach(tt=>{(W.map[tt.id]?.length||0)>0&&R.add(`${j}:${tt.id}`)})}))}),a(N),c(M),d(R)}};return Y.useLayoutEffect(()=>{const N=()=>{if(!w.current||!v.current)return;const st=[],H=w.current.getBoundingClientRect(),j=t.length,W=(tt,nt,ot,lt,St,wt)=>{if(!tt||!nt)return;const ct=tt.getBoundingClientRect(),Mt=nt.getBoundingClientRect(),Wt=w.current.scrollLeft,Ye=w.current.scrollTop,ce={x:ct.right-H.left+Wt,y:ct.top+ct.height/2-H.top+Ye},qe={x:Mt.left-H.left+Wt,y:Mt.top+Mt.height/2-H.top+Ye},xn=aT(lt,St),fa=ce.x+(qe.x-ce.x)*.5,yt=qe.x-(qe.x-ce.x)*.5;st.push({d:`M ${ce.x} ${ce.y} C ${fa} ${ce.y}, ${yt} ${qe.y}, ${qe.x} ${qe.y}`,stroke:ot,strokeWidth:xn,key:wt})};wr.forEach(tt=>{const nt=S[tt.id]?.length||0;nt>0&&W(v.current,b.current[tt.id],"#cbd5e1",nt,j,`root-${tt.id}`)}),i.forEach(tt=>{const nt=b.current[tt],ot=S[tt]?.length||1,lt=T(tt);lt.list.forEach(St=>{const wt=lt.map[St]?.length||0;wt>0&&W(nt,y.current[`${tt}:${St}`],wr.find(ct=>ct.id===tt)?.color||"#cbd5e1",wt,ot,`type-${tt}-${St}`)})}),l.forEach(tt=>{const nt=tt.split(":"),ot=nt[0],lt=nt.slice(1).join(":"),St=y.current[tt],ct=T(ot).map[lt]?.length||1,Mt=_(ot,lt);qi.forEach(Wt=>{const Ye=Mt.map[Wt.id]?.length||0;Ye>0&&W(St,x.current[`${tt}:${Wt.id}`],Wt.color,Ye,ct,`loc-${tt}-${Wt.id}`)})}),h.forEach(tt=>{const nt=x.current[tt],ot=E.current[tt];if(nt&&ot){const lt=tt.split(":").pop(),St=qi.find(wt=>wt.id===lt);W(nt,ot,St?.color||"#cbd5e1",1,1,`status-${tt}-jobs`)}}),m(st)},M=setTimeout(N,50),R=w.current,z=()=>N();return R?.addEventListener("scroll",z),()=>{clearTimeout(M),R?.removeEventListener("scroll",z)}},[i,l,h,t,S]),g.jsxs("div",{className:"sankey-wrapper",children:[!G&&g.jsxs("button",{className:"sankey-expand-btn",onClick:rt,title:at?"Collapse All":"Expand All",children:[at?g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("polyline",{points:"4 14 10 14 10 20"}),g.jsx("polyline",{points:"20 10 14 10 14 4"}),g.jsx("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),g.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]}):g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("polyline",{points:"15 3 21 3 21 9"}),g.jsx("polyline",{points:"9 21 3 21 3 15"}),g.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),g.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]}),at?"Collapse":"Expand"]}),g.jsxs("div",{className:"sankey-view",ref:w,children:[g.jsx("svg",{className:"sankey-svg-layer",children:f.map(N=>g.jsx("path",{d:N.d,stroke:N.stroke,strokeWidth:N.strokeWidth,className:"sankey-path"},N.key))}),g.jsx("div",{className:"sankey-column",children:g.jsxs("button",{className:`sankey-node root-node ${F?"has-expanded":""}`,ref:v,onClick:D,title:F?"Click to collapse all":"All jobs",children:[g.jsx("span",{className:"node-count",children:t.length}),g.jsx("span",{className:"node-label",children:"All Jobs"})]})}),g.jsx("div",{className:"sankey-column",children:wr.map(N=>{const M=S[N.id]?.length||0;if(M===0)return null;const R=i.has(N.id),z=T(N.id);return g.jsxs("div",{className:"sankey-branch-group",children:[g.jsxs("button",{ref:st=>b.current[N.id]=st,className:`sankey-node type-node ${R?"expanded":""}`,onClick:()=>O(N.id),style:{"--node-color":N.color},children:[g.jsx("span",{className:"node-dot",style:{background:N.color}}),g.jsx("span",{className:"node-label",children:N.label}),g.jsx("span",{className:"node-count-badge",children:M})]}),R&&g.jsx("div",{className:"sankey-sub-branch",children:z.list.map(st=>{const H=`${N.id}:${st}`,j=z.map[st]?.length||0,W=l.has(H),tt=_(N.id,st);return g.jsxs("div",{className:"sankey-leaf-group",children:[g.jsxs("button",{ref:nt=>y.current[H]=nt,className:`sankey-node location-node ${W?"expanded":""}`,onClick:()=>K(N.id,st),children:[g.jsx("span",{className:"node-label",children:st}),g.jsx("span",{className:"node-count-badge",children:j})]}),W&&g.jsx("div",{className:"sankey-sub-branch status-column",children:qi.map(nt=>{const ot=tt.map[nt.id]||[];if(ot.length===0)return null;const lt=`${H}:${nt.id}`,St=h.has(lt);return g.jsxs("div",{className:"sankey-leaf-group",children:[g.jsxs("button",{ref:wt=>x.current[lt]=wt,className:`sankey-node status-node ${St?"expanded":""}`,onClick:()=>it(N.id,st,nt.id),style:{"--node-color":nt.color},children:[g.jsx("span",{className:"node-dot",style:{background:nt.color}}),g.jsx("span",{className:"node-label",children:nt.label}),g.jsx("span",{className:"node-count-badge",children:ot.length})]}),St&&g.jsx("div",{className:"sankey-jobs-list",ref:wt=>E.current[lt]=wt,children:ot.map(wt=>g.jsxs("div",{className:"sankey-job-card",onClick:()=>e(wt),children:[g.jsx("div",{className:"job-role",children:wt.role}),g.jsx("div",{className:"job-company",children:wt.company}),wt.gapAnalysis?.matchScore&&g.jsxs("div",{className:"job-score",style:{color:wt.gapAnalysis.matchScore>=70?"#10b981":"#f59e0b"},children:[wt.gapAnalysis.matchScore,"%"]})]},wt.id))})]},nt.id)})})]},st)})})]},N.id)})})]})]})});function Jl({label:o,value:t,options:e,onChange:A}){const[i,a]=Y.useState(!1),l=Y.useRef(null);Y.useEffect(()=>{const h=d=>{l.current&&!l.current.contains(d.target)&&a(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const c=e.find(h=>h.value===t);return g.jsxs("div",{className:"filter-group",ref:l,children:[g.jsx("label",{children:o}),g.jsxs("div",{className:"custom-dropdown",children:[g.jsxs("button",{type:"button",className:`dropdown-trigger ${i?"open":""}`,onClick:()=>a(!i),children:[g.jsx("span",{className:"dropdown-value",children:c?.label||"Select..."}),g.jsx("span",{className:"dropdown-arrow"})]}),i&&g.jsx("div",{className:"dropdown-menu",children:e.map(h=>g.jsxs("button",{type:"button",className:`dropdown-option ${t===h.value?"selected":""}`,onClick:()=>{A(h.value),a(!1)},children:[t===h.value&&g.jsx("span",{className:"option-check"}),g.jsx("span",{children:h.label})]},h.value))})]})]})}const Hw=[{text:"Every rejection is one step closer to an offer.",type:"encouraging"},{text:"Your next opportunity is just one application away.",type:"encouraging"},{text:"The job hunt is a marathon, not a sprint. Pace yourself.",type:"encouraging"},{text:"Today's effort is tomorrow's success story.",type:"encouraging"},{text:"You're not unemployed, you're on a talent search... for companies worthy of you.",type:"funny"},{text:"Remember: Even LinkedIn was rejected by investors 25 times.",type:"encouraging"},{text:"Plot twist: The perfect job is looking for you too.",type:"funny"},{text:"Rejection emails are just fan mail from companies that can't afford you.",type:"funny"},{text:"Your resume is great. Their loss.",type:"funny"},{text:"Somewhere, a hiring manager is desperately looking for someone exactly like you.",type:"encouraging"},{text:"Coffee first, applications second, panic never.",type:"funny"},{text:"You've survived 100% of your worst days. This job hunt is nothing.",type:"encouraging"},{text:"The right job won't need you to be someone else.",type:"encouraging"},{text:"Fun fact: Most people get hired. You will too.",type:"encouraging"},{text:"Today's awkward interview story is tomorrow's party anecdote.",type:"funny"}],oT=()=>{const o=new Date,t=new Date(o.getFullYear(),0,0),e=o-t,A=Math.floor(e/(1e3*60*60*24));return Hw[A%Hw.length]};function lT({jobs:o=[],contacts:t=[],viewMode:e,goalDate:A,onUpdateGoalDate:i,onAddJob:a,onStatusChange:l,onDeleteJob:c,onEditJob:h}){const d=oT(),f=Array.isArray(o)?o:[],m=Y.useRef(null),[w,v]=Y.useState({status:"all",location:"all",company:"all",workType:"all"}),[b,y]=Y.useState(!1),[x,E]=Y.useState(!1),[U,S]=Y.useState(""),_=(()=>{if(!A)return null;const R=new Date(A),z=new Date;z.setHours(0,0,0,0),R.setHours(0,0,0,0);const st=R-z;return Math.ceil(st/(1e3*60*60*24))})(),D=R=>R?new Date(R).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",F=()=>{S(A||""),E(!0)},O=()=>{U&&i(U),E(!1)},K=()=>{i(null),E(!1)},it=Y.useMemo(()=>{const R=[...new Set(f.map(st=>st.location).filter(Boolean))],z=[...new Set(f.map(st=>st.company).filter(Boolean))];return{locations:R,companies:z}},[f]),G=async()=>{if(f.length===0)return;const R=["ID","Company","Role","Location","Status","Work Type","Salary","Link","Notes","Created At","Updated At"],z=f.map(ot=>[ot.id||"",ot.company||"",ot.role||"",ot.location||"",ot.status||"",ot.workType||"",ot.salary||"",ot.link||"",ot.notes||"",ot.createdAt||"",ot.updatedAt||""]),st=ot=>{const lt=String(ot);return lt.includes(",")||lt.includes('"')||lt.includes(`
`)?`"${lt.replace(/"/g,'""')}"`:lt},H=[R.join(","),...z.map(ot=>ot.map(st).join(","))].join(`
`),j=`jobs-${new Date().toISOString().split("T")[0]}.csv`;if(window.showSaveFilePicker)try{const lt=await(await window.showSaveFilePicker({suggestedName:j,types:[{description:"CSV File",accept:{"text/csv":[".csv"]}}]})).createWritable();await lt.write(H),await lt.close();return}catch(ot){if(ot.name==="AbortError")return}const W=new Blob([H],{type:"text/csv"}),tt=window.URL.createObjectURL(W),nt=document.createElement("a");nt.href=tt,nt.download=j,document.body.appendChild(nt),nt.click(),window.URL.revokeObjectURL(tt),document.body.removeChild(nt)},q=Y.useMemo(()=>f.filter(R=>!(w.status!=="all"&&R.status!==w.status||w.location!=="all"&&R.location!==w.location||w.company!=="all"&&R.company!==w.company||w.workType!=="all"&&(R.workType||"onsite")!==w.workType)),[f,w]),$=Object.values(w).filter(R=>R!=="all").length,at=[{key:"applied",label:"Applied",color:"#6366f1",count:f.filter(R=>R.status==="applied").length},{key:"screening",label:"Screening",color:"#8b5cf6",count:f.filter(R=>R.status==="screening").length},{key:"interview",label:"Interview",color:"#f59e0b",count:f.filter(R=>R.status==="interview").length},{key:"offer",label:"Offer",color:"#10b981",count:f.filter(R=>R.status==="offer").length},{key:"accepted",label:"Accepted",color:"#059669",count:f.filter(R=>R.status==="accepted").length}],rt=f.filter(R=>R.status==="rejected").length,N=f.filter(R=>R.status==="withdrawn").length,M=f.filter(R=>R.status==="accepted").length;return f.length===0?g.jsxs("div",{className:"jobs-empty-state",children:[g.jsx("div",{className:"empty-illustration",children:g.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",children:[g.jsx("rect",{x:"20",y:"30",width:"80",height:"60",rx:"4",stroke:"currentColor",strokeWidth:"2",fill:"none"}),g.jsx("line",{x1:"20",y1:"50",x2:"100",y2:"50",stroke:"currentColor",strokeWidth:"2"}),g.jsx("rect",{x:"30",y:"60",width:"30",height:"8",rx:"2",fill:"currentColor",opacity:"0.3"}),g.jsx("rect",{x:"30",y:"72",width:"50",height:"8",rx:"2",fill:"currentColor",opacity:"0.2"}),g.jsx("circle",{cx:"85",cy:"70",r:"20",stroke:"currentColor",strokeWidth:"2",fill:"var(--color-primary-light)"}),g.jsx("path",{d:"M80 70 L83 73 L90 66",stroke:"var(--color-primary)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]})}),g.jsx("h2",{children:"No applications yet"}),g.jsx("p",{children:"Start tracking your job search by adding your first application"}),g.jsxs(xe,{variant:"primary",size:"lg",onClick:a,children:[g.jsx("span",{className:"btn-icon",children:"+"}),"Add Your First Job"]})]}):g.jsxs("div",{className:"jobs-view",children:[g.jsx("h2",{className:"page-title",children:"Job Applications"}),g.jsx("div",{className:"goal-section",children:M>0?g.jsxs("div",{className:"goal-success",children:[g.jsx("div",{className:"success-icon",children:""}),g.jsxs("div",{className:"success-message",children:[g.jsx("span",{className:"success-title",children:"Congratulations!"}),g.jsxs("span",{className:"success-subtitle",children:["You did it! ",M," offer",M>1?"s":""," accepted."]})]})]}):x?g.jsxs("div",{className:"goal-edit",children:[g.jsx("input",{type:"date",value:U,onChange:R=>S(R.target.value),className:"goal-date-input"}),g.jsxs("div",{className:"goal-edit-actions",children:[g.jsx("button",{className:"goal-save-btn",onClick:O,children:"Save"}),g.jsx("button",{className:"goal-cancel-btn",onClick:()=>E(!1),children:"Cancel"}),A&&g.jsx("button",{className:"goal-clear-btn",onClick:K,children:"Clear"})]})]}):A?g.jsxs("div",{className:`goal-display ${_<-14?"very-overdue":""}`,children:[g.jsxs("div",{className:`goal-countdown ${_<=0?"overdue":_<=7?"urgent":""}`,children:[g.jsx("span",{className:"countdown-number",children:Math.abs(_)}),g.jsx("span",{className:"countdown-label",children:_<0?"days overdue":_===0?"today!":"days to go"})]}),g.jsxs("div",{className:"goal-info",children:[g.jsxs("span",{className:"goal-target",children:["Target: ",D(A)]}),g.jsx("button",{className:"goal-edit-btn",onClick:F,children:_<-14?"Set New Goal":"Edit"})]}),g.jsx("div",{className:"goal-quote",children:g.jsx("span",{className:"quote-text",children:_<-14?`"The timeline changed, but your goal hasn't. Set a new target date!"`:`"${d.text}"`})})]}):g.jsxs("div",{className:"goal-empty",children:[g.jsxs("button",{className:"goal-set-btn",onClick:F,children:[g.jsx("span",{className:"goal-set-icon",children:"+"}),"Set a goal date"]}),g.jsx("div",{className:"goal-quote",children:g.jsxs("span",{className:"quote-text",children:['"',d.text,'"']})})]})}),g.jsxs("div",{className:"jobs-header",children:[g.jsx("div",{className:"pipeline-stats",children:at.map((R,z)=>g.jsxs("div",{className:"pipeline-stage",children:[g.jsxs("div",{className:"stage-content",children:[g.jsx("span",{className:"stage-count",style:{color:R.color},children:R.count}),g.jsx("span",{className:"stage-label",children:R.label})]}),z<at.length-1&&g.jsx("div",{className:"stage-arrow"})]},R.key))}),(rt>0||N>0)&&g.jsxs("div",{className:"pipeline-secondary",children:[rt>0&&g.jsxs("span",{className:"secondary-stat rejected",children:[rt," rejected"]}),N>0&&g.jsxs("span",{className:"secondary-stat withdrawn",children:[N," withdrawn"]})]}),g.jsx("div",{className:"header-spacer"}),g.jsxs("button",{className:`filter-toggle ${b?"active":""} ${$>0?"has-filters":""}`,onClick:()=>y(!b),children:[g.jsx("span",{className:"filter-icon"}),"Filters",$>0&&g.jsx("span",{className:"filter-badge",children:$})]}),f.length>0&&g.jsx("button",{className:"csv-btn",onClick:()=>e==="funnel"?m.current?.downloadPNG():G(),title:e==="funnel"?"Download PNG":"Download CSV",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),g.jsx("polyline",{points:"7 10 12 15 17 10"}),g.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),g.jsxs(xe,{variant:"primary",onClick:a,children:[g.jsx("span",{className:"btn-icon",children:"+"}),"Add Job"]})]}),b&&g.jsxs("div",{className:"filters-panel",children:[g.jsx(Jl,{label:"Status",value:w.status,onChange:R=>v(z=>({...z,status:R})),options:[{value:"all",label:"All Statuses"},{value:"applied",label:"Applied"},{value:"screening",label:"Screening"},{value:"interview",label:"Interviewing"},{value:"offer",label:"Offer Received"},{value:"accepted",label:"Accepted"},{value:"rejected",label:"Rejected"},{value:"withdrawn",label:"Withdrawn"}]}),g.jsx(Jl,{label:"Location",value:w.location,onChange:R=>v(z=>({...z,location:R})),options:[{value:"all",label:"All Locations"},...it.locations.map(R=>({value:R,label:R}))]}),g.jsx(Jl,{label:"Company",value:w.company,onChange:R=>v(z=>({...z,company:R})),options:[{value:"all",label:"All Companies"},...it.companies.map(R=>({value:R,label:R}))]}),g.jsx(Jl,{label:"Work Type",value:w.workType,onChange:R=>v(z=>({...z,workType:R})),options:[{value:"all",label:"All Types"},{value:"onsite",label:"On-site"},{value:"hybrid",label:"Hybrid"},{value:"remote",label:"Remote"}]}),$>0&&g.jsx("button",{className:"clear-filters",onClick:()=>v({status:"all",location:"all",company:"all",workType:"all"}),children:"Clear All"})]}),q.length===0&&f.length>0?g.jsxs("div",{className:"no-results",children:[g.jsx("p",{children:"No jobs match your filters"}),g.jsx("button",{onClick:()=>v({status:"all",location:"all",company:"all",workType:"all"}),children:"Clear Filters"})]}):e==="funnel"?g.jsx(rT,{ref:m,jobs:q,contacts:t,onStatusChange:l,onEditJob:h}):e==="kanban"?g.jsx(Hx,{jobs:q,contacts:t,onStatusChange:l,onDeleteJob:c,onEditJob:h}):g.jsx("div",{className:"jobs-list",children:q.map(R=>g.jsx(Dx,{job:R,contacts:t,onStatusChange:l,onDelete:c,onEdit:h},R.id))})]})}function cT({resume:o,onUpdateResume:t,onAnalyzeResume:e,isAnalyzing:A=!1,analysisResult:i=null}){const[a,l]=Y.useState({skills:!1,experience:!1,education:!1,certifications:!1}),[c,h]=Y.useState("normal"),d=x=>{l(E=>({...E,[x]:!E[x]}))},f=()=>{e&&e(c)},m=Array.isArray(o?.skills)?o.skills:[],w=Array.isArray(o?.experience)?o.experience:[],v=Array.isArray(o?.education)?o.education:[],b=Array.isArray(o?.certifications)?o.certifications:[],y=o?.name||m.length>0||w.length>0;return g.jsxs("div",{className:"profile-view",children:[g.jsx("h2",{className:"page-title",children:"Resume"}),!y&&g.jsx("section",{className:"profile-section",children:g.jsxs(WA,{padding:"lg",className:"resume-empty",children:[g.jsx("div",{className:"empty-icon",children:"+"}),g.jsx("h3",{children:"No resume uploaded"}),g.jsx("p",{children:"Upload your resume to see how you match with jobs"}),g.jsx(xe,{variant:"primary",onClick:t,children:"Upload Resume"})]})}),y&&g.jsxs("section",{className:"profile-section analysis-section",children:[g.jsx("div",{className:"section-header",children:g.jsx("h2",{children:"Resume Analysis"})}),g.jsxs("div",{className:"analysis-prompt-card",children:[g.jsxs("div",{className:"analysis-prompt-header",children:[g.jsx("p",{className:"analysis-prompt-text",children:"Get AI feedback on your resume. Choose your preferred style:"}),g.jsxs("div",{className:"analysis-mode-toggle",children:[g.jsxs("button",{className:`mode-btn ${c==="normal"?"active":""}`,onClick:()=>h("normal"),children:[g.jsx("span",{className:"mode-icon mode-icon-normal"}),"Normal"]}),g.jsxs("button",{className:`mode-btn roast ${c==="roast"?"active":""}`,onClick:()=>h("roast"),children:[g.jsx("span",{className:"mode-icon mode-icon-roast"}),"Roast"]})]})]}),g.jsx("div",{className:"analysis-mode-desc",children:c==="normal"?g.jsx("p",{children:"Constructive feedback with actionable suggestions to improve your resume."}):g.jsx("p",{children:"Brutally honest, no-holds-barred critique. Not for the faint of heart!"})}),g.jsx(xe,{variant:"primary",onClick:f,disabled:A,className:"analyze-btn",children:A?"Analyzing...":"Analyze My Resume"})]}),i&&g.jsxs("div",{className:`analysis-result ${i.mode}`,children:[g.jsxs("div",{className:"analysis-result-header",children:[g.jsx("h3",{children:i.mode==="roast"?"Roast Results":"Analysis Results"}),g.jsx("span",{className:"analysis-mode-badge",children:i.mode==="roast"?"Roast Mode":"Normal Mode"})]}),i.score&&g.jsxs("div",{className:"analysis-score",children:[g.jsx("span",{className:"score-value",children:i.score}),g.jsx("span",{className:"score-label",children:"/100"})]}),g.jsxs("div",{className:"analysis-content",children:[i.summary&&g.jsx("div",{className:"analysis-summary",children:g.jsx("p",{children:i.summary})}),i.strengths?.length>0&&g.jsxs("div",{className:"analysis-block strengths",children:[g.jsx("h4",{children:"Strengths"}),g.jsx("ul",{children:i.strengths.map((x,E)=>g.jsx("li",{children:x},E))})]}),i.improvements?.length>0&&g.jsxs("div",{className:"analysis-block improvements",children:[g.jsx("h4",{children:i.mode==="roast"?"What Needs Fixing":"Areas for Improvement"}),g.jsx("ul",{children:i.improvements.map((x,E)=>g.jsx("li",{children:x},E))})]}),i.tips?.length>0&&g.jsxs("div",{className:"analysis-block tips",children:[g.jsx("h4",{children:"Pro Tips"}),g.jsx("ul",{children:i.tips.map((x,E)=>g.jsx("li",{children:x},E))})]})]})]})]}),y&&g.jsxs("section",{className:"profile-section resume-details-section",children:[g.jsxs("div",{className:"section-header",children:[g.jsx("h2",{children:"Resume Details"}),g.jsx(xe,{variant:"secondary",size:"sm",onClick:t,children:"Update"})]}),g.jsxs("div",{className:"resume-content",children:[m.length>0&&g.jsxs("div",{className:`resume-block skills-block ${a.skills?"expanded":"collapsed"}`,children:[g.jsxs("button",{className:"block-header",onClick:()=>d("skills"),children:[g.jsx("svg",{className:"block-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),g.jsx("h3",{children:"Skills"}),g.jsx("span",{className:"block-count",children:m.length}),g.jsx("span",{className:"block-toggle"})]}),a.skills&&g.jsx("div",{className:"block-content",children:g.jsx("div",{className:"skills-grid-view",children:m.map((x,E)=>{const U=typeof x=="string"?x:x?.name||"",S=typeof x=="object"?x?.level:null;return g.jsxs("div",{className:`skill-card ${S?`level-${S.toLowerCase()}`:""}`,children:[g.jsx("span",{className:"skill-name",children:U}),S&&g.jsx("span",{className:"skill-level",children:S})]},E)})})})]}),w.length>0&&g.jsxs("div",{className:`resume-block ${a.experience?"expanded":"collapsed"}`,children:[g.jsxs("button",{className:"block-header",onClick:()=>d("experience"),children:[g.jsxs("svg",{className:"block-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),g.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),g.jsx("h3",{children:"Experience"}),g.jsx("span",{className:"block-count",children:w.length}),g.jsx("span",{className:"block-toggle"})]}),a.experience&&g.jsx("div",{className:"block-content",children:g.jsx("div",{className:"timeline",children:w.map((x,E)=>g.jsxs("div",{className:"timeline-item",children:[g.jsx("div",{className:"timeline-marker"}),g.jsxs("div",{className:"timeline-content",children:[g.jsxs("div",{className:"timeline-header",children:[g.jsx("h4",{children:x?.title||x?.role||"Position"}),(x?.startDate||x?.duration)&&g.jsx("span",{className:"timeline-date",children:x.startDate&&x.endDate?`${x.startDate} - ${x.endDate}`:x.duration})]}),x?.company&&g.jsx("span",{className:"timeline-company",children:x.company}),x?.description&&g.jsx("p",{className:"timeline-desc",children:x.description})]})]},E))})})]}),v.length>0&&g.jsxs("div",{className:`resume-block ${a.education?"expanded":"collapsed"}`,children:[g.jsxs("button",{className:"block-header",onClick:()=>d("education"),children:[g.jsxs("svg",{className:"block-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"}),g.jsx("path",{d:"M6 12v5c3 3 9 3 12 0v-5"})]}),g.jsx("h3",{children:"Education"}),g.jsx("span",{className:"block-count",children:v.length}),g.jsx("span",{className:"block-toggle"})]}),a.education&&g.jsx("div",{className:"block-content",children:g.jsx("div",{className:"education-grid",children:v.map((x,E)=>g.jsxs("div",{className:"education-card",children:[g.jsx("div",{className:"edu-degree",children:x?.degree||x?.field||"Degree"}),x?.school&&g.jsx("div",{className:"edu-school",children:x.school}),x?.year&&g.jsx("div",{className:"edu-year",children:x.year})]},E))})})]}),b.length>0&&g.jsxs("div",{className:`resume-block ${a.certifications?"expanded":"collapsed"}`,children:[g.jsxs("button",{className:"block-header",onClick:()=>d("certifications"),children:[g.jsxs("svg",{className:"block-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"8",r:"6"}),g.jsx("path",{d:"M15.477 12.89L17 22l-5-3-5 3 1.523-9.11"})]}),g.jsx("h3",{children:"Certifications"}),g.jsx("span",{className:"block-count",children:b.length}),g.jsx("span",{className:"block-toggle"})]}),a.certifications&&g.jsx("div",{className:"block-content",children:g.jsx("div",{className:"cert-grid",children:b.map((x,E)=>g.jsxs("div",{className:"cert-badge",children:[g.jsx("span",{className:"cert-check"}),g.jsx("span",{className:"cert-name",children:typeof x=="string"?x:x?.name||""})]},E))})})]})]})]})]})}function uT({onGetStarted:o,onDemo:t}){const e=()=>{document.getElementById("features")?.scrollIntoView({behavior:"smooth"})};return g.jsxs("div",{className:"landing",children:[g.jsx("nav",{className:"landing-nav",children:g.jsxs("div",{className:"landing-nav-inner",children:[g.jsxs("div",{className:"landing-logo",children:[g.jsx("img",{src:"/gaptrack/logo.png",alt:"GapTrack",className:"landing-logo-img"}),g.jsx("span",{className:"landing-logo-text",children:"GapTrack"})]}),g.jsx("button",{className:"landing-cta-btn",onClick:o,children:"Get Started"})]})}),g.jsxs("section",{className:"landing-hero",children:[g.jsxs("div",{className:"landing-hero-content",children:[g.jsxs("h1",{className:"landing-hero-title",children:["Track Your Job Hunt.",g.jsx("br",{}),g.jsx("span",{className:"highlight",children:"Land Your Dream Role."})]}),g.jsx("p",{className:"landing-hero-subtitle",children:"AI-powered job application tracker that identifies skill gaps between your resume and job descriptions. 100% private - your data never leaves your device."}),g.jsxs("div",{className:"landing-hero-actions",children:[g.jsx("button",{className:"landing-btn-primary",onClick:o,children:"Get Started Free"}),g.jsx("button",{className:"landing-btn-demo",onClick:t,children:"Try Demo"}),g.jsx("button",{className:"landing-btn-secondary",onClick:e,children:"Learn More"})]})]}),g.jsx("div",{className:"landing-hero-visual",children:g.jsxs("div",{className:"hero-mockup",children:[g.jsxs("div",{className:"mockup-header",children:[g.jsx("span",{className:"mockup-dot"}),g.jsx("span",{className:"mockup-dot"}),g.jsx("span",{className:"mockup-dot"})]}),g.jsxs("div",{className:"mockup-content",children:[g.jsxs("div",{className:"mockup-sidebar",children:[g.jsx("div",{className:"mockup-nav-item active"}),g.jsx("div",{className:"mockup-nav-item"})]}),g.jsxs("div",{className:"mockup-main",children:[g.jsxs("div",{className:"mockup-card",children:[g.jsx("div",{className:"mockup-title"}),g.jsx("div",{className:"mockup-score good",children:"92%"})]}),g.jsxs("div",{className:"mockup-card",children:[g.jsx("div",{className:"mockup-title"}),g.jsx("div",{className:"mockup-score medium",children:"75%"})]}),g.jsxs("div",{className:"mockup-card",children:[g.jsx("div",{className:"mockup-title"}),g.jsx("div",{className:"mockup-score",children:"--"})]})]})]})]})})]}),g.jsxs("section",{id:"features",className:"landing-features",children:[g.jsxs("div",{className:"landing-section-header",children:[g.jsx("h2",{className:"landing-section-title",children:"Everything You Need"}),g.jsx("p",{className:"landing-section-subtitle",children:"Stop juggling spreadsheets. Get instant insights on every application."})]}),g.jsxs("div",{className:"features-grid",children:[g.jsxs("div",{className:"feature-card",children:[g.jsx("div",{className:"feature-icon feature-icon-gap",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})}),g.jsx("h3",{className:"feature-title",children:"Resume Gap Analysis"}),g.jsx("p",{className:"feature-description",children:"AI compares your resume against job descriptions to find missing skills. Know exactly what to highlight or learn before you apply."})]}),g.jsxs("div",{className:"feature-card",children:[g.jsx("div",{className:"feature-icon feature-icon-track",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),g.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),g.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),g.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),g.jsx("h3",{className:"feature-title",children:"Application Tracking"}),g.jsx("p",{className:"feature-description",children:"Kanban board and list views to track every application. Applied, interviewing, offer, rejected - see your pipeline at a glance."})]}),g.jsxs("div",{className:"feature-card",children:[g.jsx("div",{className:"feature-icon feature-icon-privacy",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),g.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),g.jsx("h3",{className:"feature-title",children:"100% Private"}),g.jsx("p",{className:"feature-description",children:"No sign-up, no cloud, no tracking. Your resume and job data stays on your computer. Sync via Dropbox, iCloud, or Google Drive if you want."})]})]})]}),g.jsxs("section",{className:"landing-how",children:[g.jsxs("div",{className:"landing-section-header",children:[g.jsx("h2",{className:"landing-section-title",children:"How It Works"}),g.jsx("p",{className:"landing-section-subtitle",children:"Three simple steps to supercharge your job search."})]}),g.jsxs("div",{className:"how-steps",children:[g.jsxs("div",{className:"how-step",children:[g.jsx("div",{className:"step-number",children:"1"}),g.jsx("h3",{className:"step-title",children:"Upload Your Resume"}),g.jsx("p",{className:"step-description",children:"Paste or upload your resume. AI extracts your skills, experience, and qualifications."})]}),g.jsx("div",{className:"how-connector"}),g.jsxs("div",{className:"how-step",children:[g.jsx("div",{className:"step-number",children:"2"}),g.jsx("h3",{className:"step-title",children:"Paste Job Descriptions"}),g.jsx("p",{className:"step-description",children:"Add jobs you're interested in. We parse requirements and company details automatically."})]}),g.jsx("div",{className:"how-connector"}),g.jsxs("div",{className:"how-step",children:[g.jsx("div",{className:"step-number",children:"3"}),g.jsx("h3",{className:"step-title",children:"Get Gap Analysis"}),g.jsx("p",{className:"step-description",children:"See match scores, missing skills, and what to emphasize. Track your applications as you go."})]})]}),g.jsx("div",{className:"how-cta",children:g.jsx("button",{className:"landing-btn-primary",onClick:o,children:"Start Tracking Now"})})]}),g.jsxs("footer",{className:"landing-footer",children:[g.jsxs("div",{className:"landing-footer-inner",children:[g.jsxs("div",{className:"footer-brand",children:[g.jsx("img",{src:"/gaptrack/logo.png",alt:"GapTrack",className:"footer-logo-img"}),g.jsx("p",{className:"footer-tagline",children:"Your job search, your data, your device."})]}),g.jsx("div",{className:"footer-links",children:g.jsxs("a",{href:"https://github.com/chaiovercode/gaptrack",target:"_blank",rel:"noopener noreferrer",className:"footer-link",children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:g.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"View on GitHub"]})})]}),g.jsx("div",{className:"footer-bottom",children:g.jsx("p",{children:"Built with privacy in mind. No accounts. No tracking. No cloud."})})]})]})}function Ld({children:o,onBack:t}){return g.jsxs("div",{className:"setup-layout",children:[g.jsx("nav",{className:"setup-nav",children:g.jsxs("div",{className:"setup-nav-inner",children:[g.jsxs("div",{className:"setup-logo",children:[g.jsx("img",{src:"/gaptrack/logo.png",alt:"GapTrack",className:"setup-logo-img"}),g.jsx("span",{className:"setup-logo-text",children:"GapTrack"})]}),t&&g.jsx("button",{className:"setup-back-btn",onClick:t,children:"Back"})]})}),g.jsx("main",{className:"setup-main",children:o}),g.jsx("footer",{className:"setup-footer",children:g.jsxs("div",{className:"setup-footer-inner",children:[g.jsx("p",{children:"Your data never leaves your device."}),g.jsxs("a",{href:"https://github.com/chaiovercode/gaptrack",target:"_blank",rel:"noopener noreferrer",className:"setup-footer-link",children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",children:g.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"View on GitHub"]})]})})]})}const Lw={normal:{mode:"normal",score:78,summary:"Your resume presents a solid full-stack developer profile with strong JavaScript/React expertise. There are opportunities to better highlight leadership experience and quantify achievements.",strengths:["Strong technical foundation in JavaScript, TypeScript, and React","Clear progression from junior to senior roles","Good mix of startup and agency experience","Relevant certifications (AWS, GCP) add credibility"],improvements:["Add more quantified achievements (revenue impact, user growth, etc.)","Include more keywords for ATS optimization","Expand on leadership and mentoring experience","Consider adding a projects or portfolio section"],tips:["Lead with impact metrics in each bullet point","Tailor skills section to match job descriptions","Add links to GitHub, portfolio, or notable projects","Consider a brief professional summary at the top"]},roast:{mode:"roast",score:52,summary:`Oh look, another "Full Stack Developer" who lists every technology they've ever Googled. Your resume reads like a Wikipedia article for web development buzzwords.`,strengths:["At least you spelled JavaScript correctly","You managed to stay employed, which is... something","The certifications show you can pass a multiple choice test"],improvements:['"Built full-stack web applications" - wow, so did every bootcamp grad in 2019','"Reduced page load time by 40%" - from what, 10 seconds to 6? Still terrible.',"Your skills list is longer than your actual experience descriptions",'"Collaborated with design team" - you mean you argued about button colors?'],tips:["Stop listing technologies like you're a human package.json","Actually explain what you built instead of vague corporate speak","One really impressive project beats ten forgettable ones",'Maybe lead with something more exciting than "Senior Software Engineer"']}},hT={applications:[{id:"demo-1",company:"Google",role:"Senior Software Engineer",location:"Mountain View, CA",status:"interview",workType:"hybrid",salary:"$180,000 - $250,000",link:"https://careers.google.com",notes:"Phone screen done. On-site scheduled for next week.",matchScore:87,createdAt:"2024-12-01T10:00:00.000Z",updatedAt:"2024-12-18T14:30:00.000Z"},{id:"demo-2",company:"Stripe",role:"Full Stack Engineer",location:"San Francisco, CA",status:"screening",workType:"remote",salary:"$170,000 - $220,000",link:"https://stripe.com/jobs",notes:"Recruiter reached out on LinkedIn. Scheduled intro call.",matchScore:92,createdAt:"2024-12-05T09:00:00.000Z",updatedAt:"2024-12-15T11:00:00.000Z"},{id:"demo-3",company:"Airbnb",role:"Software Engineer, Frontend",location:"San Francisco, CA",status:"applied",workType:"hybrid",salary:"$160,000 - $200,000",link:"https://careers.airbnb.com",notes:"Applied through referral from college friend.",matchScore:78,createdAt:"2024-12-10T14:00:00.000Z",updatedAt:"2024-12-10T14:00:00.000Z"},{id:"demo-4",company:"Notion",role:"Product Engineer",location:"New York, NY",status:"offer",workType:"remote",salary:"$165,000 - $195,000",link:"https://notion.so/careers",notes:"Offer received! $185k base + equity. Need to decide by Dec 28.",matchScore:95,createdAt:"2024-11-20T08:00:00.000Z",updatedAt:"2024-12-20T16:00:00.000Z"},{id:"demo-5",company:"Figma",role:"Software Engineer",location:"San Francisco, CA",status:"rejected",workType:"hybrid",salary:"$155,000 - $190,000",link:"https://figma.com/careers",notes:"Rejected after final round. Feedback: need more system design experience.",matchScore:72,createdAt:"2024-11-15T10:00:00.000Z",updatedAt:"2024-12-12T09:00:00.000Z"},{id:"demo-6",company:"Vercel",role:"Senior Frontend Engineer",location:"Remote",status:"interview",workType:"remote",salary:"$175,000 - $210,000",link:"https://vercel.com/careers",notes:"Technical interview completed. Waiting for team matching.",matchScore:88,createdAt:"2024-12-03T11:00:00.000Z",updatedAt:"2024-12-19T10:00:00.000Z"},{id:"demo-7",company:"Linear",role:"Full Stack Developer",location:"Remote",status:"applied",workType:"remote",salary:"$150,000 - $180,000",link:"https://linear.app/careers",notes:"Love their product! Applied directly on website.",matchScore:85,createdAt:"2024-12-15T13:00:00.000Z",updatedAt:"2024-12-15T13:00:00.000Z"},{id:"demo-8",company:"Shopify",role:"Senior Developer",location:"Toronto, Canada",status:"withdrawn",workType:"remote",salary:"$140,000 - $175,000 CAD",link:"https://shopify.com/careers",notes:"Withdrew after receiving Notion offer.",matchScore:81,createdAt:"2024-11-25T09:00:00.000Z",updatedAt:"2024-12-21T08:00:00.000Z"}],contacts:[{id:"contact-1",name:"Sarah Chen",company:"Google",role:"Engineering Manager",email:"sarah.chen@example.com",phone:"+1 (555) 123-4567",linkedin:"https://linkedin.com/in/sarahchen",notes:"Met at React Conf 2024. Very helpful with referral.",createdAt:"2024-11-28T10:00:00.000Z",updatedAt:"2024-12-01T10:00:00.000Z"},{id:"contact-2",name:"Mike Rodriguez",company:"Stripe",role:"Senior Recruiter",email:"mike.r@example.com",phone:"+1 (555) 234-5678",linkedin:"https://linkedin.com/in/mikerodriguez",notes:"Reached out via LinkedIn. Quick to respond.",createdAt:"2024-12-04T14:00:00.000Z",updatedAt:"2024-12-05T09:00:00.000Z"},{id:"contact-3",name:"Emily Watson",company:"Notion",role:"Head of Engineering",email:"emily.w@example.com",linkedin:"https://linkedin.com/in/emilywatson",notes:"Final round interviewer. Great conversation about team culture.",createdAt:"2024-12-10T11:00:00.000Z",updatedAt:"2024-12-20T16:00:00.000Z"},{id:"contact-4",name:"David Park",company:"Vercel",role:"Staff Engineer",email:"david.park@example.com",linkedin:"https://linkedin.com/in/davidpark",notes:"College alumni. Helped prep for technical interview.",createdAt:"2024-12-02T15:00:00.000Z",updatedAt:"2024-12-03T11:00:00.000Z"},{id:"contact-5",name:"Lisa Thompson",company:"Airbnb",role:"Technical Recruiter",email:"lisa.t@example.com",phone:"+1 (555) 345-6789",notes:"Referral from college friend. Waiting for her update.",createdAt:"2024-12-09T10:00:00.000Z",updatedAt:"2024-12-10T14:00:00.000Z"}],resume:{name:"Janardan Jakhar",email:"janardan.jakhar@example.com",phone:"+1 (555) 987-6543",location:"San Francisco, CA",summary:"Full Stack Developer with 5+ years of experience building scalable web applications. Passionate about clean code, great UX, and developer tools.",skills:[{name:"JavaScript",level:"Expert"},{name:"TypeScript",level:"Expert"},{name:"React",level:"Expert"},{name:"Node.js",level:"Advanced"},{name:"Python",level:"Advanced"},{name:"PostgreSQL",level:"Advanced"},{name:"AWS",level:"Intermediate"},{name:"Docker",level:"Intermediate"},{name:"GraphQL",level:"Intermediate"},{name:"Redis",level:"Intermediate"}],experience:[{title:"Senior Software Engineer",company:"TechStartup Inc.",startDate:"2022-01",endDate:"Present",description:"Lead frontend architecture for SaaS platform serving 50k+ users. Reduced page load time by 40% through code splitting and optimization."},{title:"Software Engineer",company:"Digital Agency Co.",startDate:"2019-06",endDate:"2021-12",description:"Built full-stack web applications for Fortune 500 clients. Implemented CI/CD pipelines and automated testing."},{title:"Junior Developer",company:"Web Solutions LLC",startDate:"2018-01",endDate:"2019-05",description:"Developed responsive websites and RESTful APIs. Collaborated with design team on UX improvements."}],education:[{degree:"B.S. Computer Science",school:"UC Berkeley",year:"2017"}],certifications:["AWS Certified Developer","Google Cloud Professional"],parsedAt:"2024-11-15T10:00:00.000Z"},settings:{aiProvider:"gemini",geminiApiKey:"demo-key-not-real",goalDate:new Date(Date.now()+336*60*60*1e3).toISOString().split("T")[0]},updatedAt:new Date().toISOString()};function dT(){const{data:o,isLoading:t,error:e,needsSetup:A,setupFileStorage:i,openExistingFile:a,save:l,updateAndSave:c,addApplication:h,deleteContact:d,updateContact:f,isFileSystemSupported:m}=c1(),{parseResume:w,parseJobDescription:v,analyzeGap:b,analyzeResume:y,isProcessing:x,error:E}=Gw(o?.settings),[U,S]=Y.useState(null),[T,_]=Y.useState(!1),[D,F]=Y.useState(!!o);Y.useEffect(()=>{o&&F(!0)},[o]);const O=async()=>{await l({...hT,isDemo:!0}),rt("jobs")},K=o?.isDemo===!0,it=()=>{localStorage.clear(),window.location.reload()},G=()=>{window.history.pushState(null,"",window.location.pathname+window.location.search),rt("jobs")},q=["jobs","contacts","profile","settings"],$=()=>{const yt=window.location.hash.slice(1);return q.includes(yt)?yt:"jobs"},[at,rt]=Y.useState($);Y.useEffect(()=>{if(at==="jobs"){const yt=!window.location.hash||window.location.hash==="#",te=window.location.hash==="#jobs";!yt&&!te&&(window.location.hash="jobs")}else window.location.hash!==`#${at}`&&(window.location.hash=at)},[at]),Y.useEffect(()=>{const yt=()=>{if(!window.location.hash){rt("jobs");return}rt($())};return window.addEventListener("hashchange",yt),()=>window.removeEventListener("hashchange",yt)},[]);const[N,M]=Y.useState("list"),[R,z]=Y.useState(!1),[st,H]=Y.useState(!1),[j,W]=Y.useState(!1),[tt,nt]=Y.useState(null),[ot,lt]=Y.useState(null),St=async yt=>{console.log("Starting resume parse, text length:",yt.length);const te=await w(yt);console.log("Parse result:",te),te.success?(await c("resume",{...te.data,rawText:yt,parsedAt:new Date().toISOString()}),H(!1)):(console.error("Resume parse failed:",te.error),alert("Failed to parse resume: "+(te.error||"Unknown error")))},wt=async yt=>{let te=null;if(o?.resume&&yt.parsedJD){const QA=await b(o.resume,yt.parsedJD);QA.success&&(te=QA.data)}await h({...yt,gapAnalysis:te}),z(!1),lt(null)},ct=async yt=>v(yt),Mt=async(yt,te)=>{const Sn=(o?.applications||[]).map(ds=>ds.id===yt?{...ds,status:te,updatedAt:new Date().toISOString()}:ds);await c("applications",Sn)},Wt=async yt=>{if(window.confirm("Delete this application?")){const te=(o?.applications||[]).filter(QA=>QA.id!==yt);await c("applications",te)}},Ye=async yt=>{lt(yt),z(!0)},ce=async(yt,te)=>{const Sn=(o?.applications||[]).map(ds=>ds.id===yt?{...ds,...te,updatedAt:new Date().toISOString()}:ds);await c("applications",Sn)},qe=async yt=>{tt&&!yt.id&&(yt={...yt,id:tt.id}),await f(yt),j&&(W(!1),nt(null))},xn=async yt=>{await d(yt)},fa=async yt=>{if(!o?.resume)return;if(K){await new Promise(QA=>setTimeout(QA,1e3)),S(Lw[yt]||Lw.normal);return}const te=await y(o.resume,yt);te.success?S(te.data):alert("Failed to analyze resume: "+(te.error||"Unknown error"))};if(t)return g.jsx(Ld,{children:g.jsx(ed,{children:g.jsx(WA,{padding:"lg",className:"text-center",children:g.jsx("p",{className:"text-lg",children:"Loading..."})})})});if(A&&!T)return g.jsx(uT,{onGetStarted:()=>_(!0),onDemo:O});if(A&&!D)return g.jsx(Ld,{onBack:()=>_(!1),children:g.jsx(ed,{size:"sm",children:g.jsxs(WA,{padding:"lg",children:[g.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Choose Where to Save"}),g.jsx("p",{className:"text-light mb-6",children:"Your data stays on your computer. Pick a folder to store it:"}),e&&g.jsx("div",{className:"mb-4 p-4 text-error",style:{background:"var(--color-error-light)",borderRadius:"var(--radius-md)"},children:e}),m?g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsx(xe,{variant:"primary",size:"lg",className:"w-full",onClick:i,children:"Create New GapTrack Folder"}),g.jsx(xe,{variant:"secondary",size:"lg",className:"w-full",onClick:a,children:"Open Existing Folder"}),g.jsxs("p",{className:"text-sm text-light text-center mt-4",children:["Your data is saved locally in your browser.",g.jsx("br",{}),"Optionally sync to a folder for backup."]})]}):g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsx("p",{className:"text-sm text-light",children:"Your data will be saved in your browser's local storage."}),g.jsx(xe,{variant:"primary",size:"lg",className:"w-full",onClick:i,children:"Get Started"})]})]})})});if(!o?.settings?.aiProvider){const yt=async te=>{await c("settings",te)};return g.jsx(Ld,{children:g.jsx(ed,{size:"sm",children:g.jsx(WA,{padding:"lg",children:g.jsx(a0,{settings:o?.settings,onSave:yt})})})})}return g.jsxs(r1,{currentView:at,onNavigate:rt,resumeExists:!!o?.resume,applicationCount:o?.applications?.length||0,viewMode:N,onViewModeChange:M,isDemo:K,onLogoClick:G,onExitDemo:it,children:[at==="jobs"&&g.jsx(lT,{jobs:o?.applications||[],contacts:o?.contacts||[],viewMode:N,goalDate:o?.settings?.goalDate,onUpdateGoalDate:async yt=>{await c("settings",{...o?.settings,goalDate:yt})},onAddJob:()=>{lt(null),z(!0)},onStatusChange:Mt,onDeleteJob:Wt,onEditJob:Ye,onUpdateJob:ce}),at==="contacts"&&g.jsx(_x,{contacts:o?.contacts||[],onAddContact:()=>{nt(null),W(!0)},onEditContact:yt=>{nt(yt),W(!0)},onDeleteContact:xn,onSaveContact:qe}),at==="profile"&&g.jsx(cT,{resume:o?.resume,onUpdateResume:()=>H(!0),onAnalyzeResume:fa,isAnalyzing:x,analysisResult:U}),at==="settings"&&g.jsx("div",{className:"settings-page",children:g.jsx(a0,{settings:o?.settings,onSave:async yt=>{await c("settings",yt)},onResetApp:it})}),g.jsx(Tr,{isOpen:st,onClose:()=>H(!1),title:o?.resume?"Update Resume":"Upload Resume",size:"lg",children:g.jsx(bx,{onParse:St,isProcessing:x,error:E})}),g.jsx(Tr,{isOpen:j,onClose:()=>{W(!1),nt(null)},title:tt?"Edit Contact":"Add Contact",size:"md",children:g.jsx(Qx,{contact:tt,onSave:qe,onCancel:()=>{W(!1),nt(null)}})}),g.jsx(Tr,{isOpen:R,onClose:()=>{z(!1),lt(null)},title:ot?"Edit Application":"Add Application",size:"lg",children:g.jsx(Sx,{job:ot,contacts:o?.contacts||[],resume:o?.resume,onSubmit:wt,onParseJD:ct,analyzeGap:b,isProcessing:x,error:E})})]})}i1.createRoot(document.getElementById("root")).render(g.jsx(Y.StrictMode,{children:g.jsx(dT,{})}));
